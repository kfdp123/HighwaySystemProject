<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Use correct character set. -->
  <meta charset="utf-8">
  <!-- Tell IE to use the latest, best version. -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- Make the application on mobile take up the full browser screen and disable user scaling. -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">

	<title>GITR</title>
	<!-- loading -->
	<!--
	<link href="css/loading.css" rel="stylesheet" type="text/css" />
	<script type="text/javascript">
	var _LoadingHtml ="<div class='containerAll'><div  class='center-in-center'><div id='panel' ><img src='loading.gif'/></span></div></div></div>";	
     document.write(_LoadingHtml);     
	 window.onload=function(){
	 var loadingMask = document.getElementsByClassName('containerAll')[0];  
		loadingMask.parentNode.removeChild(loadingMask); 
		}
</script>
-->
	<script type="text/javascript" src="/static/earthlib/scripts/CesiumUnminified1.54/Cesium.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/jquery-2.1.0.min.js" type="text/javascript"></script>
	<script src="/static/earthlib/lib/js/bootstrap.js"></script>
	<script src="/static/earthlib/lib/js/moment-with-locales.js"></script>
	<script src="/static/earthlib/lib/js/bootstrap-datetimepicker.min.js"></script>
	<script src="/static/earthlib/lib/js/bootstrap-datetimepicker.zh-CN.js"></script>
	
	<!-- <script type="text/javascript" src="scripts/jquery-3.4.1.min.js" type="text/javascript"></script> -->
	<script type="text/javascript" src="/static/earthlib/scripts/jquery.js" type="text/javascript"></script>
	
	<script type="text/javascript" src="/static/earthlib/scripts/bootstrap.min.js"></script>
    <script type="text/javascript" src="/static/earthlib/scripts/bootstrap-treeview.js"></script>
    <script type="text/javascript" src="/static/earthlib/scripts/echarts.min.js"></script>
	
	<script type="text/javascript" src="/static/earthlib/scripts/CesiumVectorTile.min.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/CesiumVectorTile.js"></script>

	<link href="/static/earthlib/lib/css/bootstrap.css" type="text/css" rel="stylesheet"/>
	<link href="/static/earthlib/lib/css/bootstrap-datetimepicker.min.css" type="text/css" rel="stylesheet"/>

	
   <!--  <script src="scripts/jquery.min.js" type="text/javascript"></script> --> 
 	<script src="/static/earthlib/scripts/widgets.css" rel="stylesheet" type="text/css"></script>
	
	<script type="text/javascript" src="/static/earthlib/scripts/jquery-ui.min.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/jquery.form.js"></script>
    <script type="text/javascript" src="/static/earthlib/scripts/radar/Chart.bundle.js"></script>
    <script type="text/javascript" src="/static/earthlib/scripts/radar/utils.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/radar/radar.js"></script>
    <script type="text/javascript" src="/static/earthlib/scripts/navigator/viewerCesiumNavigationMixin.min.js"></script>
    <script type="text/javascript" src="/static/earthlib/scripts/navigator/SpirographPositionProperty.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/oblique.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/3dmodel.js"></script>
    <!-- <script src="css/Aimara.js" type="text/javascript"></script> -->
    <!-- <script src="css/tool.js"></script>  -->
    <!-- <script type="text/javascript" src="./css/leftnav.js"></script> -->
  	<script type="text/javascript" src="/static/earthlib/scripts/date_format.js" ></script>
	<script type="text/javascript" src="/static/earthlib/scripts/roundslider.min.js" ></script>
	<script type="text/javascript" src="/static/earthlib/scripts/jquery.easyui.min.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/easyui-lang-zh_CN.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/jquery.ztree.core.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/jquery.ztree.excheck.js"></script>
    <script type="text/javascript" src="/static/earthlib/scripts/datagrid-scrollview.js"></script>
    <script type="text/javascript" src="/static/earthlib/scripts/datagrid-groupview.js" ></script>
	
	
	<script type="text/javascript" src="/static/earthlib/scripts/amcharts.js" ></script>
    <script type="text/javascript" src="/static/earthlib/scripts/serial.js" ></script>
    <script type="text/javascript" src="/static/earthlib/scripts/amstock.js" ></script>
    <script type="text/javascript" src="/static/earthlib/scripts/plugins/export/export.js"></script>
    <script type="text/javascript" src="/static/earthlib/scripts/plugins/export/lang/zh.js"></script>
    <script type="text/javascript" src="/static/earthlib/scripts/zh.js"></script>
    <script type="text/javascript" src="/static/earthlib/scripts/jsspcacode.js" ></script>
    <script type="text/javascript" src="/static/earthlib/scripts/jsrainsnow.js" ></script>

	<script type="text/javascript" src="/static/earthlib/scripts/jquery.easyui.mobile.js"></script>

	
	<link href="/static/earthlib/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="/static/earthlib/css/bootstrap-treeview.css" rel="stylesheet" type="text/css"/>
  

  
	<link href="/static/earthlib/themes/material/easyui.css"rel="stylesheet" type="text/css"  />
	<link href="/static/earthlib/themes/icon.css" rel="stylesheet" type="text/css" />
	
	<link href="/static/earthlib/themes/demo.css" rel="stylesheet" type="text/css"  />
	
	<link href="/static/earthlib/css/slide.css" rel="stylesheet" type="text/css" />
    <link href="/static/earthlib/css/amchartstyle.css" rel="stylesheet" type="text/css" />
    <link href="/static/earthlib/scripts/plugins/export/export.css" rel="stylesheet" type="text/css"/>
    <!-- 测量管理引用文件 -->
	<!-- <link rel="stylesheet" type="text/css" href="http://www.jeasyui.com/easyui/themes/default/easyui.css">
	<link rel="stylesheet" type="text/css" href="http://www.jeasyui.com/easyui/themes/icon.css">
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.6.1.min.js"></script>
	<script type="text/javascript" src="http://www.jeasyui.com/easyui/jquery.easyui.min.js"></script> -->
	
	
	
    <link href="/static/earthlib/css/jquery-ui.min.css" rel="stylesheet" />
   <!--  <link href="./css/leftnav.css" rel="stylesheet" /> -->
	<link href="/static/earthlib/scripts/navigator/navigatior.css"rel="stylesheet" type="text/css"  />
	<link href="/favicon.ico" rel="shortcut icon" >
	<link href="/static/earthlib/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
	<link href="/static/earthlib/css/main.css" rel="stylesheet" type="text/css"/>
	<link href="/static/earthlib/css/main2.css" rel="stylesheet" type="text/css"/>
	
  	<!-- <link rel="stylesheet" href="./css/right-click.css">  -->
    <link href="/static/earthlib/css/tool.css" rel="stylesheet" />
    <link href="/static/earthlib/css/menu.css" rel="stylesheet" />
	<!-- <link rel="stylesheet" type="text/css" href="css/Aimara.css"> -->
	<link rel="stylesheet" href="/static/earthlib/zTree_v3/css/demo.css" type="text/css">
	<link rel="stylesheet" href="/static/earthlib/zTree_v3/css/zTreeStyle/zTreeStyle.css" type="text/css">
	
<style type="text/css">
   .ulstyle{display:none;}
   .anglyst{width:100px;height:30px;float:left;color:white;font-size:12px;}
   .varanalyst{list-style:none;width:100px;height:30px;color:white;text-align:center;line-height:30px;}
 
	.divpadding {
		margin: 7px;
	}
	.btn100 {
		width: 100%;
		text-align: left;
	}
	.datetimepicker{
		top:375px !important;
		left:270px !important;
	}
	#play{
		display:"";
		height:16px;
	}
	#pause{
		height:16px;
	}
	.dropdown-menu{
		min-width:120px;
	}
	.dropdown-menu > li{
		display:list-item;
		line-height:initial;
		text-align:-webkit-left;
	}
	.dropdown-menu > li > a{
		height:100%;
	}
	.varanalyst:hover{background-color:gray;}
	.navbar-brand{font-family:"楷体";font-size:30px;font-weight:bold;}
	.modal{background-color:transparent;}
	

</style>

</head>

<body>

  <div id="cesiumContainer" > 
   <canvas id="canvas_wind"  style="position:absolute;z-index:5;pointer-events:none"></canvas>
	 <canvas id="canvas_label"  style="position:absolute;z-index:5;pointer-events:none"></canvas> 
	 <div id="move" style="position:absolute;bottom:0px;left:0px;width:200px;height:100px;z-index:1000;display:none;">
        <video id="media" src="mov_bbb.mp4" loop width="100%" height="100%"></video>  
     </div> 
 	<div id="slider_wind" style="position:absolute;z-index:99;width:500px;right:200px;bottom:40px;"></div>
   <!-- 点线面设置 -->
<div id="draw_set" >
<div id="draw_set_logo" >
<span style="float:left;margin-left:10px;width:200px;heigth:30px;line-height:30px;">点线面设置</span>
</div>
<form id="draw_set_form">
&nbsp;&nbsp;&nbsp;<font color="white" size=2;>点设置</font>
<h1></h1>
&nbsp;&nbsp;&nbsp;<font color="white" size=2;>点名称</font><input style="width:105px;" id="point_name" value="火点"  type="text">
&nbsp;&nbsp;&nbsp;<font color= "white" size=2;>点大小</font><input style="width:105px;" id="point_size" value="15px"  type="text"></br>
&nbsp;&nbsp;&nbsp;<font color="white" size=2;>点颜色</font><input style="width:105px;" id="point_color" value="#EE0000" type="color">
<h1></h1>
&nbsp;&nbsp;&nbsp;<font color="white" size=2;>线设置</font>
<h1></h1>
&nbsp;&nbsp;&nbsp;<font color="white" size=2;>线名称</font><input style="width:105px;" id="poline_name" value="飞行轨迹"  type="text">
&nbsp;&nbsp;&nbsp;<font color= "white" size=2;>线宽度</font><input style="width:105px;" id="poline_size" value="15px"  type="text"></br>
&nbsp;&nbsp;&nbsp;<font color="white" size=2;>线颜色</font><input style="width:105px;" id="poline_color" value="#EE0000" type="color">
<h1></h1>
&nbsp;&nbsp;&nbsp;<font color="white" size=2;>线设置</font>
<h1></h1>
&nbsp;&nbsp;&nbsp;<font color="white" size=2;>面名称</font><input style="width:105px;" id="poligon_name" value="火场"  type="text">
&nbsp;&nbsp;&nbsp;<font color= "white" size=2;>面大小</font><input style="width:105px;" id="poligon_size" value="50平方千米"  type="text"></br>
&nbsp;&nbsp;&nbsp;<font color="white" size=2;>面颜色</font><input style="width:105px;" id="poligon_color" value="#EE0000" type="color">
<h1></h1>
<input  style="margin-left:100px;margin-top:20px;" type="button" value="确定" onclick="draw_cal()">
<input style="margin-left:120px;margin-top:20px;" type="button" value="取消" onclick="draw_cancel()">
</form>
</div>		 
   <!-- 样式设置 -->
<div id="style_set" >
<div id="style_set_logo" >
<span style="float:left;margin-left:10px;width:200px;heigth:30px;line-height:30px;">样式设置</span>
</div>
<form id="style_set_form">
&nbsp;&nbsp;&nbsp;<font color= "white" size=2;>填充颜色</font>&nbsp;&nbsp;&nbsp;&nbsp;<input style="width:100px;" id="fill_color" value="#EE0000" type="color">
<h1></h1>
&nbsp;&nbsp;&nbsp;<font color="white" size=2;>外边框颜色</font>&nbsp;<input style="width:100px;" id="border_color" value="#EE0000" type="color">
<h1></h1>
&nbsp;<font color="white" size=2;>&nbsp;&nbsp;字体颜色</font>&nbsp;&nbsp;&nbsp;&nbsp;<input style="width:100px;" id="font_color" value="#76EE00" type="color"><br/>
<h1></h1>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="white" size=2;>字体大小</font>&nbsp;&nbsp;&nbsp;<input style="width:105px;" id="font_size" value=""  type="text">
<h1></h1>
<input  style="margin-left:60px;" type="button" value="确定" onclick="set_cal()">
<input style="margin-left:50px;" type="button" value="取消" onclick="set_cancel()">
</form>
</div>

 
     <!-- 雷达设置弹框 --> 
 <!-- <div id="lat_long" >
<div id="latlong_logo" >
<span style="float:left;margin-left:10px;width:200px;height:30px;line-height:30px;">雷达定位坐标</span>
</div>
<form id="latlong_form">
&nbsp;&nbsp;&nbsp;<font color= "white" size=2;>雷达高度</font><input id="height" value="100" type="text">
<h1></h1>
&nbsp;&nbsp;&nbsp;<font color="white" size=2;>视场(m)</font><input id="scope" value="10000" type="text">
<h1></h1>
&nbsp;<font color="white" size=2;>&nbsp;&nbsp;可见区域</font>&nbsp;&nbsp;&nbsp;&nbsp;<input style="width:100px;" id="color1" value="#76EE00" type="color"><br/>
<h1></h1>
&nbsp;&nbsp;<font color="white" size=2;>不可见区域</font>&nbsp;&nbsp;<input style="width:100px;" id="color2" value="#EE0000"  type="color">
<h1></h1>
<input  style="margin-left:60px;" type="button" value="确定" onclick="radar_ok()">
<input style="margin-left:50px;" type="button" value="取消" onclick="radar_cancel()">
</form>
</div> -->
<!-- 雷达设置弹框22 --> 
<div id="lat_long22" >
<div id="latlong_logo22" >
<span style="float:left;margin-left:10px;width:200px;height:30px;line-height:30px;">雷达定位坐标</span>
</div>
<form id="latlong_form22">
&nbsp;<font color="white" size=2;>雷达高度：</font>&nbsp;&nbsp;<input id="radar_height" type="text">
<h1></h1>
&nbsp;<font color="white" size=2;>雷达范围：</font>&nbsp;&nbsp;<input id="radar_range" type="text">
<h1></h1>
<h1></h1>
<input  style="margin-left:60px;" type="button" value="确定" onclick="data22()">
<input style="margin-left:50px;" type="button" value="取消" onclick="cancel22()">
</form>
</div>

  <!-- 八仙山季节影像切换面板 -->
  <div id='bxs_div' style="right:150px;top:70px;width:100px;height:50px;position:absolute;z-index:200;display:none;">
	<input style="width:100px;height:50px;" type="button" value="动态演示" onclick='bxsDT()'>
  </div>
  <!-- 大兴安岭火灾模拟切换面板 -->
  <div id='dxal_div' style="right:150px;top:70px;width:100px;height:50px;position:absolute;z-index:200;display:none;">
	<input style="width:100px;height:50px;" type="button" value="动态演示" onclick='dxalDT()'>
  </div>
<!-- 三台县土地查询取消面板 -->
  <div id='santaiSear_div' style="right:150px;top:70px;width:100px;height:50px;position:absolute;z-index:200;display:none;">
	<input style="width:100px;height:50px;" type="button" value="查询取消" onclick='santai_search()'>
  </div>
  <!-- 航拍拼接控制面板 -->
  <div id='hangpai_div' style="right:150px;top:70px;width:100px;height:50px;position:absolute;z-index:200;display:none;">
	<input style="width:100px;height:50px;" type="button" value="取消" onclick='hangpai_cancel()'>
  </div>
<!-- 气象控制面板 -->
 <!-- <canvas id="qixiang_canvas" style="z-index:999;position: absolute;pointer-events:none;top:0;left:0;"></canvas>
<div id="qixiang_dupeng" class="row" style="position: absolute;bottom:0px;left:0px;width:100%;height:20%;margin-right: 0;margin-left:0;line-height: 10;display:none;z-index:999">
    <div class="col-lg-2">
        <div class="btn-group" role="group" style="cursor:pointer;">
            <a id="last"><span class="glyphicon glyphicon-backward"></span>上一个</a>
            <a id="play"><span class="glyphicon glyphicon-play"></span>播放</a>
            <a id="pause" style="display: none;"><span class="glyphicon glyphicon-pause"></span>暂停</a>
            <a id="next"><span class="glyphicon glyphicon-forward" ></span>下一个</a>
        </div>
    </div>
    <div class="col-lg-5" style="top:36.6%">
        <a class='input-group date' id='datetimepicker1'>
            <input type='text' class="form-control" id='nowdate' style="width: 150px; height: 30px;"/>
            <span class="input-group-addon" style="float: left; width: 50px; height: 30px;">
                <span class="glyphicon glyphicon-calendar"></span>
            </span>
        </a>
    </div>
    <div class="col-lg-5">
        <div class="btn-group dropup">
            <button type="button" class="btn btn-default" id="attrBtn">请选择类型</button>
            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                <span class="caret"></span>
                <span class="sr-only">Toggle Dropdown</span>
            </button>
            <ul class="dropdown-menu">
                <li><a href="#">气温</a></li>
                <li><a href="#">气压</a></li>
                <li><a href="#">降水量</a></li>
                <li><a href="#">湿度</a></li>
                <li><a href="#">比湿</a></li>
            </ul>
        </div>
    </div>
</div> -->
<!--<div id="qixiang_chazhi" class="row" style="position: absolute;bottom:0px;left:0px;width:100%;height:20%;margin-right: 0;margin-left:0;line-height: 10;display:none;z-index:999">
    <div class="col-lg-5" style="top:36.6%">
        <a class='input-group date' id='datetimepicker2'>
            <input type='text' class="form-control" id='chazhi_nowdate' style="width: 150px; height: 30px;"/>
            <span class="input-group-addon" style="float: left; width: 50px; height: 30px;">
                <span class="glyphicon glyphicon-calendar"></span>
            </span>
        </a>
    </div>
    <div class="col-lg-5">
        <div class="btn-group dropup">
            <button type="button" class="btn btn-default" id="chazhi_attrBtn">请选择类型</button>
            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                <span class="caret"></span>
                <span class="sr-only">Toggle Dropdown</span>
            </button>
            <ul class="dropdown-menu">
                <li><a href="#">气温</a></li>
                <li><a href="#">气压</a></li>
                <li><a href="#">降水量</a></li>
                <li><a href="#">湿度</a></li>
                <li><a href="#">比湿</a></li>
            </ul>
        </div>
    </div>
</div> -->
<!-- 气象控制面板new -->
	<canvas id="qixiang_canvas" style="z-index:5;position: absolute;pointer-events:none;top:0;left:0;"></canvas>
	<div id='qixiangWindow' class="easyui-window" title='气象控制面板' style="padding:10px 40px;width:300px;height:150px;">
	选择日期：<input id="qxdatePick" style='width:60%;' type="text" class="easyui-datebox" required="required"><p></p>
	数据类型：<select id="qixiangSelect" class="easyui-combobox" name="dept" style="width:60%;">
				<option>气温</option>
				<option>气压</option>
				<option>降水量</option>
				<option>湿度</option>
				<option>比湿</option>
				<option>风场</option>
			   </select><br/>
			   <table style="width:100%;">
				 <tbody>
				   <tr style="width:100%;text-align:center;padding:0px 20px;">
					 <td>
					   <span style='width:20%'>静态：</span><input id="qxjtControl" type="radio"  value="male" name='actionChoose' style='width:30%'/>
					 </td>
					 <td>
					  <span style='width:20%'>动态：</span><input id='qxdtControl' type="radio"   value="female" name='actionChoose' style='width:30%'/> 
					 </td>
				   </tr>
				 </tbody>
			   </table>
			<a id="qxAdd" href="#" class="easyui-linkbutton" data-options="iconCls:'icon-search'">确认</a>
			<a id="qxRemove" href="#" class="easyui-linkbutton" data-options="iconCls:'icon-search'">取消</a>		   
	</div>
	<div id='dongtaiQX' class="easyui-window" title='气象动态控制面板' style="width:250px;height:130px;">
		<table  style="width:100%;height:50px;">
		  <tbody>
			<tr>
			   <td style='text-align:center;' id="last">
				  <i class="fa fa-arrow-left fa-lg" title="上一天" onmouseover=""></i>  
			   </td>
			   <td style='text-align:center;' id="play">
				  <i class="fa fa-play fa-lg" title="播放"></i>
			   </td>
			   <td style="text-align:center;display:none" id="pause">
				  <i class="fa fa-pause fa-lg" title="暂停"></i>
			   </td>
			   <td style='text-align:center;' id="next">
				 <i class="fa fa-arrow-right fa-lg" title="下一天"></i>
			   </td>
			</tr>
			<tr><label id="qxdtDate"></label></tr><br>
			<tr><label id="qxdtType"></label></tr>
		  </tbody>
		</table> 
	</div>
  <!-- 位置查询 -->
  <div id='army_div' style="right:150px;top:70px;width:230px;height:25px;position:absolute;z-index:200;display:none;">
	<input style="width:70px;height:25px;" type="button" value="实时定位" onclick='nowLocation();ssdw_gjcx_num=2;'>
	<input style="width:70px;height:25px;" type="button" value="轨迹查询" onclick='pastLocation();ssdw_gjcx_num=3;'>
	<input style="width:70px;height:25px;" type="button" value="取消" onclick='army_divCancel()'>
  </div>
  <!-- 军队位置服务 -->
  <div id='content_wrap' class="content_wrap" style='position:absolute;display:none;bottom:15px;right:100px;z-index:200;'>
	<div class="zTreeDemoBackground left">
		<ul id="treeDemo" class="ztree"></ul>
	</div>
	<div style='width:232px;height:50px;position:absolute;bottom:0px;text-align:center;line-height:50px;'>
	    <input type='button' style='width:232px;height:50px;' value='取      消' onclick='cancelLocation()'/>
		<!-- <input type='button' value='实时定位' onclick='ssdw_gjcx_num=1;updatePosi();'/>&nbsp;&nbsp;&nbsp;<input type='button' value='轨迹查询' onclick='upGuiji();ssdw_gjcx_num=3;'/>&nbsp;&nbsp;<input type='button' value='取      消' onclick='cancelLocation()'/> -->
	</div>
</div>
<!-- 军队位置服务历史轨迹查询框 -->
<div id='form_id' style='position:absolute;z-index:200;width:300px;height:150px;border:4px solid rgba(255,255,255,0.2);display:none;background-color:white;'>
   <div style='position:absolute;width:300px;height:50px;top:0px;background-color:#1ABC9C;color:white;font-size:20px;text-align:center;font-weight:bold;line-height:50px;'>历史轨迹查询日期选择器</div>
   <div style='position:absolute;top:50px;width:300px;height:50px;text-align:center;line-height:50px;'>
       <span style='font-size:15px;'>日期选择：</span>&nbsp;&nbsp;&nbsp;<input id='getTimer' type='date'/>
   </div>
   <div style='position:absolute;bottom:0px;width:300px;height:50px;text-align:center;line-height:50px;'>
      <input  type='button' style='background-color:#1ABC9C;width:50px;height:30px;color:white;' value='确定' onclick='guijiSure()' />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input  type='button' style='background-color:#1ABC9C;width:50px;height:30px;color:white;' value='取消' onclick='guijiCan()' />
   </div>
</div>
  <!-- 河南信阳数据切换 -->
  <div id='hnxy_div' style="right:80px;top:20px;width:315px;height:50px;position:absolute;z-index:200;display:none;">
    <input style="width:100px;height:50px;" type="button" value="正射影像" onclick='hnxyImg()'>
	<input style="width:100px;height:50px;" type="button" value="多光谱影像" onclick='hnxyDgp()'>
	<input style="width:100px;height:50px;" type="button" value="坡度等级" onclick='hnxySlope()'> 
  </div>
  <!-- 四川三台县影像切换面板 -->
  <!-- 河南信阳影像切换面板 -->
<!-- 雷达遮蔽角折线图和极地图  -->
	<div id='radarZBJID' class="easyui-window" title='雷达遮蔽角'>
	    <canvas id="canvas-line" style="width:430px;height:250px;"></canvas> <br/>
		<a id="btn_plline"  href="#" class="easyui-linkbutton"  style="width:100%;height:28px;"  onclick="radar_plline_draw()">遮蔽角折线图</a>
		<a id="btn_polar" href="#" class="easyui-linkbutton"  style="width:100%;height:28px;" onclick="radar_polar_draw()">遮蔽角雷达图</a>
	</div>
	
	<!-- 高程折线图 -->
    <!-- <div id="drawpicture2" style="display:none;bottom:0px;right:0px;width:600px;height:420px;border:2px solid green;position:absolute;z-index:1;background-color:white;" >      
            <canvas id="canvas-line2" style="width:600px;height:300px;"></canvas> <br/>
			<input id="btn_cancel2" style="margin-left:30px;height:30px;width:80px;margin-top:30px;" type="button" value="取   消" onclick="radar_line_cancel2()"/>
    </div> -->	
	<div id='attiPMID' class="easyui-window" title='两点间高程剖面'>
	     <canvas id="canvas-line2" style="width:430px;height:250px;"></canvas> <br/>
	</div>
  
  </div>
  <!--用户登录页面 -->
  <!-- 
  <div id="select" class="overlay">
	  <div class="login">
		  <h1>用户登录</h1>
		  <form class="form" method='' action='#'>
			  <p class="field" >
				  <input type="text" id="login" style="float:left;width:270px;height:44px;" placeholder="Username" value="GITR" required />
				  <i class="fa fa-user fa-2x" style="float:left;"></i>
			  </p>
			  <p class="field" style="float:left;">
				  <input type="password" id="password" style="float:left;width:270px;height:44px;" placeholder="Password" required/>
				  <i class="fa fa-unlock-alt" style="float:left;"></i>
			  </p>
			  <p class="submit" ><input type="button" name="sent" value="登录" onclick="f_login()"></p>
          </form>
	  </div>
	</div> 
  -->
  <!-- 左侧菜单 -->
  <a id="navi" title="图层" style='position:absolute;z-index:2;width:46px;height:46px;left:10px;top:10px;'>
	     <i class="fa fa-list fa-2x " aria-hidden="true"></i>		 
  </a>
  <div id="left_toc" class="easyui-panel"  style="position:absolute;top:60px;left:18px;z-index:3;width:250px;height:900px;border:1px solid #444444;padding:3px;background-color:rgba(255,255,255,0.15);">
			<ul id="leftTree" style="box-sizing:border-box;padding-top:5px;padding-left:8px;" class="easyui-tree" data-options="url:'/static/earthlib/easyui/tree_data123.json',
                method:'get',
                animate:true,
                dnd:true,
                checkbox:true,
                lines:true,
                onlyLeafCheck:true">
             </ul>
		</div>

<!-- 查询表格显示 -->
<div class="modal fade in" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content" style='right:-350px;margin-left: 200px;color:black;'>
      <div class="modal-header" style='background-color:transparent;'>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">管网信息查询</h4>
      </div>
      <div id='objectContent' class="modal-body"> 
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
  
<!-- 天津市建筑面积 -->
<div id='tjtdChangeWindow' class="easyui-window" title='天津城市扩张变化控制台' style="width:320px;height:90px;">
  <table style="width:300px;height:40px;">
    <tbody>
      <tr style='text-align:center;'>
	     <td style="text-align:center;width:76px;height:37px;vertical-align:middle;">
            <button  id='tjtd_play'  style="width:100%;height:28px;line-height:28px;" ><i id='tjtdBP' class="fa fa-play fa-lg" style='color:black;margin-top:-5px;' ></i></button>
		 </td>
		 <td style="text-align:center;width:140px;height:37px;vertical-align:middle;">
		     <input id="tjtd_slider" type="range" min="1975" max="2015" step="5" value="1975">
		 </td>
		 <td style="text-align:center;width:76px;height:37px;vertical-align:middle;">
		     <input id="tjtd_text" style="width:60px;height:25px;" type="text" value="1975">
		 </td>
      </tr>
    </tbody>
  </table>
</div>
<!-- 天津市水域面积 -->
<div id='tjsyChangeWindow' class="easyui-window" title='天津水域缩减变化控制台' style="width:320px;height:90px;">
  <table style="width:300px;height:40px;">
    <tbody>
      <tr style='text-align:center;'>
	     <td style="text-align:center;width:76px;height:37px;vertical-align:middle;">
            <button  id='tjsy_play'  style="width:100%;height:28px;line-height:28px;" ><i id='tjsyBP' class="fa fa-play fa-lg" style='color:black;margin-top:-5px;' ></i></button>
		 </td>
		 <td style="text-align:center;width:140px;height:37px;vertical-align:middle;">
		     <input id="tjsy_slider" type="range" min="1980" max="2015" step="5" value="1980">
		 </td>
		 <td style="text-align:center;width:76px;height:37px;vertical-align:middle;">
		     <input id="tjsy_text" style="width:60px;height:25px;" type="text" value="1980">
		 </td>
      </tr>
    </tbody>
  </table>
</div>
<!-- 降水动态模拟 -->
<div id='CNJiangshuiChangeWindow' class="easyui-window" title='中国降水变化控制台' style="width:320px;height:90px;">
  <table style="width:300px;height:40px;">
    <tbody>
      <tr style='text-align:center;'>
	     <td style="text-align:center;width:76px;height:37px;vertical-align:middle;">
            <button  id='cnjs_play'  style="width:100%;height:28px;line-height:28px;" ><i id='cnjsBP' class="fa fa-play fa-lg" style='color:black;margin-top:-5px;' ></i></button>
		 </td>
		 <td style="text-align:center;width:140px;height:37px;vertical-align:middle;">
		     <input id="cnjs_slider" type="range" min="1961" max="2016" step="1" value="1961">
		 </td>
		 <td style="text-align:center;width:76px;height:37px;vertical-align:middle;">
		     <input id="cnjs_text" style="width:60px;height:25px;" type="text" value="1961">
		 </td>
      </tr>
    </tbody>
  </table>
</div>
<!-- 气温动态模拟 -->
<div id='CNQiwenChangeWindow' class="easyui-window" title='中国气温变化控制台' style="width:320px;height:90px;">
  <table style="width:300px;height:40px;">
    <tbody>
      <tr style='text-align:center;'>
	     <td style="text-align:center;width:76px;height:37px;vertical-align:middle;">
            <button  id='cnqw_play'  style="width:100%;height:28px;line-height:28px;" ><i id='cnqwBP' class="fa fa-play fa-lg" style='color:black;margin-top:-5px;' ></i></button>
		 </td>
		 <td style="text-align:center;width:140px;height:37px;vertical-align:middle;">
		     <input id="cnqw_slider" type="range" min="1961" max="2016" step="1" value="1961">
		 </td>
		 <td style="text-align:center;width:76px;height:37px;vertical-align:middle;">
		     <input id="cnqw_text" style="width:60px;height:25px;" type="text" value="1961">
		 </td>
      </tr>
    </tbody>
  </table>
</div>
<!-- 气温动态模拟 -->
 <!--八仙山季节控制面板 -->
 <div id='bxsChangeWindow' class="easyui-window" title='八仙山季节动态变化控制台' style="width:320px;height:90px;">
<table style="width:300px;height:40px;">
    <tbody>
      <tr style='text-align:center;'>
	     <td style="text-align:center;width:76px;height:37px;vertical-align:middle;">
            <button  id='bxs_play'  style="width:100%;height:28px;line-height:28px;" ><i id='bxsBP' class="fa fa-play fa-lg" style='color:black;margin-top:-5px;' ></i></button>
		 </td>
		 <td style="text-align:center;width:140px;height:37px;vertical-align:middle;">
		     <input id="bxs_slider" type="range" min="1" max="3" step="1" value="1">
		 </td>
		 <td style="text-align:center;width:76px;height:37px;vertical-align:middle;">
		     <input id="bxs_text" style="width:60px;height:25px;" type="text" value="1">
		 </td>
      </tr>
    </tbody>
  </table>
</div>
<!--火灾模拟控制面板 -->
 <div id='fireChangeWindow' class="easyui-window" title='火灾预警控制台' style="width:320px;height:90px;">
<table style="width:300px;height:40px;">
    <tbody>
      <tr style='text-align:center;'>
	     <td style="text-align:center;width:76px;height:37px;vertical-align:middle;">
            <button  id='fire_play'  style="width:100%;height:28px;line-height:28px;" ><i id='fireBP' class="fa fa-play fa-lg" style='color:black;margin-top:-5px;' ></i></button>
		 </td>
		 <td style="text-align:center;width:140px;height:37px;vertical-align:middle;">
		     <input id="fire_slider" type="range" min="1" max="14" step="1" value="1">
		 </td>
		 <td style="text-align:center;width:76px;height:37px;vertical-align:middle;">
		     <input id="fire_text" style="width:60px;height:25px;" type="text" value="1">
		 </td>
      </tr>
    </tbody>
  </table>
</div>
<!--师大变化检测控制面板-->
 <div id='TjnuChangeWindow' class="easyui-window" title='师大变化检测控制台' style="width:320px;height:90px;">
<table style="width:300px;height:40px;">
    <tbody>
      <tr style='text-align:center;'>
	     <td style="text-align:center;width:76px;height:37px;vertical-align:middle;">
            <button  id='Tjnu_play'  style="width:100%;height:28px;line-height:28px;" >
			<i id='Tjnu_BP' class="fa fa-play fa-lg" style='color:black;margin-top:-5px;' ></i></button>
		 </td>
		 <td style="text-align:center;width:140px;height:37px;vertical-align:middle;">
		     <input id="Tjnu_slider" type="range" min="2012" max="2018" step="3" value="3">
		 </td>
		 <td style="text-align:center;width:76px;height:37px;vertical-align:middle;">
		     <input id="Tjnu_text" style="width:60px;height:25px;" type="text" value="2012">
		 </td>
      </tr>
    </tbody>
  </table>
</div>
<!-- 经纬度实时显示 -->
<div id="latlng_show" style="width:400px;height:30px;position:absolute;bottom:30px;right:600px;z-index:200;font-size:15px;">
   <div style="width:120px;height:30px;float:left;">
       <font size="3" color="white">经度：<span id="longitude_show"></span></font>
  </div>
  <div style="width:120px;height:30px;float:left;">
       <font size="3" color="white">纬度：<span id="latitude_show"></span></font>
  </div> 
  <div style="width:160px;height:30px;float:left;">
       <font size="6" color="white">海拔：<span id="altitude_show"></span>m</font>
  </div>
</div>
<!-- 雷达通视分析弹出按钮-->
 <div id="radar_div" style="width:100px;height:50px;position:absolute;z-index:200;top:70px;right:200px;display:none;"> 
       <input id="radar_play" type="button" value="Chart" style="width:100px;height:50px;" onclick="radar_plline_draw()">&nbsp;&nbsp;&nbsp;&nbsp; 
	   <!-- <input id="tjsd_pause" type="button" value="暂停" style="width:76px;height:25px;" onclick="tjsd_pause()"><br> -->
	  <!--  <input id="tjsd_continue" type="button" value="继续" style="width:76px;height:25px;" onclick="tjsd_continue()">&nbsp;&nbsp;&nbsp;&nbsp; -->
	   <!-- <input id="tjsd_remove" type="button" value="清除" style="width:76px;height:25px;" onclick="tjsd_remove()"> -->
 </div> 
 <!-- 参数设置框 -->
<div id='argumentWindow' class="easyui-window" title='空间分析参数设置' style="width:385px;height:360px;">
<div id="argumentSet" class="easyui-tabs" data-options="tabwidth:90" style="width:370px;height:320px;">
     <div title='坡度参数设置' style='padding:10px;'>
	         <div>范围(单位:km)</div><input id='slopeArcValue' class="easyui-textbox" value='15' style="width:100%;height:32px">
			<h2></h2>
			<a  href="#" class="easyui-linkbutton" style="width:100%;height:28px;padding:15px;" onclick="slope_ok()">确定</a>
			<a  href="#" class="easyui-linkbutton" style="width:100%;height:28px;padding:15px;" onclick="slope_cancel()">取消</a>
	 </div>
	 <div title='通视参数设置' style='padding:10px;'>
	         <div>视场(单位:km)</div><input id='tsRangeValue' class="easyui-textbox" value='15' style="width:100%;height:32px">
			 <div>高度(单位:m)</div><input id='tsAttiValue' class="easyui-textbox" value='30' style="width:100%;height:32px">
	         <div>可见区域</div><input style="width:100%;height:20px;" id="TScolor1" value="#76EE00" type="color">
			<div>不可见区域</div><input style="width:100%;height:20px;" id="TScolor2" value="#EE0000" type="color">
			<h2></h2>
			<a  href="#" class="easyui-linkbutton" style="width:100%;height:28px;padding:15px;" onclick="radar_ok1()">确定</a>
			<a  href="#" class="easyui-linkbutton" style="width:100%;height:28px;padding:15px;" onclick="radar_cancel1()">取消</a>
	 </div>
	 <div title='遮蔽角参数设置' style='padding:10px;'>
		    <div>视场(单位:km)</div><input id='zbRangeValue' class="easyui-textbox" value='15' style="width:100%;height:32px">
			<div>高度(单位:m)</div><input id='zbAttiValue' class="easyui-textbox" value='30' style="width:100%;height:32px">
		    <div>可见区域</div><input style="width:100%;height:20px;" id="ZBcolor1" value="#76EE00" type="color">
			<div>不可见区域</div><input style="width:100%;height:20px;" id="ZBcolor2" value="#EE0000" type="color">
			<h2></h2>
			<a  href="#" class="easyui-linkbutton" style="width:100%;height:28px;padding:15px;" onclick="radar_ok2()">确定</a>
			<a  href="#" class="easyui-linkbutton" style="width:100%;height:28px;padding:15px;" onclick="radar_cancel2()">取消</a>
	 </div>
</div>
</div>
<!-- 雷达遮蔽角切换按钮 -->
 <div id="radarPanels" style="width:100px;height:50px;position:absolute;z-index:200;top:70px;right:200px;display:none;"> 
       <input id="radarPanels1" type="button" value="折线图" style="width:100px;height:50px;" onclick="radar_plline_draw()">
 </div>
<!-- 倾斜摄影漫游方式1-->
 <div id="tjsd_my" style="width:100px;height:50px;position:absolute;z-index:200;top:70px;right:200px;display:none;"> 
       <input id="tjsd_play" type="button" value="播  放" style="width:100px;height:50px;" onclick="tjsd_play()">&nbsp;&nbsp;&nbsp;&nbsp; 
	   <!-- <input id="tjsd_pause" type="button" value="暂停" style="width:76px;height:25px;" onclick="tjsd_pause()"><br> -->
	  <!--  <input id="tjsd_continue" type="button" value="继续" style="width:76px;height:25px;" onclick="tjsd_continue()">&nbsp;&nbsp;&nbsp;&nbsp; -->
	   <!-- <input id="tjsd_remove" type="button" value="清除" style="width:76px;height:25px;" onclick="tjsd_remove()"> -->
 </div> 
<!-- 倾斜摄影漫游方式2-弹出的div -->
<div id="sd_gbj" style="color:white;width:250px;height:300px;z-index:200;text-align:center;position:absolute;border:1px solid white;display:none;right:200px;top:200px;">
<span id="name_instead" style="display:block;font-size:30px;width:250px;height:50px;line-height:50px;"></span><br>
<img id="img_instead" src="" />
</div>
<!-- 郑州人工建模小车模型加载-->
 <!-- <div id="zzmx_my" class='easyui-draggable' data-options="handle:'#title'" style="width:300px;height:70px;position:absolute;z-index:200;top:30px;left:700px;display:none;text-align:center;border:1px solid green;background-color:white;">
    <div id="title" style="padding:5px;background:green;color:#fff">郑州市人工建模模型动画播放控制台</div>
       <input id="tzzmx_play" type="button" value="播  放" style="width:100px;height:30px;line-height:30px;" onclick="zzmx_play()">&nbsp;&nbsp;&nbsp;&nbsp;
	   <input id="tzzmx_play" type="button" value="取  消" style="width:100px;height:30px;line-height:30px;" onclick="zzmx_cancel()">
</div> -->
<div id='zzmx_my' class="easyui-window" title='郑州市人工建模模型动画播放控制台' style="width:385px;height:100px;">
   <a  href="#" class="easyui-linkbutton" style="width:100%;height:28px;padding:15px;" onclick="zzmx_play()">播放</a>
   <a  href="#" class="easyui-linkbutton" style="width:100%;height:28px;padding:15px;" onclick="zzmx_cancel()">取消</a>
</div>
<!-- 页面载入效果div -->

<div  id='all-in-center' style='display:none;'>
	<div id="panel">
		<span id="loading1">
			<span id="outerCircle"></span>
			<span id="innerCircle">
				<span id="center"></span>
			</span>
		</span>
	</div>
 </div>

<!-- 三台县土地类型查询 -->
 <div id="searchOut" style='background-color:gray;display:none;position:absolute;top:0px;left:300px;border:1px solid green;z-index:200;'>
   <div id='Searchtext'></div>
   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input style='width:100px;height;30px;' type='button' value='取  消' onclick='searchCancel()'>
</div> 
 <!--气温气压图例  -->
  <div id="tuli" style="right:15px; bottom:35px;width:179px;height:200px; position:absolute;z-index:1;display:none;">
		 <img id="tuliImag"   style="display:block;border:none;" /> 
  </div>

  <!-- 管网树 -->	
  <div id="tree" style='width:250px;height:300px;left:10px;top:80px;position:absolute;z-index:3;display:none;margin-left:270px;margin-top:-20px;'></div>
  <!-- 右上方的空间分析模块 -->
<div class='easyui-draggable'  style='width:600px;height:30px;position:absolute;z-index:55;top:20px;right:150px;'>
 <div  id='three_two' style='float:left;border-right:1px solid gray;text-align:center;line-height:30px;width:80px;height:30px;color:white;'>
    <i id='three_twologo' class="fa fa-eject fa-lg" style='color:white' ></i>
	<span id='threeTwo_text'>3D</span>
 </div>
  <div id='startDraw3' class='anglyst' style='border-right:1px solid gray;'>
   <i class="fa fa-expand fa-lg" style='color:white;float:left;' ></i>
   <span>量测</span>
   <i class="fa fa-angle-double-down fa-lg" style='color:white' ></i>
   <ul class='ulstyle' id='liangceALL'>
      <li id='startDraw' class='varanalyst' style='border-bottom:1px solid white;'>
	     <i class="fa fa-arrows-h" style='color:white' ></i>
	     <span>测距<span>
	  </li>
      <li i id='liangcefinal' class='varanalyst' style='border-bottom:1px solid white;'>
	     <i class="fa fa-square-o" style='color:white' ></i>
	     <span>测面</span>
	  </li>
	  <li id='startDraw3' class='varanalyst'    style='border-bottom:1px solid white;'>
	     <i class="fa fa-arrows-h" style='color:white' ></i>
	     <span>模型量测<span>
	  </li>
      <li class='varanalyst' id='measure_cancel' style='border-bottom:1px solid white;'>
	     <i class="fa fa-ban" style='color:white' ></i>
		 <span>清除</span>
	  </li>
   </ul>
 </div>




  <!-- 模型量测功能 -->
   <div id="clgl" class="easyui-dialog" style="width:301px;height:201px;">
    <div   class="easyui-tabs" style='width:300px;height:200px;' >
			         <div title="直线测量" style="padding:10px">
			             <div id='line_polygon_switch'  class='easyui-datalist' style='margin-top:1px;margin-bottom:1px;margin-left:2px;' >
				             <label>直线距离:</label>
							 <label for='kj' style='padding:1px'>直线量测</label>
				             <span id="line"></span>
							 <label for='td' style='padding:1px'>面积量测</label>
				             <label>水平距离:</label>
				             <span id="shuiping"></span>
				             <label>垂直距离:</label>
				             <span id="vertical"></span>
		                 </div>
			         </div>
			         <div title="面积测量"  style="padding:10px">
			             <div id='face_polygon_witch'  style='margin-top:1px;margin-bottom:1px;margin-left:2px;'>
			                 <label>平面面积:</label>
				             <span id="pingmian"></span>
				             <label>表面面积:</label>
				             <span id="biaomian"></span>
			             </div>
			         </div>
    </div>
	</div>
<!-- 标尺 -->
  <div id="clgl" class="easyui-dialog" title="标尺" data-options="iconCls:'icon-save'" style='width:300px;height:202px;'>
   <!--  <div style="margin:20px 0 10px 0;" ></div>  -->
	<div id='tabs_clgl'  class="easyui-tabs" data-options="selected:true" style='width:360px;height:150px;'>
		<div id="cl-line" title="线条"  style="padding:10px">
			<p>测量地面上两个点之间的距离</p>
			<p  class='text'>地图长度：<span id="dtcd" ></span>
                 <span>千米</span>
			</p>
			<p>地面长度：<span id="dmcd" ></span><span>千米</span></p>
		</div>
		<div id="cl-ploygon" title="多边形"  style="padding:10px">
			<p>测量地面上几何形状的距离或面积</p>
			<br/>
		    <p>平面面积：<span id="polygonpm"  ></span>
			<span>平方千米</span>
			</p>
			<p>表面面积：<span id="polygon-mj"  ></span>
			<span>平方千米</span>
			</p>
		</div>
        <div id="3Ddistance" title="3D模型距离" style="padding:10px">
		     <p>测量3D模型上几何形状的距离</p>
			 <br>
			 <p  class='text'>地图长度：<span id="3Ddtcd" ></span>
                 <span>千米</span>
			</p>
			<p>地面长度：<span id="3Ddmcd" ></span><span>千米</span></p>
		  </div>
		 <div id="3Darea" title="3D模型面积" style="padding:10px">
		     <p>测量3D模型上几何形状的面积</p>
			 <br>
			 <p>平面面积：<span id="3Dpolygonpm"  ></span>
			<span>平方千米</span>
			</p>
			<p>表面面积：<span id="3Dpolygon-mj"  ></span>
			<span>平方千米</span>
			</p>
			</div>
		<div  title="重置">
		</div>
    </div>
    </div>
      <div id='clgl' class='easyui-dialog'  title='测量管理' data-options="iconCls:'icon-save'" style='width:300px;height:200px;' >
		     <div style='text-align:center;' style='width:286px;height:50px'>
		         <input type="radio" name="radio" value="空间计算" checked="checked" id='kj'  ></input>
		         <label for='kj' style='padding:1px'>直线量测</label>
		         <input type="radio" name="radio" value="贴地计算" id='td'  ></input>
                 <label for='td' style='padding:1px'>面积量测</label>
		     </div>
			 <div id='line_polygon_switch'  class='easyui-datalist' style='margin-top:1px;margin-bottom:1px;margin-left:2px;' >

				 <label>直线距离:</label>
				 <span id="line"></span>

				 <label>水平距离:</label>
				 <span id="shuiping"></span>

				 <label>垂直距离:</label>
				 <span id="vertical"></span>
		      </div>
			  <div id='face_polygon_witch' class='easyui-datalist' style='margin-top:1px;margin-bottom:1px;margin-left:2px;'>

			     <label>平面面积:</label>
				 <span id="pingmian"></span>

				 <label>表面面积:</label>
				 <span id="biaomian"></span>
			  </div>
        </div>


 <div id='fenxifinal' class='anglyst' style='border-right:1px solid gray;'>
   <i class="fa fa-pie-chart fa-lg" style='color:white;float:left;' ></i>
   <span>分析</span>
   <i class="fa fa-angle-double-down fa-lg" style='color:white;' ></i>
    <ul class='ulstyle' id='fenxiALL'>
      <li class='varanalyst' style='border-bottom:1px solid white;' onclick="slopeAnalyst()">
	     <i class="fa fa-area-chart" style='color:white' ></i>
	     <span>坡度</span>
	  </li>
     <!--  <li class='varanalyst' style='border-bottom:1px solid white;' onclick="measure_k=9;measure_k9=0;">
	     <i class="fa fa-header" style='color:white' ></i>
	     <span>剖面</span>
	  </li> -->
      <li class='varanalyst' style='border-bottom:1px solid white;' onclick="tongshiAnalyst()">
	     <i class="fa fa-wifi" style='color:white' ></i>
	     <span>通视</span>
	  </li>
	  <li class='varanalyst' style='border-bottom:1px solid white;' onclick="poumianAnalyst()">
	     <i class="fa fa-header" style='color:white' ></i>
	     <span>剖面</span>
	  </li>
	   <li class='varanalyst' style='border-bottom:1px solid white;' onclick='zhebijiaoAnalyst();'>
	     <i class="fa fa-cloud" style='color:white;' ></i>
	     <span>遮蔽角</span>
	  </li>
	  <li class='varanalyst' style='border-bottom:1px solid white;' onclick='yanmofenxi2();'>
	     <i class="fa fa-flood" style='color:white;' ></i>
	     <span>淹没</span>
	  </li>

      <li class='varanalyst' style='border-bottom:1px solid white;' onclick="tongshiAnalyst_Cancel()">
	     <i class="fa fa-ban" style='color:white' ></i>
	     <span>清除</span>
	  </li>
    </ul>
 </div>
<div  id="ymctrol" class="easyui-dialog" style="width:400px;padding:50px 60px" display="none">
        <!-- <div style="margin-bottom:20px">
            <input id="waterHeight1"class="easyui-textbox" prompt="waterHeight1" iconWidth="28" style="width:100%;height:34px;padding:10px;">
        </div> -->
        <div style="margin-bottom:20px">
            <input type="text" id="growheight111" class="easyui-textbox" prompt="growheight" iconWidth="28" style="width:100%;height:34px;padding:10px">
        </div>
		<button onclick="test111()">确定</button>
    </div>



 <div id='biaozhufinal' class='anglyst' style='border-right:1px solid gray;'>
   <i class="fa fa-flag fa-lg" style='color:white;float:left;' ></i>
   <span>标注</span>
   <i class="fa fa-angle-double-down fa-lg" style='color:white;' ></i>
    <ul class='ulstyle' id='biaozhuALL'>
      <li class='varanalyst'  style='border-bottom:1px solid white;' onclick="pointMarker();">
	     <i class="fa fa-thumb-tack" style='color:white' ></i>
	     <span>点标注</span>
	  </li>
      <li class='varanalyst'  style='border-bottom:1px solid white;' onclick="lineMarker()">
	     <i class="fa fa-vine" style='color:white' ></i>
	     <span>线标注</span>
	  </li>
      <li class='varanalyst'  style='border-bottom:1px solid white;' onclick="faceMarker()">
	     <i class="fa fa-map" style='color:white' ></i>
	     <span>面标注</span>
	  </li>
      <li class='varanalyst'  style='border-bottom:1px solid white;' onclick='cancelMark()'>
	     <i class="fa fa-ban" style='color:white' ></i>
	     <span>清除</span>
	  </li>

    </ul>
 </div>

  <div id='finalsearch' class='anglyst' style='border-right:1px solid gray;'>
   <i class="fa fa-search fa-lg" style='color:white;float:left;' ></i>
   <span>查询</span>
   <i class="fa fa-angle-double-down fa-lg" style='color:white;' ></i>
   <ul class='ulstyle' id='LocchaxunALL'>
      <li class='varanalyst' style='border-bottom:1px solid white;' onclick='search_poi();'>
	     <i class="fa fa-map-marker" style='color:white;' ></i>
	     <span>地名查询</span>
	  </li>
	  <li class='varanalyst' style='border-bottom:1px solid white;' onclick="search_route(true);">
	     <i class="fa fa-compass" style='color:white;' ></i>
	     <span>路径查询</span>
	  </li>

   </ul>
 </div>

<!-- <div id='chaxunfinal' class='anglyst' >
   <i class="fa fa-wrench fa-lg" style='color:white;float:left;' ></i>
   <span>功能</span>
    <i class="fa fa-angle-double-down fa-lg" style='color:white;' ></i>
   <ul class='ulstyle' id='chaxunALL'>
       <li class='varanalyst' style='border-bottom:1px solid white;' onclick='armydiv_show()'>
	     <i class="fa fa-map-marker" style='color:white;' ></i>
	     <span>位置服务</span>
	  </li>
	  <li class='varanalyst' style='border-bottom:1px solid white;' onclick="search_begin(true);locateTO(105.02094,30.99968,2000);">
	     <i class="fa fa-search" style='color:white;' ></i>
	     <span>土地管理</span>
	  </li>
      <!-- <li class='varanalyst' style='border-bottom:1px solid white;'>
	     <i class="fa fa-fire" style='color:white;' ></i>
	     <span>森林火灾</span>
	  </li>
	  <li class='varanalyst' style='border-bottom:1px solid white;' onclick='zhebijiaoAnalyst();'>
	     <i class="fa fa-cloud" style='color:white;' ></i>
	     <span>遮蔽角</span>
	  </li>
	  <li class='varanalyst' style='border-bottom:1px solid white;' onclick='hangpai_begin();modelfly();'>
	     <i class="fa fa-eye" style='color:white;' ></i>
	     <span>航拍拼接</span>
	  </li>
	  <li id='swmain' class='varanalyst' style='border-bottom:1px solid white;' ">
	     <i class="fa fa-tint" style='color:white;' ></i>
	     <span>水文管理</span>
	  </li>
	  <li id='lbsmain' class='varanalyst' style='border-bottom:1px solid white;' >
	     <i class="fa fa-map-pin" style='color:white;' ></i>
	     <span>位置服务</span>
	  </li>
	  <li class='varanalyst' style='border-bottom:1px solid white;' onclick='tilecut_open();'>
	     <i class="fa fa-eye" style='color:white;' ></i>
	     <span>区域取图</span>
	  </li>
   </ul>
 </div> -->

 <!--goose 2018-04-18 23:05 -->
	<!-- <div id="dlgsearchpoi" class="easyui-dialog" title="兴趣点查询" data-options="iconCls:'icon-save'"
		style="width:400px;height:130px;padding:10px">
		输入搜索内容：<br/>
		<input class="easyui-searchbox" id='poisearchinput'
		data-options="prompt:'输入要查询的信息',searcher:doSearchPOI"
		style="width:355px;"></input>
	</div>

	<div id="dlgsearchroute" class="easyui-dialog" title="路径查询" data-options="iconCls:'icon-save'"
		style="width:400px;height:230px;padding:10px">
        <div style="margin-bottom:10px">
            <input class="easyui-textbox" id='routebeg'
			style="width:100%;height:40px;padding:12px"
			data-options="prompt:'起点',iconCls:'icon-lock',iconWidth:38">
        </div>
        <div style="margin-bottom:20px">
            <input class="easyui-textbox" id='routeend'
			style="width:100%;height:40px;padding:12px"
			data-options="prompt:'终点',iconCls:'icon-lock',iconWidth:38">
        </div>
        <div>
            <a href="#" class="easyui-linkbutton" data-options="iconCls:'icon-ok'"
			style="padding:5px 0px;width:100%;" onclick='dosearchroute();' >
                <span style="font-size:14px;">搜索</span>
            </a>
        </div>
	</div>	 -->
	<!-- 查询 -->
  <div id="SearchAll" class="easyui-dialog" title="POI查询">
      <div>
          <input id="ss" class="easyui-searchbox" data-options="prompt:'请输入地名',searcher:doSearch" style="width:300px"></input>
      </div>
      <div id="bottomPanel" >
          <div id="locaPanel" class="easyui-panel" title="您所查找的相似位置有：" style="width:300px;height:500px;padding:10px;">

          </div>
          <div id="fenye" style="background:#efefef;border:1px solid #ccc;width:300px;"></div>
      </div>
    </div>
	 <div id="SearchAll2" class="easyui-dialog" title="路径查询">
      <div style="width:360px;">
          <input id="startPoint" class="easyui-textbox" data-options="prompt:'请输入起点'" style="width:300px"></input>
		  <a href="#" style='height:30px;' class="easyui-linkbutton" iconCls="icon-reload" onclick='exchPosition();'>换站</a>
          <input id="endPoint" class="easyui-textbox" data-options="prompt:'请输入终点'" style="width:300px"></input>
		  <a href="#" style='height:30px;' class="easyui-linkbutton" iconCls="icon-redo" onclick='searchGuiji();'>导航</a>
      </div>
      <div id="bottomPanel2">
          <div id="locaPanel2" class="easyui-panel" title="您所查找的相似位置有：" style="width:300px;height:500px;padding:10px;">

          </div>
          <div id="fenye2" style="background:#efefef;border:1px solid #ccc;width:300px;"></div>
      </div>
    </div>

 <!--goose 2018-04-14 6：20 -->

 <!-- <div id='extfoos' class='anglyst' >
   <i class="fa fa-hand-spock-o fa-lg" style='color:white;float:left;' ></i>
   <span>扩展</span>
    <i class="fa fa-angle-double-down fa-lg" style='color:white;' ></i>
   <ul class='ulstyle' id='ulextfoos'>
      <li id='swmain' class='varanalyst' style='border-bottom:1px solid white;' ">
	     <i class="fa fa-map-marker" style='color:white;' ></i>
	     <span>水文管理</span>
	  </li>
	  <li id='lbsmain' class='varanalyst' style='border-bottom:1px solid white;' >
	     <i class="fa fa-search" style='color:white;' ></i>
	     <span>LBS系统</span>
	  </li>
   </ul>
 </div> -->

</div>


<!-- 标注输入框 -->
<div style="display:none;width:368px;border:4px solid rgb(255,255,255,0.2);background-color:white;" id="panelId" >
        <div style='width:360px;height:50px;top:0px;background-color:#1ABC9C;color:white;font-size:20px;text-align:center;font-weight:bold;line-height:50px;'>标注</div>
		<div style="padding:20px 20px 20px 20px;margin:auto;" >
	    <form id="form1" method="post" style="width:320px;">
	    	<table  width="100%">
	    		<tr  >
	    			<td width="20%" style="vertical-align:middle; text-align:center;" align='right'>名称:</td>
	    			<td width="30%" style="vertical-align:middle; text-align:center;" align='left'><input id="getValue"  type="text" name="name" ></input></td>
	    		</tr>
                <h1>
	    		<tr >
	    			<td width="20%" style="vertical-align:middle; text-align:center;" align='right'>描述:</td>
	    			<td width="30%" style="vertical-align:middle; text-align:center;" align='left'><textarea id="getDraw" rows="4" cols="22"></textarea></td>
	    		</tr>
	    		<tr id='fileImg'>
	    			<td width="20%" style="vertical-align:middle; text-align:center;" align='right'>图片:</td>
	    			<td width="30%" align="center"><input id="btnfile"   style='width:180px;' type="file" accept="image/*" name="btnfile" ></input></td>
	    		</tr>
	    	</table>
	    </form>
		<div style="text-align:center;padding:5px">
	    	<input id="Button1" type="button"  value='添加标注' />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	    	<input type="button" onclick="clearForm()" value='取消标注' />
	    </div>

	    </div>
	</div>
	
 <!--数据切割12.14 -->
<div id='jump_DIV' style='position:absolute;width:600px;left:100px;top:0px;z-index:66;display:none;'>
<div  class="easyui-panel" title="框选坐标值" style="width:600px;padding:30px 60px" data-options="title:'My Dialog'">
<div style="margin-bottom:10px;">
			<div>左下角纬度:</div>
			<input id='left_lng' class="easyui-textbox"  style="width:478px;height:32px;display:block;">
		</div>
		<div style="margin-bottom:10px">
			<div>左下角经度:</div>
			<input id='left_lat' class="easyui-textbox" style="width:478px;height:32px;display:block;">
		</div>
		<div style="margin-bottom:10px">
			<div>右上角纬度:</div>
			<input id='right_lng' class="easyui-textbox" style="width:478px;height:32px;display:block;">
		</div>
		<div style="margin-bottom:10px">
			<div>右上角经度:</div>
			<input id='right_lat' class="easyui-textbox" style="width:478px;height:32px;display:block;">
		</div>
		<div style="margin-bottom:10px">
			<div>数据输出路径:</div>
			<input id='data_export' class="easyui-textbox" value='Q:\google1' style="width:478px;height:32px;display:block;">
		</div>
		<div style="margin-bottom:10px">
			<div>数据存放路径:</div>
			<input id='data_import' class="easyui-textbox" value='Q:\google2' style="width:478px;height:32px;display:block;">
		</div>
		<div style="margin-bottom:10px">
			<div>数据类型:</div>
		<select id='getdType' class="easyui-combobox" name="state" style="width:478px;">
				<option value="*.png">*.png</option>
				<option value="*.jpg">*.jpg</option>
				<option value="*.tif">*.tif</option>
	</select>
		</div>
		<div style="margin-bottom:10px">
			<div>切片等级:</div>
		<select id='getdLevel' class="easyui-combobox" name="state" style="width:478px;">
				<option value="0">0</option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5</option>
				<option value="6">6</option>
				<option value="7">7</option>
				<option value="8">8</option>
				<option value="9">9</option>
				<option value="10">10</option>
				<option value="11">11</option>
				<option value="12">12</option>
				<option value="13">13</option>
				<option value="14">14</option>
				<option value="15">15</option>
				<option value="16">16</option>
				<option value="17">17</option>
				<option value="18">18</option>
				<option value="19">19</option>
				<option value="20">20</option>
				<option value="21">21</option>
				<option value="22">22</option>
	</select>
		</div>
		<div>
			<a id='submit_values' href="#" class="easyui-linkbutton" iconCls="icon-ok" style="width:478px;height:32px;display:block;">提交</a>
		</div>
</div>	
</div>	

<script type="text/javascript">  
/*
var _gserveradd="http://localhost:82/";
var tilessethaianxian=[];
var vosm_gstate=Cesium.createOpenStreetMapImageryProvider({
     url : _gserveradd + 'ghTilesServer.ashx/GOOGLE_SATE',
	fileExtension:'jpg',minimumLevel:1
}); 
*/
//11
var _gserveradd="http://localhost:8666/TServer/";
//dem加载
function add_dem(URL){

	var dem_provider= new Cesium.CesiumTerrainProvider({
		url: URL,
		requestVertexNormals : true
	});
	if (dem_provider)
	viewer.terrainProvider = dem_provider;
	/*goose   2018年5月6日*/
}
/*var first_state=0;
var content_change=document.getElementById("three_two");
var three_twologo=document.getElementById("three_twologo");
var threeTwo_text=document.getElementById("threeTwo_text");
content_change.onclick=function(){
  if(first_state==0){
      add_dem("../../30mDem");
	  three_twologo.removeAttribute('class','fa fa-eject fa-lg');
	  three_twologo.setAttribute('class','fa fa-minus fa-lg');
	  threeTwo_text.innerHTML='2D';  
	  first_state=1;
  }else if(first_state==1){
      three_twologo.removeAttribute('class','fa fa-minus fa-lg');
	  three_twologo.setAttribute('class','fa fa-eject fa-lg');
	  threeTwo_text.innerHTML='3D';  
    viewer.terrainProvider = defaultTerrain;
	first_state=0;
  }
}*/

	
	/*
	var terrainProvider_dxs = new Cesium.CesiumTerrainProvider({
	    url : _gserveradd + 'ghTilesServer.ashx/DXS_TERRAIN',
		requestVertexNormals: true
		});
	
	var terrainProvider_bxs = new Cesium.CesiumTerrainProvider({
        url : _gserveradd + 'ghTilesServer.ashx/BXS_TERRAIN',
        requestVertexNormals : true
        });
		
	var terrainProvider_30m=new Cesium.CesiumTerrainProvider({
        url : _gserveradd + 'ghTilesServer.ashx/TERRAIN',
        requestVertexNormals : true
        });
		
	var terrainProvider_LJPD=new Cesium.CesiumTerrainProvider({
        url : _gserveradd + 'ghTilesServer.ashx/LJPD_TERRAIN',
        requestVertexNormals : true
		});

		
	var terrainProvider = new Cesium.CesiumTerrainProvider({
	    url : _gserveradd + 'ghTilesServer.ashx/TERRAIN',
		requestVertexNormals: true
		});
	*/
	function create_imagery_layer_TMS(vurl,fext,minz,maxz){
	    var vprovi = Cesium.createTileMapServiceImageryProvider({
		url : _gserveradd + vurl,
		fileExtension: fext,
		minimumLevel:minz,readonlyMaximumLevel : maxz
		});
		return new Cesium.ImageryLayer(vprovi);
	}
	
	function create_imagery_layer_OSM(vurl,fext){
	    var vprovi = Cesium.createTileMapServiceImageryProvider({
		url : _gserveradd + vurl,
		fileExtension: fext,
		flipXY: true
		});
		return new Cesium.ImageryLayer(vprovi);
	}

var viewer = new Cesium.Viewer('cesiumContainer',{
	timeline:false,  
    animation:true,  
	geocoder:false,  
	shouldAnimate:true, 
	fullscreenButton:false, 
	homeButton:false,  
	baseLayerPicker:true,  
	sceneModePicker:false,  
	navigationHelpButton:false, 
	selectionIndicator :false, 
	infoBox : false, 
	imageryProvider: new Cesium.createOpenStreetMapImageryProvider({//new Cesium.WebMapTileServiceImageryProvider({
        url:"/TServer/ghTilesServer.ashx/GOOGLE_SATE", 
		//"http://t0.tianditu.com/img_w/wmts?service=wmts&request=GetTile&version=1.0.0&LAYER=img&tileMatrixSet=w&TileMatrix={TileMatrix}&TileRow={TileRow}&TileCol={TileCol}&style=default&format=tiles&tk=59be63a2e2afe29da6f6d2b72468b8ed",
        fileExtension: "jpg",
        flipXY:true
    })
 	//terrainProvider : terrainProvider_30m //Cesium.createWorldTerrain()     
});  

var selectionIndicator=new Cesium.SelectionIndicator(cesiumContainer,viewer.scene);
		selectionIndicator.destroy();
viewer.cesiumWidget.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK);


//加载西藏图片
var aa = viewer.scene.imageryLayers.addImageryProvider(
        new Cesium.createTileMapServiceImageryProvider({
            url : '../../eco_city_earth/apps/data/server'     //url为文件夹地址
        })
);
var centerCityOptions = {
  camera: viewer.scene.camera,
  canvas: viewer.scene.canvas,
};
viewer.dataSources.add(
          Cesium.KmlDataSource.load(
            "../../../data/kml/01.kml",
            centerCityOptions
          )
        );

//viewer.screenSpaceEventHandler.setInputAction(function(){},Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK );
//viewer.scene.globe.depthTestAgainstTerrain=true;
//goose




	 


	$(document).ready(function(){
	var options = {
			camera : viewer.scene.camera,
			canvas : viewer.scene.canvas
      };
	  viewer.dataSources.add(Cesium.KmlDataSource.load('practice.kml', options));
	   $('#liangcefinal').click(function(){
		  $('#liangceALL').toggle(500);
		  $('#fenxiALL').hide(500);
		  $('#chaxunALL').hide(500);
		  $('#biaozhuALL').hide(500);
		  $('#LocchaxunALL').hide(500);
	   });
	   $('#fenxifinal').click(function(){
		  $('#fenxiALL').toggle(500);
		  $('#liangceALL').hide(500);
		  $('#chaxunALL').hide(500);
		  $('#biaozhuALL').hide(500);
		  $('#LocchaxunALL').hide(500);
	   });
	   $('#chaxunfinal').click(function(){
		  $('#chaxunALL').toggle(500);
		  $('#liangceALL').hide(500);
		  $('#fenxiALL').hide(500);
		  $('#biaozhuALL').hide(500);
		  $('#LocchaxunALL').hide(500);
	   });
	   $('#biaozhufinal').click(function(){
		  $('#biaozhuALL').toggle(500);
		  $('#liangceALL').hide(500);
		  $('#fenxiALL').hide(500);
		  $('#chaxunALL').hide(500);
		  $('#LocchaxunALL').hide(500);
	   });
	    $('#finalsearch').click(function(){
		  $('#LocchaxunALL').toggle(500);
		  $('#liangceALL').hide(500);
		  $('#fenxiALL').hide(500);
		  $('#chaxunALL').hide(500);
		  $('#biaozhuALL').hide(500);
	   });
	   
	   //goose 2018-04-14
	   	$('#extfoos').click(function(){
		  $('.ulstyle').hide(500);
		 $('#ulextfoos').toggle(500);

	   });  
 	   
	   
	   $('#left_toc').hide();
	   $('#navi').click(function(){
		  $('#left_toc').toggle(500);
	   });

	   var _vgcur_cursor='pointer';//'pointer'
		$('#cesiumContainer').hover(
			function() {
				 this.style.cursor = _vgcur_cursor;
			}
		);  //通过直接设置Style

	
	$("#clgl").dialog({
		onClose:function(e){
			clear_draw_polyline();
			clear_draw_polygon();

			var entity = viewer.entities.getById(venti_mearsure);
			if(entity) viewer.entities.remove(entity);
			entity=null;
			_vgcur_cursor = 'pointer';
			$('#cesiumContainer').removeClass("hover"); 
			document.body.style.cursor="pointer";
		}
	});
	
	// 淹没分析面板取消
	
	$('#ymctrol').dialog({
		onclose:function(e){
				viewer.entities.removeAll();
		}
	});
	// 量测 2019年10月25日
		$('#tabs_clgl').tabs({
			selected:0,
			border:false,
			fit:true,
			//cursor:crosshair,
			onSelect:function(title){
				cltabs_select(title);
				document.body.style.cursor="crosshair";
			}
			
			
			
		});
	
		
		function cltabs_select(title){
		
			    clear_draw_polyline();
				clear_draw_polygon();
				
				_vgcur_cursor = 'crosshair';
			     $('#cesiumContainer').addClass("hover"); 
				 
			    switch(title){
				case "3D模型距离":
				case "线条":
				document.body.style.cursor="crosshair";
				drawline();    
			
				break;				
				case "多边形":
				document.body.style.cursor="crosshair";
				drawpolygon();	
			
				break;				
				case "3D模型面积":
				drawpolygonmx();
				break;
				
				case "重置":
				enddraw();
				viewer.entities.removeAll();
				break;
				};	
		
		}
		
	
			
		
	
		
	//按钮事件
	$('#startDraw3').click(function () {
		 viewer.entities.removeAll();
		 //看了这个是彻底失败了。只能变通一下，打开对话框时根据当前选中的标签，确定合适的操作。
		 //$('#tabs_clgl').tabs('select',1);
		 //根据当前选择的面板，设置合适的绘制标记
		var pp = $('#tabs_clgl').tabs('getSelected');
		if(isvalid(pp))			
			cltabs_select(pp.panel('options').title); 
		 
		$('#dtcd').html(0);
		$('#dmcd').html(0);
		$('#polygonpm').html(0);
		$('#polygon-mj').html(0);
		$('#3Ddtcd').html(0);
		$('#3Ddmcd').html(0);
		$('#3Dpolygonpm').html(0);
		$('#3Dpolygon-mj').html(0);
		
		$('#clgl').dialog('open');	
		 document.body.style.cursor="crosshair";
    });
		
  
	});

$(document).ready(function(){


   //$(".cesium-infoBox-visible").css("display","none");
   $(".cesium-viewer-animationContainer").css("display","none");
   $(".cesium-viewer-timelineContainer").css("display","none");
   
  //goose 2018年5月6日
      $(".easyui-window").window('close');
    $(".easyui-dialog").dialog('close');
    $("#SearchAll2").dialog('close');
    $("#SearchAll").dialog('close');
    $("#fireChangeWindow").dialog('close');
    $("#bxsChangeWindow").dialog('close');

	
	
   //var iframe = document.getElementsByClassName('cesium-infoBox-iframe')[0];
//iframe.setAttribute('data-bind', 'style : { maxHeight : maxHeightOffset(40) ,height:100%}'); 

});
/*
viewer.imageryLayers.addImageryProvider(new Cesium.WebMapServiceImageryProvider({
   
     url:'http://localhost:8080/geoserver/gwc/service/wms',
	 layers:'wms1:flw5',
	 parameters:{
	     service:'WMS',
		 format:'image/png',
		 transparent: true
	 },
 
    })); 
	viewer.imageryLayers.addImageryProvider(new Cesium.WebMapServiceImageryProvider({
   
     url:'http://localhost:8080/geoserver/gwc/service/wms',
	 layers:'wms1:flw2',
	 parameters:{
	     service:'WMS',
		 format:'image/png',
		 transparent: true
	 },
 
    }));
	viewer.imageryLayers.addImageryProvider(new Cesium.WebMapServiceImageryProvider({
   
     url:'http://localhost:8080/geoserver/gwc/service/wms',
	 layers:'wms1:flw1',
	 parameters:{
	     service:'WMS',
		 format:'image/png',
		 transparent: true
	 },
 
    }));
*/
/* viewer.imageryLayers.addImageryProvider(new Cesium.WebMapServiceImageryProvider({
   
     url:'http://192.168.10.36:8080/geoserver/gwc/service/wms',
	 layers:'wms1:flw',
	 parameters:{
	     service:'WMS',
		 format:'image/png',
		 transparent: true
	 }
 
    })); */



function add_layer_geoserver(parm1){//'wms1:china'

var vlys=viewer.imageryLayers.addImageryProvider(new Cesium.WebMapServiceImageryProvider({   
     url:'http://localhost:8080/geoserver/gwc/service/wms',
	 layers: "wms1:" +  parm1,
	 parameters:{
	     service:'WMS',
		 format:'image/png',
		 transparent: true
	 }
    })); 
	
	return vlys;
}


var ssdw_gjcx_num;//初始化为0，实时定位为1，3月1日轨迹查询为3，实时定位加轨迹2

var getTimer=document.getElementById('getTimer');
var radar_div =document.getElementById('radar_div');
var radarPanels=document.getElementById('radarPanels');
var drawpicture2=document.getElementById('drawpicture2');
var hangpai_div=document.getElementById('hangpai_div');
var time_rotate = setInterval('earth_rotate()', 33); //显示时间 
function santai_search(){
viewer.scene.imageryLayers.remove(img_556); 
document.getElementById('santaiSear_div').style.display='none';
 __vhandler_santai.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK);
}
function measure_clear()
{
viewer.entities.remove(glowingLine);
viewer.entities.remove(glowingPoint);
viewer.entities.remove(glowingSurface);
viewer.entities.remove(glowingLabel);


}

function earth_rotate() {
    //viewer.camera.rotateRight(0.01);//goose 2018年5月6日
}
	var menu = document.querySelector('.menu-right');
	function showMenu(x, y){
	    menu.style.left = x + 'px';
	    menu.style.top = y + 'px';
	    menu.classList.add('show-menu');
	}


	function f_login()
	{
        var user_name=document.getElementById("login");
        var user_pass=document.getElementById("password");
        if (user_name.value=="GITR" && user_pass.value=="123456")
        {
        $("#select").hide();
            clearInterval(time_rotate);
        }
	}

	/*function onContextMenu(e){
	    e.preventDefault();
		if (measure_right==0){
		showMenu(e.pageX, e.pageY);
	    document.addEventListener('mousedown', onMouseDown, false);
        }else{measure_right=0;}
		}*/

	function onMouseDown(e){
	   
	}

   // document.addEventListener('contextmenu', onContextMenu, false);
   
   //禁止滚动鼠标穿透地形
   var scene = viewer.scene;
   var canvas = viewer.canvas;
   var camera = viewer.camera;
   scene.screenSpaceCameraController.minimumZoomDistance=100;//距离地形的距离
   viewer.clock.onTick.addEventListener(function(){
       setMinCamera();
   });
   
   var setMinCamera = function(){
       if(camera.pitch > 0){
	       scene.screenSpaceCameraController.enableTilt = false;
	   }
   }
   
   var startMousePosition;
   var mousePosition;
   var handler_mouse = new Cesium.ScreenSpaceEventHandler(canvas);
   handler_mouse.setInputAction(function(movement){
       mousePosition = startMousePosition = Cesium.Cartesian3.clone(movement.position);
	   handler_mouse.setInputAction(function(movement){
	       mousePosition = movement.endPosition;
		   var y = mousePosition.y - startMousePosition.y;
		   if (y>0){
		       scene.screenSpaceCameraController.enableTilt = true;
		   }
	   },Cesium.ScreenSpaceEventType.MOUSE_MOVE);
   },Cesium.ScreenSpaceEventType.MIDDLE_DOWN);
	</script>


	<!-- 左侧菜单 -->
	<script>	
	var img_111,img_112,img_113,img_114,img_115,img_116,img_117,img_118,img_119,img_221,img_222,img_223,img_224,img_225,img_226,img_227,img_228,img_229,img_230,img_231;
	var img_331,img_332,img_333,img_334,img_441,img_442,img_4421,img_4422,img_4423,img_4424,img_4425,img_4426,img_4427,img_4428;
	var img_4429,img_4430,img_4431,img_4432,img_4443,img_4444,img_4433,img_4434,img_4435,img_4436,img_4437,img_4438,img_4439,img_4440;
	var img_4441,img_4442,img_551,img_552,img_553,img_554,img_555,img_556,img_557,img_558,img_559,img_560,img_561,img_562;
	var img_563,img_564,img_565,img_566,img_567,img_568,img_569,img_570,img_10011,img_10012,img_10013,img_572,img_661,img_662,img_663,img_664,img_771,img_881,img_991,img_992,img_993,img_994,img_995,img_1000,img_1001,img_1002,img_1003,img_1004,img_1005,img_1006,img_1007,img_1008,img_1009,img_1010,img_1011,img_8811,img_8812,img_8813,img_10000;
	var img_1012,img_1013,img_1014,img_1015,img_1016,img_1017,img_1018,img_1019;
	var img_2001,img_2002,img_2003,img_2004,img_2005,img_2006,img_2007;
	var img_2011,img_2012,img_2013,img_2014,img_2015,img_2016,img_2017;
	var titlesetSD1,titlesetSD2,titlesetSD3,titlesetSD4,titlesetSD5,titlesetSD6;
	var titlesetDXS1,titlesetDXS2,titlesetDXS3,titlesetDXS4,titlesetDXS5,titlesetDXS6,titlesetDXS7;
	var tilesetBZ1,tilesetBZ2,tilesetBZ3,tilesetBZ4,tilesetBZ5,tilesetBZ6,tilesetBZ7,tilesetBZ8,tilesetBZ9,tilesetBZ10,tilesetBZ11,tilesetBZ12,tilesetBZ13,tilesetBZ14,tilesetBZ15,tilesetBZ16,tilesetBZ17,tilesetBZ18;
	var titlesetFY1,titlesetFY2,titlesetFY3,titlesetFY4,titlesetFY5;
	var showId_666=0;
	var showId_111=0,showId_112=0,showId_113=0,showId_114=0,showId_115=0,showId_116=0,showId_117=0,showId_118=0,showId_119=0,showId_221=0,showId_222=0,showId_223=0,showId_224=0,showId_225=0,showId_226=0,showId_227=0,showId_228=0;
	var showId_229=0,showId_230=0,showId_231=0,showId_331=0,showId_332=0,showId_333=0,showId_334=0,showId_441=0,showId_442=0,showId_443=0,showId_444=0,showId_4421=0,showId_4422=0,showId_4423=0;
	var showId_4424=0,showId_4425=0,showId_4426=0,showId_4427=0,showId_4428=0,showId_4429=0,showId_4430=0,showId_4431=0,showId_4432=0,showId_4443=0,showId_4444=0;
	var showId_4433=0,showId_4434=0,showId_4435=0,showId_4436=0,showId_4437=0,showId_4438=0,showId_4439=0,showId_4440=0,showId_4441=0,showId_4442=0,showId_551=0;
	var showId_552=0,showId_553=0,showId_554=0,showId_555=0,showId_556=0,showId_557=0,showId_558=0,showId_559=0,showId_560=0,showId_561=0,showId_562=0;
	var showId_563=0,showId_564=0,showId_565=0,showId_566=0,showId_567=0,showId_568=0,showId_569=0,showID_570=0,showID_10011=0,showID_10012=0,showID_10013=0,showID_572=0,showId_661=0,showId_662=0,showId_663=0,showID_664=0,showId_771=0,showId_772=0,showId_881=0;
	var showId_991=0,showId_992=0,showId_993=0,showId_994=0,showId_995=0,showId_1000=0,showId_1001=0,showId_1002=0,showId_1003=0,showId_1019=0,showId_1004=0,showId_9941=0,showId_8811=0,showId_8812=0,showId_8813=0,showId_10000=0;
	var showId_2001=0,showId_2002=0,showId_2003=0,showId_2004=0,showId_2005=0,showId_2006=0,showId_2007=0;
	var showId_2011=0,showId_2012=0,showId_2013=0,showId_2014=0,showId_2015=0,showId_2016=0,showId_2017=0,showId_1005=0;
	var showId_232=0,showId_233=0;
	var showId_667=0;
	var titlesetBZ1,titlesetBZ2,titlesetBZ3,titlesetBZ4,titlesetBZ5,titlesetBZ6,titlesetBZ7,titlesetBZ8;
	var layers1 = viewer.scene.imageryLayers; 
	var vimglayers = layers1;
	var vosm_dxs=create_imagery_layer_OSM('ghTilesServer.ashx/DXS_DOM','png');
	
	

	
	var cartographic_new;
	
	//汾阳倾斜加载函数
function titleset_show_FY(URL)
{
var titleset_type = viewer.scene.primitives.add(new Cesium.Cesium3DTileset({
                           url : URL	
                            }));
	titleset_type.readyPromise.then(function() {
    var boundingSphere = titleset_type.boundingSphere;
	var heightOffset = -1400;
	var cartographic = Cesium.Cartographic.fromCartesian(boundingSphere.center);
	var surface = Cesium.Cartesian3.fromRadians(cartographic.longitude, cartographic.latitude,0);
	var offset = Cesium.Cartesian3.fromRadians(cartographic.longitude, cartographic.latitude, heightOffset);
	var translation = Cesium.Cartesian3.subtract(offset, surface, new Cesium.Cartesian3());
	titleset_type.modelMatrix = Cesium.Matrix4.fromTranslation(translation);
   
												});						
	return titleset_type;
}
	// 测试图像加载函数
function png_show(URL)
{
     var layers = viewer.imageryLayers;// viewer.scene.imageryLayers;
     var blackMarble = layers.addImageryProvider(
        new Cesium.createTileMapServiceImageryProvider({
			tilingScheme : new Cesium.GeographicTilingScheme(),
            url : URL     //url为文件夹地址
        }));
		//blackMarble.alpha = 0.5; // 0.0 is transparent.  1.0 is opaque.
		return blackMarble;
  }
  
  
	function titleset_show_s(URL)   //丹霞山倾斜加载
{
var titleset_type = viewer.scene.primitives.add(new Cesium.Cesium3DTileset({
                           url : URL	
                            }));
	titleset_type.readyPromise.then(function() {
    var boundingSphere = titleset_type.boundingSphere;
	var heightOffset = 80;
	var cartographic = Cesium.Cartographic.fromCartesian(boundingSphere.center);
	cartographic_new=cartographic;
	var surface = Cesium.Cartesian3.fromRadians(cartographic.longitude, cartographic.latitude,0);
	var offset = Cesium.Cartesian3.fromRadians(cartographic.longitude, cartographic.latitude, heightOffset);
	var translation = Cesium.Cartesian3.subtract(offset, surface, new Cesium.Cartesian3());
	titleset_type.modelMatrix = Cesium.Matrix4.fromTranslation(translation);
   
												});						
	return titleset_type;
}
	function titleset_show_bz(URL)   //巴寨倾斜加载
{
var titleset_type = viewer.scene.primitives.add(new Cesium.Cesium3DTileset({
                           url : URL	
                            }));
	titleset_type.readyPromise.then(function() {
    var boundingSphere = titleset_type.boundingSphere;
	var heightOffset = 200;
	var cartographic = Cesium.Cartographic.fromCartesian(boundingSphere.center);
	cartographic_new=cartographic;
	var surface = Cesium.Cartesian3.fromRadians(cartographic.longitude, cartographic.latitude,0);
	var offset = Cesium.Cartesian3.fromRadians(cartographic.longitude, cartographic.latitude, heightOffset);
	var translation = Cesium.Cartesian3.subtract(offset, surface, new Cesium.Cartesian3());
	titleset_type.modelMatrix = Cesium.Matrix4.fromTranslation(translation);
   
												});						
	return titleset_type;
}
	$("#leftTree").tree({
               onCheck:function(node){
               var id=node.id;
                    switch(id){
                    case 111:                                   <!-- 卫星地图 -->
                     if (showId_111==0)
				   {
				     img_111=image_show2(_gserveradd+'ghTilesServer.ashx/GOOGLE_SATE',1);
					 //img_111=image_show2("../../localOtherData/googleImg",1);
                     showId_111=1; 
					 }else {
					 showId_111=0;
					 viewer.scene.imageryLayers.remove(img_111); 
					 }  
                    break;
					case 112:                                   <!-- 交通地图 -->
                     if (showId_112==0)
				   {
				     img_112=image_show1(_gserveradd+"ghTilesServer.ashx/GOOGLE_ROAD",1);
					 //img_112=image_show1("../../localOtherData/worldlabel",1);
                     showId_112=1; 
					 }else {
					 showId_112=0;
					 viewer.scene.imageryLayers.remove(img_112); 
					 }  
                    break;
					case 113:                                   <!-- 地图图像 -->
                     if (showId_113==0)
				   {
				     img_113=image_show1(_gserveradd+"ghTilesServer.ashx/GOOGLE_MAP",0.9);  
				     //img_113=image_show1("../../localOtherData/worldmap",1);
                     showId_113=1; 
					 }else {
					 showId_113=0;
					 viewer.scene.imageryLayers.remove(img_113); 
					 }  
                    break;
					case 114:                                   <!-- 地形晕渲 -->
                     if (showId_114==0)
				   {
				     img_114=image_show2(_gserveradd + "ghTilesServer.ashx/GOOGLE_RENDER",0.9);
					 //img_114=image_show2("../../localOtherData/worldyunxuan",1);
                     showId_114=1; 
					 }else {
					 showId_114=0;
					 viewer.scene.imageryLayers.remove(img_114); 
					 }  
                    break;
					case 115:                                   <!-- 土地覆盖15-30m -->
                     if (showId_115==0)
				   {
				     img_115=add_tiles_4326(_gserveradd + "ghTilesServer.ashx/tudifugai15",0.4);
					 changeImag("http://localhost:81/localOtherData/quanqiutudifugai/2015tile/15tuli.jpg");
                     showId_115=1; 
					 }else {
					 showId_115=0;
					 viewer.scene.imageryLayers.remove(img_115); 
					 dispear_img();
					 }  
                    break;
					case 116:                                   <!-- 土地覆盖17-30m -->
                     if (showId_116==0)
				   {
				     img_116=add_tiles_4326(_gserveradd + "ghTilesServer.ashx/tudifugai17",0.4);
					  changeImag("http://localhost:81/localOtherData/quanqiutudifugai/2017tile/17tuli.jpg");
                     showId_116=1; 
					 }else {
					 showId_116=0;
					 viewer.scene.imageryLayers.remove(img_116); 
					 dispear_img();
					 }  
                    break;
					case 117:                                   <!-- 土地覆盖17-10m -->
                     if (showId_117==0)
				   {
				     img_117=add_tiles_4326(_gserveradd + "ghTilesServer.ashx/tudifugai1710",0.4);
					 changeImag("http://localhost:81/localOtherData/quanqiutudifugai/2017tile/17tuli.jpg");
                     showId_117=1; 
					 }else {
					 showId_117=0;
					 viewer.scene.imageryLayers.remove(img_117); 
					 dispear_img();
					 }  
                    break;
					case 118:                                   <!-- 全球区划 -->
                     if (showId_118==0)
				   {
						
						img_118= add_layer_geoserver('world');// areabound();
						//viewer.scene.imageryLayers.raiseToTop(img_118);
						showId_118=1; 
					 }else {
					 showId_118=0;
					 parm1=undefined;
					// viewer.scene.imageryLayers.remove(img_118); 
					 viewer.scene.imageryLayers.remove(img_118); 
					 }  
                    break;
					case 119:                                   <!-- 中国区划 -->
                     if (showId_119==0)
				   {
						
						img_119=add_layer_geoserver('china');
						showId_119=1; 
					 }else {
					 showId_119=0;
					 parm1=undefined;
					// viewer.scene.imageryLayers.remove(img_118); 
					 viewer.scene.imageryLayers.remove(img_119); 
					 }  
                    break;
					case 221:                                   <!-- 地质图 -->
                     if (showId_221==0)
				   {
				     //img_221=image_show(_gserveradd + "ghTilesServer.ashx/DZ",1);
					 //img_221=image_show(_gserveradd + "ghTilesServer.ashx/fenlei1",1);
					 //img_221=image_show("../../localOtherData/dizhi",1);
					 img_221=image_show(_gserveradd + "ghTilesServer.ashx/DZ",0.5);
					// img_221=png_show("http://localhost:81/qianda",0.5);
			
					
                     showId_221=1; 
					 }else {
					 showId_221=0;
					 viewer.scene.imageryLayers.remove(img_221); 
					 }  
                    break;
					case 222:                                   <!-- 全球土地覆盖 -->
                     if (showId_222==0)
				   {
				     img_222=image_show1(_gserveradd + "ghTilesServer.ashx/lpf-landcover-globalmapper",1);
				     //img_222=image_show1("../../localOtherData/lpf-landcover-globalmapper",1);
                     showId_222=1; 
					 }else {
					 showId_222=0;
					 viewer.scene.imageryLayers.remove(img_222); 
					 }  
                    break;
					case 223:                                   <!-- 三台土地覆盖 -->
                     if (showId_223==0)
				   {
				     img_223=image_show(_gserveradd + "ghTilesServer.ashx/SanTai_Landuse_2012",1);
				     //img_223=image_show("../../localOtherData/SC_SanTai_Landuse_201112_3W",1);
					 locateTO(105.02094,30.99968,2000);
                     showId_223=1; 
					 }else {
					 showId_223=0;
					 viewer.scene.imageryLayers.remove(img_223); 
					 }  
                    break;
					case 224:                                   <!-- 土壤类型 -->
                     if (showId_224==0)
				   {
				      img_224=image_show(_gserveradd + "ghTilesServer.ashx/turan/type",0.3);
				     //img_224=image_show("../../localOtherData/turang/type",0.3);
                     showId_224=1; 
					 }else {
					 showId_224=0;
					 viewer.scene.imageryLayers.remove(img_224); 
					 }  
                    break;
					case 225:                                   <!-- 土壤侵蚀 -->
                     if (showId_225==0)
				   { 
				      img_225=image_show(_gserveradd + "ghTilesServer.ashx/turan/qinshi",0.3);
				     //img_225=image_show("../../localOtherData/turang/qinshi",0.3);
                     showId_225=1; 
					 }else {
					 showId_225=0;
					 viewer.scene.imageryLayers.remove(img_225); 
					 }  
                    break;
					case 226:                                   <!-- 表层土壤机构 -->
                     if (showId_226==0)
				   {
				       img_226=image_show(_gserveradd + "ghTilesServer.ashx/turan/biaoceng",0.3);
				     //img_226=image_show("../../localOtherData/turang/biaoceng",0.3);
                     showId_226=1; 
					 }else {
					 showId_226=0;
					 viewer.scene.imageryLayers.remove(img_226); 
					 }  
                    break;
					case 227:                                   <!-- 土壤总氮结构 -->
                     if (showId_227==0)
				   {
				       img_227=image_show(_gserveradd + "ghTilesServer.ashx/turan/TN_layer1RGB",0.3);
				     //img_227=image_show("../../localOtherData/turang/TN_layer1RGB",0.3);
                     showId_227=1; 
					 }else {
					 showId_227=0;
					 viewer.scene.imageryLayers.remove(img_227); 
					 }  
                    break;
					case 228:                                   <!-- 土壤质地粘土 -->
                     if (showId_228==0)
				   {
				      img_228=image_show(_gserveradd + "ghTilesServer.ashx/turan/niantu",0.3);
				     //img_228=image_show("../../localOtherData/turang/niantu",0.3);
                     showId_228=1; 
					 }else {
					 showId_228=0;
					 viewer.scene.imageryLayers.remove(img_228); 
					 }  
                    break;
					case 229:                                   <!-- 土壤质地粉砂土 -->
                     if (showId_229==0)
				   {
				      img_229=image_show(_gserveradd + "ghTilesServer.ashx/turan/fenshatu",0.3);
				     //img_229=image_show("../../localOtherData/turang/fenshatu",0.3);
                     showId_229=1; 
					 }else {
					 showId_229=0;
					 viewer.scene.imageryLayers.remove(img_229); 
					 }  
                    break;
					case 230:                                   <!-- 土壤有机碳结构 -->
                     if (showId_230==0)
				   {
				     img_230=image_show(_gserveradd + "ghTilesServer.ashx/turan/OC_layer1RGB",0.3);
					 //img_230=image_show("../../localOtherData/turang/OC_layer1RGB",0.3);
                     showId_230=1; 
					 }else {
					 showId_230=0;
					 viewer.scene.imageryLayers.remove(img_230); 
					 }  
                    break;
					case 231:                                   <!-- 植被覆盖面积 -->
                     if (showId_231==0)
				   {
				       img_231=image_show(_gserveradd + "ghTilesServer.ashx/turan/zhibei_type",0.3);
				     //img_231=image_show("../../localOtherData/turang/zhibei_type",0.3);
                     showId_231=1; 
					 }else {
					 showId_231=0;
					 viewer.scene.imageryLayers.remove(img_231); 
					 }  
                    break;
					case 232:                                   <!-- 植被覆盖面积 -->
                     if (showId_232==0)
				   {
				        dxsout();
				     
                     showId_232=1; 
					 }else {
					 showId_232=0;
					 viewer.entities.removeAll();
					 }  
                    break;
					case 233:                                   <!-- 植被覆盖面积 -->
                     if (showId_233==0)
				   {
				        dxsin();
                     showId_233=1; 
					 }else {
					 showId_233=0;
					  viewer.entities.removeAll();
					 }  
                    break;
					case 331:                                   <!-- 各国土地面积 -->
                     if (showId_331==0)
				   {
				       img_331=image_show(_gserveradd + "ghTilesServer.ashx/world_area",0.3);
				     //img_331=image_show("../../localOtherData/worldData/world_area",0.3);
					 changeImag("../../localOtherData/renwen/world_area/world_area.png");
                     showId_331=1; 
					 }else {
					 showId_331=0;
					 dispear_img();
					 viewer.scene.imageryLayers.remove(img_331); 
					 }  
                    break;
					case 332:                                   <!-- 国家人口分布 -->
                     if (showId_332==0)
				   {
				       img_332=image_show(_gserveradd + "ghTilesServer.ashx/world_pop",0.3);
				     //img_332=image_show("../../localOtherData/worldData/world_pop",0.3);
					 changeImag("../../localOtherData/renwen/world_pop/world_pop.png");
                     showId_332=1; 
					 }else {
					 showId_332=0;
					 dispear_img();
					 viewer.scene.imageryLayers.remove(img_332); 
					 }  
                    break;
					case 333:                                   <!-- 中国省级人口 -->
                     if (showId_333==0)
				   {
				     img_333=button_china();
					 //addShp();
                     showId_333=1; 
					 }else {
					 showId_333=0;
					 viewer.dataSources.removeAll();
					 viewer.scene.imageryLayers.remove(img_333); 
					 }  
                    break;
					case 334:                                   <!-- 中国市级人口 -->
                     if (showId_334==0)
				   {
				     img_334=image_show(_gserveradd + "ghTilesServer.ashx/population_Province",0.3);
				     //img_334=image_show("../../localOtherData/population_Province",0.3);
					 changeImag("../../localOtherData/renwen/population_Province/Renkou_Shi.png");
                     showId_334=1; 
					 }else {
					 showId_334=0;
					 dispear_img();
					 viewer.scene.imageryLayers.remove(img_334); 
					 }  
                    break;
					case 441:                                   <!-- 风向风力 -->
                     if (showId_441==0)
				   {
				     viewer.terrainProvider = defaultTerrain;
				     valueOnChange_before();
                     showId_441=1; 
					 }else {
					 showId_441=0;
					 add_dem(_gserveradd + 'ghTilesServer.ashx/TERRAIN');
					 closeWind();
					 }  
                    break;
					case 442:                                   <!-- 降水动态模拟 -->
                     if (showId_442==0)
				   {
				     cnjs_Change();
					  changeImag("../../localOtherData/jiangshui_change/jiangshui.png");
					 cnjs_image_other1=image_show(_gserveradd + 'ghTilesServer.ashx/js!'+(cnjs_i+1),1);
                     showId_442=1; 
					 //"../../localOtherData/jiangshui_change/"
					 }else {
					 dispear_img();
					 showId_442=0;
					 cnjs_Cancel();
					 viewer.scene.imageryLayers.remove(cnjs_image_other1);
					 }  
                    break;
					case 443:                                   <!-- 气温动态模拟 -->
                     if (showId_443==0)
				   {
				     cnqw_Change();
					 changeImag("../../localOtherData/qiwenchange/qiwen.png");
					 cnqw_image_other1=image_show(_gserveradd + 'ghTilesServer.ashx/qw!'+(cnqw_i+1),1);
                     showId_443=1; 
					 }else {
					 showId_443=0;
					 dispear_img();
					 cnqw_Cancel();
					 viewer.scene.imageryLayers.remove(cnqw_image_other1);
					 }  
                    break;
					case 444:                                   <!-- 气温动态模拟NEW-->
                     if (showId_444==0)
				   {
				     cnqw_Change();
					 //changeImag("../../localOtherData/qiwenchange/qiwen.png");
					 
					 var image_GUST=image_sing("http://localhost:81/localOtherData/fnl_2017/PRES/fnl_20170101_00_PRES.png",1);
                     showId_444=1; 
					 }else {
					 showId_444=0;
					 //dispear_img();
					 //cnqw_Cancel();
					 viewer.scene.imageryLayers.remove(image_GUST);
					 }  
                    break;
					 case 1001:                                   <!-- 气象控制面板 -->
                     if (showId_1001==0)
				   {
                      $('#qixiangWindow').window('open');
                     showId_1001=1; 
					 }else {
					 showId_1001=0;
					 $('#qixiangWindow').window('close'); 
					 }  
                    break; 
					case 551:                                   <!-- 天津地形 -->
                     if (showId_551==0)
				   {
				     locateTO(117.551513,40.189091,30000);
					 //viewer.terrainProvider = defaultTerrain;
					 add_dem(_gserveradd + 'ghTilesServer.ashx/BXS_TERRAIN');
					 //viewer.terrainProvider = terrainProvider_bxs;
					 //add_dem("../../localOtherData/qyk");
					 //img_562=image_show("../../localOtherData/baxianshan_xia",1.0);
					 img_562=image_show(_gserveradd + "ghTilesServer.ashx/GOOGLE_BXSSUMMER",1);
                     showId_551=1; 
					 }else {
					 showId_551=0;
					 add_dem(_gserveradd + 'ghTilesServer.ashx/TERRAIN');
					 viewer.scene.imageryLayers.remove(img_562); 
					 //viewer.terrainProvider = defaultTerrain;
					 //viewer.terrainProvider = terrainProvider_30m;
					 viewer.scene.imageryLayers.remove(img_562); 
					 }  
                    break;
					case 552:                                   <!-- 天津晕渲图 -->
                     if (showId_552==0)
				   {
				       img_552=image_show(_gserveradd + "ghTilesServer.ashx/TJ_TITLES",1);
				     //img_552=image_show("../../localOtherData/TJ_TITLES",1);
                     showId_552=1; 
					 }else {
					 showId_552=0;
					 viewer.scene.imageryLayers.remove(img_552); 
					 }  
                    break;
					case 553:                                   <!-- 天津区县界线 -->
                     if (showId_553==0)
				   {
				     img_553=load_shp("TJSHP/xian_boundary.json",Cesium.Color.YELLOW,0.1,20);
                     tjxq();
					 showId_553=1; 
					 }else {
					 showId_553=0;
					 //viewer.entities.removeById('tjxq_cancel');
			         viewer.dataSources.remove(img_553);
				     looptjxq_cancel(); 
					 }  
                    break;
					case 554:                                   <!-- 天津乡镇界限 -->
                     if (showId_554==0)
				   {
				     img_554=load_shp("TJSHP/TJTOWN_NEW.json",Cesium.Color.WHITE,0.1,10);
					 tjxz();
                     showId_554=1; 
					 }else {
					 showId_554=0;
					 //viewer.entities.removeById('tjxz_cancel');
			         viewer.dataSources.remove(img_554);
				     looptjxz_cancel(); 
					 }  
                    break;
					case 555:                                   <!-- 四川航拍影像 -->
                     if (showId_555==0)
				   {
				     img_555=image_show(_gserveradd + "ghTilesServer.ashx/SC_SanTai",1);
				     //img_555=image_show("../../localOtherData/SC_SanTai",1);
					 locateTO(105.02094,30.99968,2000);
                     showId_555=1; 
					 }else {
					 showId_555=0;
					 viewer.scene.imageryLayers.remove(img_555); 
					 }  
                    break;
					case 556:                                   <!-- 四川土地确权 -->
                     if (showId_556==0)
				   {
				     img_556=image_show(_gserveradd + "ghTilesServer.ashx/SC_SanTai_LandOwnership",1);  
				     //img_556=image_show("../../localOtherData/SC_SanTai_LandOwnership",1);
					 locateTO(105.02094,30.99968,2000);
                     showId_556=1; 
					 }else {
					 showId_556=0;
					 viewer.scene.imageryLayers.remove(img_556); 
					 }  
                    break;
					case 557:                                   <!-- 河南正射影像 -->
                     if (showId_557==0)
				   {
				     img_557=image_show(_gserveradd + "ghTilesServer.ashx/shilongshan_img",1);  
				     //img_557=image_show(_gserveradd + "ghTilesServer.ashx/GOOGLE_CESHI",1);
					 locateTO(113.57277,32.623888,900);
                     showId_557=1; 
					 }else {
					 showId_557=0;
					 viewer.scene.imageryLayers.remove(img_557); 
					 }  
                    break;
					case 558:                                   <!-- 河南多光谱影像 -->
                     if (showId_558==0)
				   {
				       img_558=image_show(_gserveradd + "ghTilesServer.ashx/shilongshan_duoguangpu",1);
					 //img_558=image_show("../../localOtherData/shilongshan_duoguangpu",1);
                     showId_558=1; 
					 }else {
					 showId_558=0;
					 viewer.scene.imageryLayers.remove(img_558); 
					 }  
                    break;
					case 559:                                   <!-- 河南坡度等级图 -->
                     if (showId_559==0)
				   {
				     img_559=image_show(_gserveradd + "ghTilesServer.ashx/shilongshan_slope",1);
					 //img_559=image_show("../../localOtherData/shilongshan_slope",1);
                     showId_559=1; 
					 }else {
					 showId_559=0;
					 viewer.scene.imageryLayers.remove(img_559); 
					 }  
                    break;
					case 560:                                   <!-- 福建正射影像 -->
                     if (showId_560==0)
				   { 
				     viewer.terrainProvider = defaultTerrain;
				     img_560=image_show(_gserveradd + "ghTilesServer.ashx/FJ_FQ",1);
					 //img_560=image_show("../../localOtherData/FJ_FQ",1);
					 locateTO(119.5525,25.700833,2000);
                     showId_560=1; 
					 }else {
					 showId_560=0;
					 add_dem(_gserveradd + 'ghTilesServer.ashx/TERRAIN');
					 viewer.scene.imageryLayers.remove(img_560); 
					 }  
                    break;
					case 561:                                   <!-- 黑龙江火险等级图 -->
                     if (showId_561==0)
				   {
				      img_561=image_show(_gserveradd + "ghTilesServer.ashx/HLJ-HTZ",0.5);
				     //img_561=image_show("../../localOtherData/HTZ",0.5);
					 locateTO(122.314,50.055754,1200000);
                     showId_561=1; 
					 }else {
					 showId_561=0;
					 viewer.scene.imageryLayers.remove(img_561); 
					 }  
                    break;
					case 562:                                   <!-- 八仙山夏季DOM数据 -->
                     if (showId_562==0)
				   {
				     locateTO(117.551513,40.189091,30000);
				     img_562=image_show(_gserveradd + "ghTilesServer.ashx/GOOGLE_BXSSUMMER",1.0);
					 //img_562=image_show("../../localOtherData/baxianshan_xia",1.0);
                     showId_562=1; 
					 }else {
					 showId_562=0;
					 viewer.scene.imageryLayers.remove(img_562); 
					 }  
                    break;
					case 563:                                   <!-- 八仙山秋季DOM数据 -
                     if (showId_563==0)
				   {
				     //locateTO(117.551513,40.189091,30000);
				     //img_563=image_show("http://192.168.10.35:81/bxsfall",1.0);
				     img_563=image_show(_gserveradd + "ghTilesServer.ashx/GOOGLE_BXSAUTUMN",1.0);
					 //img_563=image_show("../../localOtherData/baxianshan_qiu/0-22",1.0);
                     showId_563=1; 
					 }else {
					 showId_563=0;
					 viewer.scene.imageryLayers.remove(img_563); 
					 }  
                    break;
					case 564:                                   <!-- 八仙山冬季DOM数据 -->
                     if (showId_564==0)
				   {
				     img_564=image_show(_gserveradd + "ghTilesServer.ashx/GOOGLE_BXSWINTER",1.0);
					 //img_564=image_show("../../localOtherData/baxianshan_dong/0-20",1.0);
                     showId_564=1; 
					 }else {
					 showId_564=0;
					 viewer.scene.imageryLayers.remove(img_564); 
					 }  
                    break;
					case 565:                                   <!-- 八仙山DRG数据 -->
                     if (showId_565==0)
				   {
				     img_565=image_show(_gserveradd + "ghTilesServer.ashx/GOOGLE_BXSDRG",1.0);
					 //img_565=image_show("../../localOtherData/baxianshan_denggao/12-20",1.0);
                     showId_565=1; 
					 }else {
					 showId_565=0;
					 viewer.scene.imageryLayers.remove(img_565); 
					 }  
                    break;
					case 566:                                   <!-- 丹霞山正射数据 -->
                     if (showId_566==0)
				   { 
				    img_566=png_show( 'http://localhost:81/dxsdom/');
					//img_566=png_show( 'http://localhost:81/dxsdom/');

				   /*
					vosm_dxs.show=true;
					 if(!vimglayers.contains(vosm_dxs)) 
						vimglayers.add(vosm_dxs);
					//img_566=image_show(_gserveradd + "ghTilesServer.ashx/DXS_DOM",1.0);
					 viewer.terrainProvider = terrainProvider_dxs;
					 */
                     showId_566=1; 
                     locateTO(113.7016,24.9703,2000);
					 //回复原状
					 //remove
					 
					 //恢复地形
					 //viewer.terrainProvider = defaultTerrain;
					 //viewer.terrainProvider = terrainProvider;
					 //add
					 
					 
                     //add_dem("../../localOtherData/tiles-DEM");
					 //img_566=image_show("../../localOtherData/tiles-DSM20",1);
					 //image_show("../../localOtherData/google",1);
					 }else {
					 showId_566=0;
					 
					 if(vimglayers.contains(vosm_dxs)) 
						vosm_dxs.show=false;
					 //viewer.terrainProvider = defaultTerrain;
					 add_dem(_gserveradd + "ghTilesServer.ashx/TERRAIN");
					 viewer.scene.imageryLayers.remove(img_566); 
					 }  
                    break;
					case 8813:                                   <!-- 丹霞山矢量数据 -->
                     if (showId_8813==0)
				   { 
                     //locateTO(113.7016,24.9703,2000);
					 //viewer.terrainProvider = defaultTerrain;
                     //add_dem("../../localOtherData/tiles-DEM");
					 img_8813=image_show(_gserveradd + "ghTilesServer.ashx/DXS_vector",1);
					 //image_show("../../localOtherData/google",1);
                     showId_8813=1; 
					 }else {
					 showId_8813=0;
					  //add_dem("../../30mDem");
					 viewer.scene.imageryLayers.remove(img_8813); 
					 }  
                    break;
                    case 569:                                   <!-- 柳江盆地地形数据 -->
                     if (showId_569==0)
				   { 
                     locateTO(119.6,40.124,2000);
                     add_dem(_gserveradd + 'ghTilesServer.ashx/LJPD_TERRAIN');
				     img_569=image_show(_gserveradd + "ghTilesServer.ashx/GOOGLE_LJPD",1);
                     showId_569=1; 
					 }else {
					 showId_569=0;
					 add_dem(_gserveradd + 'ghTilesServer.ashx/TERRAIN');
                     //add_dem("../../30mDem");
					 viewer.scene.imageryLayers.remove(img_569); 
					 }  
                    break;
					case 10000:                                   <!-- 四川广元地形数据 -->
                     if (showId_10000==0)
				   { 
                     locateTO(105.6513,32.3530,2000);
                     //add_dem(_gserveradd + "ghTilesServer.ashx/GY-dem");
				     img_10000=image_show(_gserveradd + "ghTilesServer.ashx/GY-dom",1);
                     showId_10000=1; 
					 }else {
					 showId_10000=0;
                     add_dem(_gserveradd + 'ghTilesServer.ashx/TERRAIN');
					 viewer.scene.imageryLayers.remove(img_10000); 
					 }  
                    break;
					case 567:                                   <!-- 精武镇航拍 -->
                     if (showId_567==0)
				   {
				     img_567=image_show(_gserveradd + "ghTilesServer.ashx/xuefu_0-24",1);
					 locateTO(117.095802,39.055754,2000);
                     showId_567=1; 
					 }else {
					 showId_567=0;
					 viewer.scene.imageryLayers.remove(img_567); 
					 }  
                    break;
					case 568:                                   <!-- 东寨村航拍 -->
                     if (showId_568==0)
				   {
				     img_568=image_show(_gserveradd + "ghTilesServer.ashx/dongzhaicun",1);
					 //img_568=image_show("../../localOtherData/dongzhaivillage",1);
					 locateTO(117.040574,38.955552,900);
                     showId_568=1; 
					 }else {
					 showId_568=0;
					 viewer.scene.imageryLayers.remove(img_568); 
					 }  
                    break;
					case 10011:                                  <!-- 吕梁林相图 -->
					 if (showID_10011==0)
				   {
				     img_571=image_show(_gserveradd + "ghTilesServer.ashx/LX",1);
				     //img_571=image_show("/localOtherData/LV_linxiang",1.0);
					 locateTO(111.6455,37.6683,70000);
					 showID_10011=1;
					 }else {
					 showID_10011=0;
                     viewer.scene.imageryLayers.remove(img_571); 
					 }
					 break;
					case 10012:                                  <!-- 汾阳正射影像及地形 -->
					 if (showID_10012==0)
				   {
				     locateTO(111.691530,37.540490,2000);
					 //viewer.terrainProvider = defaultTerrain;
	                 add_dem(_gserveradd + "ghTilesServer.ashx/fenyang_dem");
					 //img_10012=image_show(_gserveradd + "ghTilesServer.ashx/fenyang_dom", 1);
					 img_10012=add_tiles_4326(_gserveradd + "ghTilesServer.ashx/fenyang_dom",1);
					 showID_10012=1;
				     }else {
					 showID_10012=0;
					 add_dem(_gserveradd + 'ghTilesServer.ashx/TERRAIN');
					 viewer.scene.imageryLayers.remove(img_10012);
					 }
					 break;
					 case 10013:                                 <!-- 汾阳倾斜摄影 -->
					  if (showID_10013==0)
				   {
				     locateTO(111.7027,37.5348,500);
					 titlesetFY1=titleset_show_FY('../../qingxie/fenyang_all/data1/');
					 titlesetFY2=titleset_show_FY('../../qingxie/fenyang_all/data2/');
					 titlesetFY3=titleset_show_FY('../../qingxie/fenyang_all/data3/');
					 titlesetFY4=titleset_show_FY('../../qingxie/fenyang_all/data4/');
					 titlesetFY5=titleset_show_FY('../../qingxie/fenyang_all/data5/');
					 viewer.terrainProvider = defaultTerrain;
                     showID_10013=1; 
				     }else {
					 showID_10013=0;
					 viewer.scene.primitives.remove(titlesetFY1);
					 viewer.scene.primitives.remove(titlesetFY2);
					 viewer.scene.primitives.remove(titlesetFY3);
					 viewer.scene.primitives.remove(titlesetFY4);
					 viewer.scene.primitives.remove(titlesetFY5);
					 add_dem(_gserveradd + 'ghTilesServer.ashx/TERRAIN');
					 }
					 break;
					case 661:                                   <!-- 天津师范大学倾斜摄影 -->
                     if (showId_661==0)
				   {
				     locateTO(117.12, 39.06, 500);
					 titlesetSD1=titleset_show1('../../localOtherData/Tjsd_b3dm/shida1/Tileset.json');
					 titlesetSD2=titleset_show1('../../localOtherData/Tjsd_b3dm/shida2/Tileset.json');
					 titlesetSD3=titleset_show1('../../localOtherData/Tjsd_b3dm/shida3/Tileset.json');
					 titlesetSD4=titleset_show1('../../localOtherData/Tjsd_b3dm/shida4/Tileset.json');
					 titlesetSD5=titleset_show1('../../localOtherData/Tjsd_b3dm/shida5/Tileset.json');
					 titlesetSD6=titleset_show1('../../localOtherData/Tjsd_b3dm/shida6/Tileset.json');
                     showId_661=1; 
					 }else {
					 showId_661=0;
					 viewer.scene.primitives.remove(titlesetSD1);
					 viewer.scene.primitives.remove(titlesetSD2);
					 viewer.scene.primitives.remove(titlesetSD3);
					 viewer.scene.primitives.remove(titlesetSD4);
					 viewer.scene.primitives.remove(titlesetSD5);
					 viewer.scene.primitives.remove(titlesetSD6);
					 }  
                    break;
					case 662:                                   <!-- 湖北丹江口倾斜摄影 -->
                     if (showId_662==0)
				   {
				   
				     img_662=titleset_show('../../localOtherData/qingxie/osgb_daba_b3dm/Tileset.json');
					 locateTO(111.49472, 32.55388, 500);
                     showId_662=1; 
					 }else {
					 showId_662=0;
					 viewer.scene.primitives.remove(img_662); 
					 }  
                    break;
					case 663:                                   <!-- 湖北陶岔倾斜摄影 -->
                     if (showId_663==0)
				   {
				     img_663=titleset_show('../../localOtherData/qingxie/taocha_3dtiles/Tileset.json');
					 locateTO(111.71472, 32.671944, 500);
                     showId_663=1; 
					 }else {
					 showId_663=0;
					 viewer.scene.primitives.remove(img_663); 
					 }  
                    break;    
					case 664:                                   <!-- 丹霞山倾斜摄影 -->
					 if (showID_664==0)
				   {
				     locateTO(113.7267,25.0081,3000);
					 titlesetDXS1=titleset_show_s('../../localOtherData/DXSqingxie/data1/Tileset.json');
					 titlesetDXS2=titleset_show_s('../../localOtherData/DXSqingxie/data2/Tileset.json');
					 titlesetDXS3=titleset_show_s('../../localOtherData/DXSqingxie/data3/Tileset.json');
					 titlesetDXS4=titleset_show_s('../../localOtherData/DXSqingxie/data4/Tileset.json');
					 titlesetDXS5=titleset_show_s('../../localOtherData/DXSqingxie/data5/Tileset.json');
					 titlesetDXS6=titleset_show_s('../../localOtherData/DXSqingxie/data6/Tileset.json');
					 titlesetDXS7=titleset_show_s('../../localOtherData/DXSqingxie/data7/Tileset.json');
					 
					 //viewer.terrainProvider = defaultTerrain;
                     showID_664=1; 
				     }else {
					 showID_664=0;
					 viewer.scene.primitives.remove(titlesetDXS1);
					 viewer.scene.primitives.remove(titlesetDXS2);
					 viewer.scene.primitives.remove(titlesetDXS3);
					 viewer.scene.primitives.remove(titlesetDXS4);
					 viewer.scene.primitives.remove(titlesetDXS5);
					 viewer.scene.primitives.remove(titlesetDXS6);
					 viewer.scene.primitives.remove(titlesetDXS7);
					  
					 //add_dem(_gserveradd + 'ghTilesServer.ashx/TERRAIN');
					 }
					 break;
					 case 666:                                   <!-- 海岸线倾斜摄影 -->
                     if (showId_666==0)
				   {
				     viewer.terrainProvider = defaultTerrain;
					         for (i=1;i<=7;i++)
							 {
							    tilessethaianxian[i]=titleset_show_hax('http://localhost:81/localOtherData/haianxiannew//data'+i+'/Tileset.json');
								
							 }
					 locateTO(117.82774, 39.09004, 2000);
                     showId_666=1; 
					 }else {
					 showId_666=0;
					 for ( var i=1;i<=7;i++){
					          viewer.scene.primitives.remove(tilessethaianxian[i]);
						  }
					 //add_dem("../../30mDem");
					 add_dem(_gserveradd + 'ghTilesServer.ashx/TERRAIN');
					 }  
                    break;
					case 667:                                   <!-- 巴寨倾斜摄影 -->
                     if (showId_667==0)
				   {
				    // viewer.terrainProvider = defaultTerrain;
				      //titlesetBZ2=titleset_show_hax('http://localhost:81/localOtherData/20191104/Production_4_2/');
                     //titlesetBZ1=titleset_show_hax('http://localhost:81/localOtherData/bazhai_ceshi/tileset.json');	
					locateTO(113.6848,25.0029,3000);
					 titlesetBZ1=titleset_show_bz('../../localOtherData/BZ_QingXie/data1/Tileset.json');
					 titlesetBZ2=titleset_show_bz('../../localOtherData/BZ_QingXie/data2/Tileset.json');
					 titlesetBZ3=titleset_show_bz('../../localOtherData/BZ_QingXie/data3/Tileset.json');
					 titlesetBZ4=titleset_show_bz('../../localOtherData/BZ_QingXie/data4/Tileset.json');
					 titlesetBZ5=titleset_show_bz('../../localOtherData/BZ_QingXie/data5/Tileset.json');
					 titlesetBZ6=titleset_show_bz('../../localOtherData/BZ_QingXie/data6/Tileset.json');
					 titlesetBZ7=titleset_show_bz('../../localOtherData/BZ_QingXie/data7/Tileset.json');
					 titlesetBZ8=titleset_show_bz('../../localOtherData/BZ_QingXie/data8/Tileset.json');
					 titlesetBZ9=titleset_show_bz('../../localOtherData/BZ_QingXie/data9/Tileset.json');
					 titlesetBZ10=titleset_show_bz('../../localOtherData/BZ_QingXie/data10/Tileset.json');
					 titlesetBZ11=titleset_show_bz('../../localOtherData/BZ_QingXie/data11/Tileset.json');
				     titlesetBZ12=titleset_show_bz('../../localOtherData/BZ_QingXie/data12/Tileset.json');
				     titlesetBZ13=titleset_show_bz('../../localOtherData/BZ_QingXie/data13/Tileset.json');
					 titlesetBZ14=titleset_show_bz('../../localOtherData/BZ_QingXie/data14/Tileset.json');
					 titlesetBZ15=titleset_show_bz('../../localOtherData/BZ_QingXie/data15/Tileset.json');
					 titlesetBZ16=titleset_show_bz('../../localOtherData/BZ_QingXie/data16/Tileset.json');
					 titlesetBZ17=titleset_show_bz('../../localOtherData/BZ_QingXie/data17/Tileset.json');
					 titlesetBZ18=titleset_show_bz('../../localOtherData/BZ_QingXie/data18/Tileset.json');
					 //viewer.terrainProvider = defaultTerrain;
                     showId_667=1; 
				     }else {
					 showId_667=0;
					 viewer.scene.primitives.remove(titlesetBZ1);
					 viewer.scene.primitives.remove(titlesetBZ1);
					 viewer.scene.primitives.remove(titlesetBZ2);
					 viewer.scene.primitives.remove(titlesetBZ3);
					 viewer.scene.primitives.remove(titlesetBZ4);
					 viewer.scene.primitives.remove(titlesetBZ5);
					 viewer.scene.primitives.remove(titlesetBZ6);
					 viewer.scene.primitives.remove(titlesetBZ7);
					 viewer.scene.primitives.remove(titlesetBZ8);
					 viewer.scene.primitives.remove(titlesetBZ9);
					 viewer.scene.primitives.remove(titlesetBZ10);
				     viewer.scene.primitives.remove(titlesetBZ11); 
					 viewer.scene.primitives.remove(titlesetBZ12);
					 viewer.scene.primitives.remove(titlesetBZ13);
					 viewer.scene.primitives.remove(titlesetBZ14);
					 viewer.scene.primitives.remove(titlesetBZ15);
					 viewer.scene.primitives.remove(titlesetBZ16);
					 viewer.scene.primitives.remove(titlesetBZ17);
					 viewer.scene.primitives.remove(titlesetBZ18);
                    // showId_667=1; 
					 
					//viewer.scene.removeAll();
					 //add_dem("../../30mDem");
					// add_dem(_gserveradd + 'ghTilesServer.ashx/TERRAIN');
					 }  
                    break;
					case 771:                                   <!-- 郑州市政府三维模型 -->
                     if (showId_771==0)
				   { 
				     locateTO(113.618,34.747,3000);
					 viewer.terrainProvider = defaultTerrain;
					 MAX_3DMODEL_add(); 
					 
                     showId_771=1; 
					 }else {
					 showId_771=0;
					 MAX_3DMODEL_remove();
                     //viewer.entities.removeAll();					 
					 add_dem(_gserveradd + 'ghTilesServer.ashx/TERRAIN');
					 }  
                    break;
					case 772:                                   <!-- 郑州市政府三维模型new -->
                     if (showId_772==0)
				   { 
				     locateTO(113.4347,34.4537,3000);
					 viewer.terrainProvider = defaultTerrain;
					 
					 var titlesetZZ1=titleset_showzz('http://localhost:81/zztest/11_B3DM/tileset.json');
                     showId_772=1; 
					 }else {
					 showId_772=0;
					 viewer.scene.primitives.remove(titlesetZZ1);
                     					 
					 add_dem(_gserveradd + 'ghTilesServer.ashx/TERRAIN');
					 }  
                    break;
					case 881:                                   <!-- 郑州市政府Lidar点云数据 -->
                     if (showId_881==0)
				   {
				     locateTO(113.616542, 34.747869,3000);
					 viewer.terrainProvider = defaultTerrain;
				     img_881=titleset_show3("./SampleData/pointCloud3/tileset.json");
                     showId_881=1; 
					 }else {
					 showId_881=0;
					 viewer.scene.primitives.remove(img_881);
                     add_dem(_gserveradd + 'ghTilesServer.ashx/TERRAIN');					 
					 }  
                    break;
					case 8811:                                   <!-- 天津师大Lidar点云数据 -->
                     if (showId_8811==0)
				    {
				     locateTO(117.123433, 39.0617,300);
					 viewer.terrainProvider = defaultTerrain;
				     img_8811=titleset_show4("./SampleData/sdgbj/tileset.json");
                     showId_8811=1; 
					 }else {
					 showId_8811=0;
					 viewer.scene.primitives.remove(img_8811);
                     add_dem(_gserveradd + 'ghTilesServer.ashx/TERRAIN');					 
					 }  
                    break;
					case 8812:                                   <!-- 四川广元Lidar点云数据 -->
                     if (showId_8812==0)
				    {
				     locateTO(105.6420, 32.3439,20000);
					 viewer.terrainProvider = defaultTerrain;
					 img_10000=image_show(_gserveradd + "ghTilesServer.ashx/GY-dom",1);
				     img_8812=titleset_show5("./SampleData/gypcsmall");
                     showId_8812=1; 
					 }else {
					 showId_8812=0;
					 viewer.scene.primitives.remove(img_8812);
					 viewer.scene.imageryLayers.remove(img_10000); 
                     add_dem(_gserveradd + 'ghTilesServer.ashx/TERRAIN');					 
					 }  
                    break;
					case 991:                                   <!-- 三维交通模拟 -->
                     if (showId_991==0)
				   {
				     $('#zzmx_my').window('open');
					 $('#zzmx_my').window({left:300,top:50});
                     locateTO(113.618,34.747,3000);
                     viewer.terrainProvider = defaultTerrain;
					 MAX_3DMODEL_add(); 
                     showId_991=1; 
					 }else {
					 showId_991=0;
					 MAX_3DMODEL_remove();
                     $('#zzmx_my').window('close'); 
					 add_dem(_gserveradd + 'ghTilesServer.ashx/TERRAIN');
					 }  
                    break;
					case 992:                                   <!-- 无人机航拍模拟 -->
                     if (showId_992==0)
				   {
				     locateTO(117.551513, 40.189091, 30000);
					 move();
                     showId_992=1; 
					 }else {
					 showId_992=0;
					 var move_div = document.getElementById("move");
					 move_div.style.display = "none"
					 var myVideo = document.getElementById("media");
					 myVideo.pause();
					 viewer.entities.removeById('airplane');
					 }  
                    break;
					case 993:                                   <!-- 师大三维漫游 -->
                     if (showId_993==0)
				   {
				     document.getElementById('tjsd_my').style.display='';
                     locateTO(117.12, 39.06, 500);
					 titlesetSD1=titleset_show1('../../localOtherData/Tjsd_b3dm/shida1/Tileset.json');
					 titlesetSD2=titleset_show1('../../localOtherData/Tjsd_b3dm/shida2/Tileset.json');
					 titlesetSD3=titleset_show1('../../localOtherData/Tjsd_b3dm/shida3/Tileset.json');
					 titlesetSD4=titleset_show1('../../localOtherData/Tjsd_b3dm/shida4/Tileset.json');
					 titlesetSD5=titleset_show1('../../localOtherData/Tjsd_b3dm/shida5/Tileset.json');
					 titlesetSD6=titleset_show1('../../localOtherData/Tjsd_b3dm/shida6/Tileset.json');
                     showId_993=1; 
					 }else {
					 showId_993=0;
					 viewer.scene.primitives.remove(titlesetSD1);
					 viewer.scene.primitives.remove(titlesetSD2);
					 viewer.scene.primitives.remove(titlesetSD3);
					 viewer.scene.primitives.remove(titlesetSD4);
					 viewer.scene.primitives.remove(titlesetSD5);
					 viewer.scene.primitives.remove(titlesetSD6); 
					 document.getElementById('tjsd_my').style.display='none';
					 }  
                    break;
					case 994:                                   <!-- 天津城市扩张 -->
                     if (showId_994==0)
				   {
				     tjtd_Change();
                     showId_994=1; 
					 }else {
					 showId_994=0;
					 tjtd_Cancel(); 
					 }  
                    break;
					case 9941:                                   <!-- 天津水域缩减 -->
                     if (showId_9941==0)
				   {
				     tjsy_Change();
                     showId_9941=1; 
					 }else {
					 showId_9941=0;
					 tjsy_Cancel();
					 }  
                    break;
					case 995:                                   <!-- 八仙山季节变化 -->
                     if (showId_995==0)
				   {
				     locateTO(117.551513,40.189091,30000);
                     $('#bxsChangeWindow').window('open');
					 $('#bxsChangeWindow').window({left:300,top:50});
                     showId_995=1; 
					 }else {
					 showId_995=0;
					 $('#bxsChangeWindow').window('close'); 
					 clearInterval(bxs_timer);
					 for(var i=0;i<bxsImgs.length;i++){
					viewer.scene.imageryLayers.remove(bxsImgs[i]);
				     }
					     
					 }  
                    break;
					case 570:                                   <!-- 师大变化监测 -->
					 if (showID_570==0)
				   {
				     locateTO(117.12, 39.06, 2000);
                     $('#TjnuChangeWindow').window('open');
					 $('#TjnuChangeWindow').window({left:300,top:50});
                     showID_570=1; 
					 }else {
					 showID_570=0;
					 clearInterval(Tjnu_change_timer);
					 $('#TjnuChangeWindow').window('close'); 
					 for(var i=0;i<Tjnu_Imgs.length;i++){
					viewer.scene.imageryLayers.remove(Tjnu_Imgs[i]);
				     }
					 }  
                    break;
                    case 1000:                                   <!-- 标注加载 -->
                     if (showId_1000==0)
				   {
                     showId_1000=1; 
                      markmark();
					 }else {
					 showId_1000=0;
					 viewer.entities.removeAll(); 
					 }  
                    break;
                    /*case 1001:                                   <!--气温气压 -->
                     if (showId_1001==0)
				   {
                     showId_1001=1;
						document.getElementById("qixiang_dupeng").style.display = "";
					 }else {
					 showId_1001=0;
					 clearInterval(timer);
					 document.getElementById("qixiang_dupeng").style.display = "none";
						while (imageryLayers._layers.length >=3) {
							imageryLayers.remove(imageryLayers._layers[2]);
						}
						dispear_img();
					 }  
                    break;
					case 1019:                                   <!--气温气压2 -->
                     if (showId_1019==0){
						let chazhi_attr=null;let chazhi_time=null;
						let chazhi_index = null; var temp =null;
						showId_1019=1;
						document.getElementById("qixiang_chazhi").style.display = "";
						
						//选择哪种类型的数据
						const attrJson={"气温":"TMP","气压":"PRES","降水量":"PWAT","湿度":"RH","比湿":"SPFH"};
						$(".dropdown-menu>li").click(function () {
							chazhi_attr = null;
							temp = $(this)[0].innerText;
							temp = temp.replace(/[\n]/g, "");
							chazhi_attr = attrJson[temp];							
							if(chazhi_attr=="TMP"){
								dispear_img();
								changeImag("../../localOtherData/qixiangImg/TMP.png");
							}else if(chazhi_attr=="PRES"){
								dispear_img();
								changeImag("../../localOtherData/qixiangImg/PRES.png");
							}else if(chazhi_attr=="PWAT"){
								dispear_img();
								changeImag("../../localOtherData/qixiangImg/PWAT.png");
							}else if(chazhi_attr=="RH"){
								dispear_img();
								changeImag("../../localOtherData/qixiangImg/RH.png");
							}else if(chazhi_attr=="SPFH"){
								dispear_img();
								changeImag("../../localOtherData/qixiangImg/SFPH.png");
							}
							$("#chazhi_attrBtn")[0].innerHTML = temp;
							if(chazhi_time!=null&&chazhi_index!=null&&chazhi_attr!=null){
								qixiang_chazhi(chazhi_time,chazhi_attr,chazhi_index)
							}
						});
						
						//日历
						(function Datetime() {
							$('#datetimepicker2').datetimepicker({
								language: 'zh-CN',//显示中文
								format: 'yyyy-mm-dd',//显示格式
								minView: "month",//设置只显示到月份
								initialDate: new Date(),
								autoclose: true,//选中自动关闭
								todayBtn: true,//显示今日按钮
								locale: moment.locale('zh-cn')
							})
						})();
							//默认获取当前日期
							/*var today = new Date();
							var nowdate = (today.getFullYear()) + "-" + (today.getMonth() + 1) + "-" + today.getDate();
							//对日期格式进行处理
							var date = new Date(nowdate);
							var mon = date.getMonth() + 1;
							var day = date.getDate();
							var mydate = date.getFullYear() + "-" + (mon < 10 ? "0" + mon : mon) + "-" + (day < 10 ? "0" + day : day);
							document.getElementById("chazhi_nowdate").value = mydate;
						})();*/
						
						/*$("#chazhi_nowdate")[0].onchange=function () {
							var dateInput = $("#chazhi_nowdate")[0].value;
							if(dateInput!=null){
								chazhi_time= getTime(dateInput)[0];
								chazhi_index = getTime(dateInput)[1];
								if(chazhi_time!=null&&chazhi_index!=null&&chazhi_attr!=null){
									qixiang_chazhi(chazhi_time,chazhi_attr,chazhi_index)
								}
							}
						};
						//
					 }else {
						 //chazhi_index = null;chazhi_time = null;chazhi_attr=null;
						 showId_1019=0;
						 $("#chazhi_nowdate")[0].value="";
						 $("#chazhi_attrBtn")[0].innerHTML = "请选择类型"
						 qixiang_handler.destroy();
						 /*qixiang_handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOWN);
						 qixiang_handler.removeInputAction(Cesium.ScreenSpaceEventType.WHEEL);
						 qixiang_handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_UP);*/
						 /*document.getElementById("qixiang_chazhi").style.display = "none";
						  qixiang_ctx.clearRect(0, 0, can.width, can.height);
						 scene.screenSpaceCameraController.enableTilt = true;
						 dispear_img();
					 }  
                    break;*/
					case 1002:                                   <!-- 森林火灾预警 -->
                     if (showId_1002==0)
				   {
				     locateTO(122.314,50.055754,1200000);
                     $('#fireChangeWindow').window('open');
					 $('#fireChangeWindow').window({left:300,top:50});
                     showId_1002=1; 
					 }else {
					 showId_1002=0;
					 clearInterval(dxal_timer);
					 $('#fireChangeWindow').window('close'); 
					 for(let i=0;i<dxalImgs.length;i++){
					viewer.scene.imageryLayers.remove(dxalImgs[i]);
				     }
					 }  
                    break;
				    case 2002:                                   <!--  地质全息元 -->
					if(showId_2002==0)
					{
					   img_2002=dzqxy1();
					   showId_2002=1;
					}
					else{
					     showId_2002=0;
						 viewer.dataSources.removeAll();
					     viewer.scene.imageryLayers.remove(img_2002);
					
					}
					break;
					 case 2003:                                   <!--  地质全息元 -->
					if(showId_2003==0)
					{
					   img_2003=dzqxy1();
					   showId_2003=1;
					}
					else{
					     showId_2003=0;
						 viewer.dataSources.removeAll();
					 viewer.scene.imageryLayers.remove(img_2003);
					}
					break;
					 case 2004:                                   <!--  地质全息元 -->
					if(showId_2004==0)
					{
					   img_2004=dzqxy2();
					   showId_2004=1;
					}
					else{
					     showId_2004=0;
						 viewer.dataSources.removeAll();
					 viewer.scene.imageryLayers.remove(img_2004);
					}
					break;
					 case 2005:                                   <!--  地质全息元 -->
					if(showId_2005==0)
					{
					   img_2005=dzqxy3();
					   showId_2005=1;
					}
					else{
					     showId_2005=0;
						 viewer.dataSources.removeAll();
					 viewer.scene.imageryLayers.remove(img_2005);
					}
					break;
					 case 2006:                                   <!--  地质全息元 -->
					if(showId_2006==0)
					{
					   img_2006=dzqxy4();
					   showId_2006=1;
					}
					else{
					     showId_2006=0;
						 viewer.dataSources.removeAll();
					 viewer.scene.imageryLayers.remove(img_2006);
					}
					break;
					 case 2007:                                   <!--  地质全息元 -->
					if(showId_2007==0)
					{
					   img_2007=dzqxy5();
					   showId_2007=1;
					}
					else{
					     showId_2007=0;
						 viewer.dataSources.removeAll();
					 viewer.scene.imageryLayers.remove(img_2007);
					}
					break;
					case 2001:                                   <!--  地质全息元 -->
					if(showId_2001==0)
					{
					   img_2008=dzqxy6();
					   showId_2001=1;
					}
					else{
					     showId_2001=0;
						 viewer.dataSources.removeAll();
					     viewer.scene.imageryLayers.remove(img_2001);
					   
					}
					break;
					case 2011:                                   <!--  火灾全息元 -->
					if(showId_2011==0)
					{   
					     img_2011=add_tiles_4326(_gserveradd + "ghTilesServer.ashx/Apps/hzsj/4.30 pre",1);
						 showId_2011=1;
					}
					else{
					     showId_2011=0;
						 viewer.dataSources.removeAll();
					     viewer.scene.imageryLayers.remove(img_2011);
					}
					break;
					case 1005:                                   <!-- 三维管网 -->
                     if (showId_1005==0)
				   {
                     showId_1005=1; 
					 viewer.terrainProvider = defaultTerrain;
					 $("#tree").show();
					 guanwangAdd();
					 }else {
					 showId_1005=0;
					 guanwangRemove();
					 viewer.scene.imageryLayers.remove(image_tjnu);
					 $("#tree").hide();
					 hander_guanwang.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK);
					 add_dem(_gserveradd + 'ghTilesServer.ashx/TERRAIN');
					 }  
                    break;
                    }
					}
					})
 	</script>	
   
  <script>


var bxs_div=document.getElementById('bxs_div');
var dxal_div=document.getElementById('dxal_div');
hnxy_div=document.getElementById('hnxy_div');
var scene=viewer.scene;
var layers = viewer.scene.imageryLayers; 
//导航条
 viewer.extend(Cesium.viewerCesiumNavigationMixin, {});
//隐藏版本信息
viewer._cesiumWidget._creditContainer.style.display="none";
<!-- 边界线 -->
/*
var image_line = layers.addImageryProvider(Cesium.createTileMapServiceImageryProvider({
		url :'../../../boundary_line',
		fileExtension: 'png',
			flipXY : true
		}));
		*/
<!-- 鼠标小手 -->
 document.body.onmousedown=function(e){
	        if(e.button==0){
			this.style.cursor="url(/static/Build/Cesium/Widgets/Images/cursor/Hold.cur),auto";
			
			}
	 }
 document.body.onmouseup=function(e){
	        if(e.button==0){
			this.style.cursor="url(/static/Build/Cesium/Widgets/Images/cursor/Pan.cur),auto";
			
			}
	 }

var lat_value=document.getElementById("lat_long");
var lat_value22=document.getElementById("lat_long22");
var color1_Y,color1_N,color2_Y,color2_N;

//var radar_height=document.getElementById("height").value;
//var radar_scope=document.getElementById("scope").value;

var style_set=document.getElementById("style_set");
var  fill_color=document.getElementById("fill_color");
var  border_color=document.getElementById("border_color");
var  font_color=document.getElementById("font_color");
var  font_size=document.getElementById("font_size");

var draw_set=document.getElementById("draw_set");
var  point_name=document.getElementById("point_name");
var  point_size=document.getElementById("point_size");
var  point_color=document.getElementById("point_color");
var  poline_name=document.getElementById("poline_name");
var  poline_size=document.getElementById("poline_size");
var  poline_color=document.getElementById("poline_color");
var  poligon_name=document.getElementById("poligon_name");
var  poligon_size=document.getElementById("poligon_size");
var  poligon_color=document.getElementById("poligon_color");

<!-- 位置服务更改 -->
function position_loca(){
//lbsmonitor(true);
}
function position_cancel(){
lbsmonitor(false);
//代码
viewer.entities.removeAll();
}

//goose 2018年4月18日 poi及路径搜索
function string_format() {
	if (arguments.length == 0)
		return null;

	var str = arguments[0];
	for (var i = 1; i < arguments.length; i++) {
		var re = new RegExp('\\{' + (i - 1) + '\\}', 'gm');
		str = str.replace(re, arguments[i]);
	}
	return str;
}

/**
看起来不怎么样，动用了两次正则替换，实际速度非常惊人，
主要得益于浏览器的内部优化。一个著名的例子字符串拼接，
直接相加比用Array做成的StringBuffer还快。base2类库使用这种实现。
*/
function trim_string(str) {
    return str.replace(/^\s\s*/, '').replace(/\s\s*$/, '');
}

function string_trim(str) { //删除左右两端的空格 
    return str.replace(/(^\s*)|(\s*$)/g, "");
}
function string_ltrim(str) { //删除左边的空格 
    return str.replace(/(^\s*)/g, "");
}
function string_rtrim(str) { //删除右边的空格 
    return str.replace(/(\s*$)/g, "");
}

/// 去除所有的字符
function string_replace(str, src, dest) {
    var vreg = new RegExp(src, 'g');
    return str.replace(vreg, dest);
}

 function search_poi()
 {
	//$("#dlgsearchpoi").dialog('open');
	$("#SearchAll").dialog('open');
	$('#ss').searchbox('setValue','');
 }
 
     $('#dlgsearchpoi').dialog({
        onClose: function () {
			clear_pois_last();
		}
	});
 
 var __gvpoientites=[];
 function clear_pois_last()
 {
	if(__gvpoientites.length > 0)
	{
		for(var i=0;i<__gvpoientites.length;i++)
		{
		viewer.entities.remove(__gvpoientites[i]);
		}
	}
 }
 
 function doSearchPOI(value)
 {
    viewer.entities.removeAll();
	var vname = value;
    vname = string_trim(vname);/// 去除空格
	if (vname == null || vname == "输入要查询的信息")
		return;
		
		clear_pois_last();

	/// 判断是不是经纬度位置，是通过位置定位
	//if (true == goto_position(vname)) return;

	//show_hide_wait_img(true, "正在搜索，请稍候....");

	//if (-1 != vname.indexOf('站'))///可能是站点查询
	//    return find_line_stations(embussta.bus_stat);

	var vqt = 00;//fill_query_type(vname);
    
	//if (query_type.qt_busline == vqt)////true;/可能是公交线路查询-1 != vname.indexOf('路')
	//	return find_line_stations(embussta.bus_line);

	var vzom = 5;//map.getZoom();
	//var vparam = "";
	// 如果是0-5级，全国数据库搜索，
	//vparam = string_format("POI.aspx?TYPE=0{0}&WORD={1}", vqt,vname) ;
	        $.ajax({
                type: "GET",
                url: "http://192.168.10.35:2222/POI.aspx",
                //我们用text格式接收
                dataType: "text",
                contentType: "application/x-www-form-urlencoded; charset=utf-8",
                data: {
                    TYPE: '00', WORD:vname 
                },
                success: function (vres) {
                    var poi=vres.split(",");
					__gvpoientites = [];	
					var vlen=poi.length / 6;
					for (var i=0;i<vlen;i++)
					{					
						var citizensBankPark = viewer.entities.add({
							name : poi[i*6],
							position : Cesium.Cartesian3.fromDegrees( parseFloat(poi[i*6+2]), parseFloat(poi[i*6+3])),
							point : {
								pixelSize : 7,
								color : Cesium.Color.RED,
								outlineColor : Cesium.Color.WHITE,
								outlineWidth : 2
							},
							label : {
								text : poi[i*6],
								font : '14pt monospace',
								style: Cesium.LabelStyle.FILL_AND_OUTLINE,
								outlineWidth : 2,
								verticalOrigin : Cesium.VerticalOrigin.BOTTOM,
								pixelOffset : new Cesium.Cartesian2(0, -9)
							}
						});
						__gvpoientites.push(citizensBankPark);
						viewer.zoomTo(viewer.entities);
					}
                },
                error: function () {
                    alert('error testup()');
                }
            });

	//ajax_request(vparam, parse_poi_xy);
	/// restore prompt information
	$("txtsearch").value = "输入要查询的信息";

 }
 
  function search_route()
 {
	//$("#dlgsearchroute").dialog('open');
	$("#SearchAll2").dialog('open');
	$('#startPoint').textbox('setValue','');
	$('#endPoint').textbox('setValue','');
 }
 //轨迹查询
function searchGuiji(){
      viewer.entities.removeAll();
      var startText=$('#startPoint').textbox('getValue');
	  var endText=$('#endPoint').textbox('getValue');
	  $('#fenye2').pagination('refresh',{		  
		  pageSize:1
	  });
	  if(!isTrue(startText)||!isTrue(endText)){
	    alert('请输入起点和终点');
	  }else{
	    doSearch1(startText);
	  }     
	  }
 function dosearchroute()
 {
	
 }
//goose 2018年4月18日 poi及路径搜索

function set_set(){
draw_set.style.display="block";
}


function radar_data(){
 lat_value.style.display="block";
 $("#radar_all").hide();
}

function radar_data22(){
 lat_value.style.display="block";
 $("#radar_all").hide();
}

function radar_analysis(){
 lat_value.style.display="block";
 $("#radar_all").hide();
}



function twopoint_attitude1(){
 lat_value.style.display="block";
 $("#radar_all").hide();
}

/*function twopoint_attitude2(){
 lat_value.style.display="block";
 $("#radar_all").hide();
}*/

function set_show(){
style_set.style.display="block";
}
function set_cal(){
style_set.style.display="";
fill_color=document.getElementById("fill_color").value;
border_color=document.getElementById("border_color").value;
font_color=document.getElementById("font_color").value;
}

function set_cancel(){
style_set.style.display="";
}

function draw_cal(){
draw_set.style.display="";
alert(
point_name.value+point_size.value+point_color.value+poline_name.value+
poline_size.value+poline_color.value+poligon_name.value+
poligon_size.value+poligon_color.value
);

}

function draw_cancel(){
draw_set.style.display="";
}

//通视分析
/*var tsFinalRangeValue,tsFinalAttiValue;
function radar_ok1(){
 $('#argumentWindow').window('close');
 tsFinalRangeValue=$('#tsRangeValue').textbox('getValue')*1/111.3;
 tsFinalAttiValue=$('#tsAttiValue').textbox('getValue')*1;
 //radar_height=document.getElementById("height").value;
 //radar_scope=document.getElementById("scope").value;
color1_Y=document.getElementById("TScolor1").value.substring(1);
color1_N=document.getElementById("TScolor2").value.substring(1);
}
//坡度分析
var slopeFinalValue;
function slope_ok(){
slopeFinalValue=$('#slopeArcValue').textbox('getValue')*1/111.3;
$('#argumentWindow').window('close');
}
function slope_cancel(){
$('#argumentWindow').window('close');
}
function radar_cancel1(){
 $('#argumentWindow').window('close');
}
//遮蔽角分析
var zbFinalRangeValue,zbFinalAttiValue;
function radar_ok2(){
 $('#argumentWindow').window('close');
zbFinalRangeValue=$('#zbRangeValue').textbox('getValue')*1/111.3;
zbFinalAttiValue=$('#zbAttiValue').textbox('getValue')*1;
color2_Y=document.getElementById("ZBcolor1").value.substring(1);
color2_N=document.getElementById("ZBcolor2").value.substring(1);
}

function radar_cancel2(){
 $('#argumentWindow').window('close');
 document.getElementById('radarPanels').style.display='';
} */

function data22(){
 lat_value22.style.display="";
//var radar_height=document.getElementById("radar_height").value;
var radar_range =document.getElementById("radar_range").value;
alert(radar_height);
alert(radar_range);

}
function cancel22(){

 lat_value22.style.display="";
}

function search_begin(flag1){
if(flag1){
  document.getElementById('santaiSear_div').style.display='';
  img_556=image_show(_gserveradd + "ghTilesServer.ashx/SC_SanTai_LandOwnership",1);
  __vhandler_santai = handler_santai = new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas);
   __vhandler_santai.setInputAction(santai_inquery, Cesium.ScreenSpaceEventType.LEFT_CLICK);
   }
   }
 var turangType;
var navlayers;

var time_temperature;
var temperature=new Array();
var show_id=0;
var qingxie=0;


var sli=document.getElementById('slider_wind');
    sli.style.display="none";
	var sli_w=(W-240)/4;
	sli.style.left=240+sli_w+"px";
	sli.style.width=sli_w*2+"px";
	sli.style.height="20px";
	sli.style.opacity=0.6;
	
   function nav_show(URL,alpha_num)
{viewer.scene.imageryLayers.remove(navlayers);	
navlayers= layers.addImageryProvider(new Cesium.TileMapServiceImageryProvider({
		url :URL,
	    fileExtension: 'png', 
		}));
	turangType.alpha=alpha_num;
} 
//图层管理
//////////////////////////

var land = new Array();
var landCover;
var world_blue;
var yunXuan;
var defaultTerrain=viewer.terrainProvider;



//////////////////////////
//动态风向
//function demself(){
//add_dem("../../30mDem");
//viewer.terrainProvider = defaultTerrain;
//};
//demself();

//////////////////////////
 var defaultTerrain=viewer.terrainProvider;
    var W = window.innerWidth;
    var H = window.innerHeight;




var turangType;
var land = new Array();  
var land_length;


	  
var particles = [];	
var particles_side = [];
var canvas_wind = document.getElementById("canvas_wind");
var ctx = canvas_wind.getContext("2d");
var VYEARBEGIN = 2001;
var VMONTH;
var VDAY;

var PI = 3.1415926;

//风向设置
canvas_wind.width = W;
canvas_wind.height = H;
var time1=setInterval(draw, 33);
var wind_move_id=1;
var time_temperature;

var windview_degree=new Array();
var windview_color=new Array();
var scene_scale=10;
for (i=0;i<Math.round(W/scene_scale);i++){
	windview_degree[i]=new Array();
	windview_color[i]=new Array();
}

for (i=0;i<Math.round(W/scene_scale);i++){
	for (j=0;j<Math.round(H/scene_scale);j++){
	windview_degree[i][j]=0;
	windview_color[i][j]=0;
	}
}


var wind_interval=2.5;
var wind_degree=new Array();
var wind_color=new Array();
var angle = 0;
for (i=0;i<(360/wind_interval);i++){
	wind_degree[i]=new Array();
	wind_color[i]=new Array();
}

for (i=0;i<(360/wind_interval);i++){
	for (j=0;j<(180/wind_interval);j++){
		wind_degree[i][j]=0;
		wind_color[i][j]=0;
	}
} 

var scene = viewer.scene;
var handler = new Cesium.ScreenSpaceEventHandler(scene.canvas);
var wind_change_id=0;
var wind_show=0;


handler.setInputAction(function(movement)
{
if (wind_show==1)
{
wind_move_id=0;
ctx.clearRect(0, 0, W, H);
		wind_change_id=1;
}		
}, Cesium.ScreenSpaceEventType.LEFT_DOWN);


handler.setInputAction(function(movement) {
if (wind_show==1)
{
wind_move_id=1
}
}, Cesium.ScreenSpaceEventType.LEFT_UP);

handler.setInputAction(function(wheelment) {

if (wind_show==1)
{
wind_move_id=0;
ctx.clearRect(0, 0, W, H);
		wind_change_id=1;
}		
}, Cesium.ScreenSpaceEventType.WHEEL);



function valueOnChange_before() {
    wind_show=1;	
	$.getJSON("wind_25/200119.json",function(data){
		var vlen = data.length;
		for (var j = 0; j < vlen; j = j + 1) {
			
			
				var wind_x=(data[j].x+180)/2.5;
				var wind_y=(data[j].y+90)/2.5;
				wind_degree[wind_x][wind_y]=data[j].degree;
				wind_color[wind_x][wind_y]=data[j].color;
			
		}

		wind_change_id=1;	
		
	});
	sli.style.opacity=0.6;
}


function changeDegree(centerX, centerY, oDegree, scale) {
	var arry = [];
	var vedgelen =  scale;
	var dxoff = scale * 0.866025404;
	var vhedge =scale/4;
	var defautlArry = [0, 0, dxoff / 1.5, -vhedge, 0, vedgelen, -dxoff / 1.5, -vhedge];
	for (var i = 0; i < defautlArry.length; i += 2) {
		var x = centerX + defautlArry[i] * (Math.cos(oDegree)) + defautlArry[i + 1] * (Math.sin(oDegree));
		var y = centerY + defautlArry[i + 1] * (Math.cos(oDegree)) - defautlArry[i] * (Math.sin(oDegree));
		arry.push(x, y);
	}
	return arry;
}

function draw(){
if (wind_move_id==1)
{
    if (wind_change_id==1){wind_change();wind_change_id=0};
	ctx.clearRect(0, 0, W, H);
	for(var k=0;k<particles.length;k++){
		var p=particles[k];
	

		var pointx= Math.round(p.x/scene_scale);
		var pointy= Math.round(p.y/scene_scale);
		var pointx_real= p.x/scene_scale;
		var pointy_real= p.y/scene_scale;
		
		if ((pointx<(windview_degree.length-1))&&(pointy<(windview_degree[0].length-1))&&(windview_degree[pointx][pointy]))//需要修改不能让数组溢出
		{
		
			var w_degree=windview_degree[pointx][pointy];
				var w_color=Math.round(windview_color[pointx][pointy]);
						
		w_degree=0.02*w_degree+0.98*p.p_degree;
		ctx.lineWidth=1;
		ctx.beginPath(); 
		ctx.fillStyle ="rgba("+w_color*3+",150,0,"+2*(0.5-Math.abs(0.5-p.path_time))+")";	
	
		
		var _arry = changeDegree(p.x , p.y ,w_degree,8);
		ctx.lineWidth=0.3;
		ctx.moveTo(_arry[0],_arry[1]);
		ctx.lineTo(_arry[2],_arry[3]);
		ctx.lineTo(_arry[4],_arry[5]);
		ctx.lineTo(_arry[6],_arry[7]);
		ctx.closePath(); 
		ctx.fill();
		ctx.stroke();	

		if (particles[k].path_time<1){
			particles[k].x = particles[k].x+Math.sin(w_degree)*0.5;
			particles[k].y = particles[k].y+Math.cos(w_degree)*0.5;
			particles[k].path_time=particles[k].path_time+Math.random()*0.01;
			particles[k].p_degree=w_degree;}
		else{particles[k].path_time= Math.random();
			particles[k].x=particles[k].wind_x*scene_scale+Math.random()*(scene_scale*5)-(scene_scale*2.5);//x-coordinate
			particles[k].y=particles[k].wind_y*scene_scale+Math.random()*(scene_scale*5)-(scene_scale*2.5);
			particles[k].p_degree=windview_degree[particles[k].wind_x][particles[k].wind_y];
			}

		}else
		{particles[k].path_time= Math.random();
		particles[k].x=particles[k].wind_x*scene_scale+Math.random()*(scene_scale*5)-(scene_scale*2.5);//x-coordinate
		particles[k].y=particles[k].wind_y*scene_scale+Math.random()*(scene_scale*5)-(scene_scale*2.5);
		particles[k].p_degree=windview_degree[particles[k].wind_x][particles[k].wind_y];}
		
			
	}	

	
	for(var k=0;k<particles_side.length;k++){
		var p=particles_side[k];


		var pointx= Math.round(p.x/scene_scale);
		var pointy= Math.round(p.y/scene_scale);
		var pointx_real= p.x/scene_scale;
		var pointy_real= p.y/scene_scale;
		
		if ((pointx<(windview_degree.length-1))&&(pointy<(windview_degree[0].length-1))&&(windview_degree[pointx][pointy]))//需要修改不能让数组溢出
		{
		
			var w_degree=windview_degree[pointx][pointy];
				var w_color=Math.round(windview_color[pointx][pointy]);
							
		w_degree=0.02*w_degree+0.98*p.p_degree;
		ctx.lineWidth=1;
		ctx.beginPath(); 
		ctx.fillStyle ="rgba("+w_color*3+",150,0,"+(Math.abs(p.path_time))+")";	
		
		var _arry = changeDegree(p.x , p.y ,w_degree,8);
		ctx.lineWidth=0.3;
		ctx.moveTo(_arry[0],_arry[1]);
		ctx.lineTo(_arry[2],_arry[3]);
		ctx.lineTo(_arry[4],_arry[5]);
		ctx.lineTo(_arry[6],_arry[7]);
		ctx.closePath(); 
		ctx.fill();

		if (particles_side[k].path_time<1){
			particles_side[k].x = particles_side[k].x+Math.sin(w_degree)*0.5;
			particles_side[k].y = particles_side[k].y+Math.cos(w_degree)*0.5;
			particles_side[k].path_time=particles_side[k].path_time+Math.random()*0.01;
			particles_side[k].p_degree=w_degree;}
		else{particles_side[k].path_time= Math.random();
			particles_side[k].x=particles_side[k].wind_x*scene_scale+Math.random()*(scene_scale)-(scene_scale);
			particles_side[k].y=particles_side[k].wind_y*scene_scale+Math.random()*(scene_scale)-(scene_scale);
			particles_side[k].p_degree=windview_degree[particles_side[k].wind_x][particles_side[k].wind_y];
			}
		
		}else
		{particles_side[k].path_time= Math.random();
		particles_side[k].x=particles_side[k].wind_x*scene_scale+Math.random()*(scene_scale)-(scene_scale);
		particles_side[k].y=particles_side[k].wind_y*scene_scale+Math.random()*(scene_scale)-(scene_scale);
		particles_side[k].p_degree=windview_degree[particles_side[k].wind_x][particles_side[k].wind_y];}
		
			
	}	
	}
	
}

//海岸线倾斜摄影
function titleset_show_hax(URL)
{
var titleset_type = viewer.scene.primitives.add(new Cesium.Cesium3DTileset({
                           url : URL,
                           show:true						   
                            }));
	titleset_type.readyPromise.then(function() {
    var boundingSphere = titleset_type.boundingSphere;
	var heightOffset = -990;  //0
	var cartographic = Cesium.Cartographic.fromCartesian(boundingSphere.center);
	var surface = Cesium.Cartesian3.fromRadians(cartographic.longitude, cartographic.latitude,0);
	var offset = Cesium.Cartesian3.fromRadians(cartographic.longitude, cartographic.latitude, heightOffset);
	var translation = Cesium.Cartesian3.subtract(offset, surface, new Cesium.Cartesian3());
	titleset_type.modelMatrix = Cesium.Matrix4.fromTranslation(translation);
   
												});						
	return titleset_type;
}


function wind_change(){

	ctx.clearRect(0, 0, W, H);
	particles = [];	

	for (i=3;i<Math.floor((W-3)/scene_scale);i++){
		for (j=3;j<Math.floor((H-3)/scene_scale);j++){
			var pt1 = new Cesium.Cartesian2(i*scene_scale,j*scene_scale);
			var ray1=viewer.camera.getPickRay(pt1);
			var pick1= viewer.scene.globe.pick(ray1, viewer.scene);
			if (pick1){
				var cartographic1 = Cesium.Cartographic.fromCartesian(pick1);
				var windview_x= Math.floor((parseFloat(Cesium.Math.toDegrees(cartographic1.longitude).toFixed(1))+180)/2.5);
				var windview_y= Math.floor((parseFloat(Cesium.Math.toDegrees(cartographic1.latitude).toFixed(1))+90)/2.5);
				if ((windview_x<144)&&(windview_y<72))
				{
				windview_degree[i][j]= wind_degree[windview_x][windview_y];
				windview_color[i][j]= wind_color[windview_x][windview_y];
				if ((i%5==0)&&(j%5==0))
				{
				var mp =Math.round(windview_color[i][j]/20)+1; //max particles
				for(var k = 0; k < mp; k++){
				ran_x=i*scene_scale+Math.random()*(scene_scale*5)-(scene_scale*2.5)
				ran_y=j*scene_scale+Math.random()*(scene_scale*5)-(scene_scale*2.5)
				
					particles.push({
						wind_x:i,
						wind_y:j,
						x: ran_x, 
						y: ran_y, 
						p_degree: windview_degree[i][j],
						path_time:Math.random()
					})
					
				}
				}
				}
			}
			else{windview_degree[i][j]=0;windview_color[i][j]=0;}
		}
	}		
	

	particles_side = [];	
	for (i=1;i<Math.floor((W-1)/scene_scale);i++){
		for (j=1;j<3;j++){
			var pt1 = new Cesium.Cartesian2(i*scene_scale,j*scene_scale);
			var ray1=viewer.camera.getPickRay(pt1);
			var pick1= viewer.scene.globe.pick(ray1, viewer.scene);
			if (pick1){
				var cartographic1 = Cesium.Cartographic.fromCartesian(pick1);
				var windview_x= Math.floor((parseFloat(Cesium.Math.toDegrees(cartographic1.longitude).toFixed(1))+180)/2.5);
				var windview_y= Math.floor((parseFloat(Cesium.Math.toDegrees(cartographic1.latitude).toFixed(1))+90)/2.5);
				if ((windview_x<144)&&(windview_y<72))
				{
				windview_degree[i][j]= wind_degree[windview_x][windview_y];
				windview_color[i][j]= wind_color[windview_x][windview_y];
				if ((i%5==0)&&(j%5==0))
				{
				var mp =Math.round(windview_color[i][j]/20)+1;
				for(var k = 0; k < mp; k++){
				ran_x=i*scene_scale+Math.random()*(scene_scale)-(scene_scale)
				ran_y=j*scene_scale+Math.random()*(scene_scale)-(scene_scale)

					particles_side.push({
						wind_x:i,
						wind_y:j,
						x: ran_x,
						y: ran_y, 
						p_degree: windview_degree[i][j],
						path_time: Math.random()
					})
					
				}
				}
				}
			}
			else{windview_degree[i][j]=0;windview_color[i][j]=0;}
		}
			
	}
	
		for (j=3;j<Math.floor((H-5)/scene_scale);j++){
		for (i=1;i<3;i++){
			var pt1 = new Cesium.Cartesian2(i*scene_scale,j*scene_scale);
			var ray1=viewer.camera.getPickRay(pt1);
			var pick1= viewer.scene.globe.pick(ray1, viewer.scene);
			if (pick1){
				var cartographic1 = Cesium.Cartographic.fromCartesian(pick1);
				var windview_x= Math.floor((parseFloat(Cesium.Math.toDegrees(cartographic1.longitude).toFixed(1))+180)/2.5);
				var windview_y= Math.floor((parseFloat(Cesium.Math.toDegrees(cartographic1.latitude).toFixed(1))+90)/2.5);
				if ((windview_x<144)&&(windview_y<72))
				{
				windview_degree[i][j]= wind_degree[windview_x][windview_y];
				windview_color[i][j]= wind_color[windview_x][windview_y];
				if ((i%5==0)&&(j%5==0))
				{
				var mp =Math.round(windview_color[i][j]/20)+1;
				for(var k = 0; k < mp; k++){
				ran_x=i*scene_scale+Math.random()*(scene_scale)-(scene_scale)
				ran_y=j*scene_scale+Math.random()*(scene_scale)-(scene_scale)

				
				
				
					particles_side.push({
						wind_x:i,
						wind_y:j,
						x: ran_x, 
						y: ran_y,
						p_degree: windview_degree[i][j],
						path_time: Math.random()
					})
					
				}
				}
				}
			}
			else{windview_degree[i][j]=0;windview_color[i][j]=0;}
		}
		}
			

}
//灾情视频功能演示
///////////////
	function move() {
            var move_div = document.getElementById("move");
            move_div.style.display = "";
            var myVideo = document.getElementById("media");
            myVideo.play();

            Cesium.Math.setRandomNumberSeed(3);

            //Set bounds of our simulation time
            var start = Cesium.JulianDate.fromDate(new Date(2015, 2, 25, 16));
            var stop = Cesium.JulianDate.addSeconds(start, 360, new Cesium.JulianDate());

            //Make sure viewer is at the desired time.
            viewer.clock.startTime = start.clone();
            viewer.clock.stopTime = stop.clone();
            viewer.clock.currentTime = start.clone();
            viewer.clock.clockRange = Cesium.ClockRange.LOOP_STOP; //Loop at the end
            viewer.clock.multiplier = 10;

            //Set timeline to simulation bounds
            

            //Generate a random circular pattern with varying heights.
            function computeCirclularFlight(lon, lat, radius) {
                var property = new Cesium.SampledPositionProperty();
                for (var i = 0; i <= 360; i += 45) {
                    var radians = Cesium.Math.toRadians(i);
                    var time = Cesium.JulianDate.addSeconds(start, i, new Cesium.JulianDate());
                    var position = Cesium.Cartesian3.fromDegrees(lon + (radius * 1.5 * Math.cos(radians)), lat + (radius * Math.sin(radians)), Cesium.Math.nextRandomNumber() * 500 + 1750);
                    property.addSample(time, position);

                    //Also create a point for each sample we generate.
                    viewer.entities.add({
                        position: position
                        /*point: {
                            pixelSize: 8,
                            color: Cesium.Color.TRANSPARENT,
                            outlineColor: Cesium.Color.YELLOW,
                            outlineWidth: 3
                        }*/
                    });
                }
                return property;
            }

            //Compute the entity position property.
            var position = computeCirclularFlight(117.551513, 40.189091, 0.03);
            //Actually create the entity
            var entity = viewer.entities.add({
			     id:'airplane',
                //Set the entity availability to the same interval as the simulation time.
                availability: new Cesium.TimeIntervalCollection([new Cesium.TimeInterval({
                    start: start,
                    stop: stop
                })]),
                //Use our computed positions
                position: position,
                //Automatically compute orientation based on position movement.
                orientation: new Cesium.VelocityOrientationProperty(position),
                //Load the Cesium plane model to represent the entity
                model: {
                    uri: './SampleData/models/CesiumAir/Cesium_Air.gltf',
                    minimumPixelSize: 120
                },
                //Show the path as a pink line sampled in 1 second increments.
                path: {
                    resolution: 1,
                    material: new Cesium.PolylineGlowMaterialProperty({
                        glowPower: 0.1,
                        color: Cesium.Color.YELLOW
                    }),
                    width: 10
                }
            });
            
        }

 

	





var radar_image;
var poDu_image;

function radar(lon,lat,scope,height)
{
var num=1;


var dem_level=0.000833;
var scope_pix=Math.round(scope/60)*2+1
var scope_degree=dem_level*scope_pix/2;
	var layers = viewer.imageryLayers;
//	 var r=100;  
//	 var g=206;
//	 var b=155;
//var pos_r=240;
//var pos_g=100;
//var pos_b=96;
//
//var colY='6F'+ r.toString(16)+g.toString(16)+b.toString(16);
//var colN='6F'+ pos_r.toString(16)+pos_g.toString(16)+pos_b.toString(16);

var colY='6F'+color_Y.substring(1,7);
var colN='6F'+color_N.substring(1,7);

/*radar_image=layers.addImageryProvider(new Cesium.SingleTileImageryProvider({
    url : 'http://127.0.0.1:8080/dem/visu.png?lon='+lon+'&lat='+lat+'&scope='+scope_pix+'&num='+num+'&h='+height+'&colY='+colY+'&colN='+colN,
   // url:'20170327102412.png',
	rectangle : Cesium.Rectangle.fromDegrees(lon-scope_degree, lat-scope_degree,lon+scope_degree,lat+scope_degree)
}));*/
imgsArray.push(imgToshi(lon,lat,num,scope_pix,height,colY,colN,scope_degree));
}

//坡度
function poDu(lon,lat,scope)
{
var num=1;


var dem_level=0.000833;
var scope_pix=Math.round(scope/60)*2+1
var scope_degree=dem_level*scope_pix/2;
var layers = viewer.imageryLayers;
//	 var r=100;  
//	 var g=206;
//	 var b=155;
//var pos_r=240;
//var pos_g=100;
//var pos_b=96;
//
//var colY='6F'+ r.toString(16)+g.toString(16)+b.toString(16);
//var colN='6F'+ pos_r.toString(16)+pos_g.toString(16)+pos_b.toString(16);+scope_pix
poDu_image=layers.addImageryProvider(new Cesium.SingleTileImageryProvider({
    url : 'http://127.0.0.1:8080/dem/slope?lon='+lon+'&lat='+lat+'&scope='+scope_pix+'&num='+num,
   // url:'20170327102412.png',
	rectangle : Cesium.Rectangle.fromDegrees(lon-scope_degree, lat-scope_degree,lon+scope_degree,lat+scope_degree)
}));
}

///无人机实时监控
var point;
var point2;

//航向计算
/*
function getAngle(Lat1,Lng1,Lat2,Lng2)
{
	var a=Math.atan((Lng2-Lng1)/(Lat2-Lat1))*180/Math.PI
	if(Lat2-Lat1>0)
	{
		if(Lng2-Lng1>0)
		{
			angle=a;
		}
		else
		{
			angle=a+360;
		}
	}
	else
	{
        if(Lng2-Lng1>0)	
        {
		    angle=180+a; 
		}	
        else
        {
		    angle=180+a;
		}  		
	}  
	return angle;
} 

	
		
		
			 var fly_pos=[];
		 var lidar_pos=[];
		 var glowingLine=[];
		 var angle_fly;
		 var pointx=0;
		 var pointy=0;
		 var lidar_point=0;
		 j=0;
		 var lidar_pos_time=5;
		 var lidar_pos_point=0;
		 
		 $.getJSON("http://192.168.10.35:999/HNavipos.ashx",function(data1){
		fly_pos=data1;
		});
		
		var pos_path=[];
		var pos_path_entity=[];
		var fly_image_num=5;//飞行照片的范围显示
function position()
		{
		
$.getJSON("http://192.168.10.35:999/HNavipos.ashx",function(data1){
		fly_pos=data1;
		});
	
	//位置变化	
	if (lidar_pos_time==5)
	{$.getJSON("http://192.168.10.35:999/HLasPos.ashx",function(data2){
		lidar_pos=data2;
		lidar_pos_time=0;
		})
	}else
	{lidar_pos_time=lidar_pos_time+1;
	};
	
	
	
	
	//飞机位置
	    var position = Cesium.Cartesian3.fromDegrees(fly_pos.features[0].properties.X,fly_pos.features[0].properties.Y,fly_pos.features[0].properties.H); 
	    point.position=position;
		//var position_point = Cesium.Cartesian3.fromDegrees(lidar_pos.features[0].geometry.coordinates[0],lidar_pos.features[0].geometry.coordinates[1],0); 	
		//point2.position=position_point;
 
     
    
      if (pointx!=fly_pos.features[0].properties.X||pointy!=fly_pos.features[0].properties.Y)
	  {
		angle_fly =getAngle(fly_pos.features[0].properties.Y,fly_pos.features[0].properties.X,pointy,pointx);
		pointx=fly_pos.features[0].properties.X;
		pointy=fly_pos.features[0].properties.Y;
		};
      //  var heading = Cesium.Math.toRadians(angle_fly+90);//绕垂直于地心的轴旋转
	  var heading = fly_pos.features[0].properties.K-1.57;
            var pitch = 0;
    var roll = 0;
    var hpr = new Cesium.HeadingPitchRoll(heading, pitch, roll);
    var orientation = Cesium.Transforms.headingPitchRollQuaternion(position, hpr);
        //var orientation = Cesium.Transforms.headingPitchRollQuaternion(position, heading, pitch, roll);
    var time_show=fly_pos.features[0].properties.TIME;
		point.orientation=orientation;

		
		//火点位置
	
	
	//方向变化


	//画区域
	var measure_all=null;
		if(fly_pos.features[0].geometry!=null && fly_pos.features[0].geometry!='undefined'){
			measure_all=[fly_pos.features[0].geometry.coordinates[0][0],fly_pos.features[0].geometry.coordinates[0][1],
			fly_pos.features[0].geometry.coordinates[1][0],fly_pos.features[0].geometry.coordinates[1][1],
			fly_pos.features[0].geometry.coordinates[2][0],fly_pos.features[0].geometry.coordinates[2][1],
			fly_pos.features[0].geometry.coordinates[3][0],fly_pos.features[0].geometry.coordinates[3][1]];
		}
		else measure_all=null;

  //  point._orientation=angle;

  	
   var line_color=[];
   if (fly_pos.features[0].properties.SENSORTYPE==0) 
  {line_color=Cesium.Color.DODGERBLUE}
   else{line_color=Cesium.Color.FIREBRICK};
   
   
   	var measure_one=[fly_pos.features[0].properties.X,fly_pos.features[0].properties.Y]

	
       pos_path= pos_path.concat(measure_one)
viewer.entities.remove(pos_path_entity);

 pos_path_entity = viewer.entities.add({
    name:'green',

    polyline : {
        positions : Cesium.Cartesian3.fromDegreesArray(pos_path),
		
        width : 10,
		height:fly_pos.features[0].properties.Z,
        material : new Cesium.PolylineGlowMaterialProperty({
            glowPower : 0.2,
            color : Cesium.Color.BLUE
        })
    }
});

   
   //方框
  if( measure_all != null && fly_image_num==5){
		glowingLine[j] =viewer.entities.add({
		name:time_show,
			   polygon : {
		hierarchy : Cesium.Cartesian3.fromDegreesArray(measure_all),
			   outline:true,
			 
			   outlineColor:line_color,
			   outlineWidth:5,
			   //material : Cesium.Color.YELLOW,
			fill :false,
			height:0
		   }
		});
		fly_image_num=0;
    }
	fly_image_num=fly_image_num+1;
   	j=j+1;
	if (lidar_pos.features)
	{
	for (i=1;i<lidar_pos.features.length;i++)
		{ lidar_pos[lidar_pos_point]=viewer.entities.add({
        position : Cesium.Cartesian3.fromDegrees(lidar_pos.features[0].geometry.coordinates[0],lidar_pos.features[0].geometry.coordinates[1],0),
        point : {
            show : true, // default
            color : Cesium.Color.YELLOW, // default: WHITE
            pixelSize:10// default: 1
           
        }});
		lidar_pos_point=lidar_pos_point+1;
	}
	}
	
		}
	*/	
////无人机实时监控

function supervise_data()
{
	viewer.camera.flyTo({
    destination : Cesium.Cartesian3.fromDegrees(105.1158, 37.6655, 180000),
	duration:8
    });
    point=viewer.entities.add({
        position : Cesium.Cartesian3.fromDegrees(105.1158, 37.6655, 0),
		
        point : {
            show : true, // default
            color : Cesium.Color.SKYBLUE, // default: WHITE
            pixelSize : 5 // default: 1
           
        },
		  //Load the Cesium plane model to represent the entity
    model : {
        uri : './SampleData/models/CesiumAir/Cesium_Air.gltf',
        minimumPixelSize : 120
    },
		
		});
		
	point2=viewer.entities.add({
        position : Cesium.Cartesian3.fromDegrees(105.1158, 37.6655,0),
        point : {
            show : true, // default
            color : Cesium.Color.YELLOW, // default: WHITE
            pixelSize : 10// default: 1
           
        }});
	surevise_fly=setInterval("position()",2000);
}

function supervise_data_cancel()
{viewer.entities.remove(point);
clearInterval(surevise_fly);
}


 $("#select").show();



      //点测量功能

      var measure_line_lon=new Array();
      var measure_line_lat=new Array();
      var measure_num=1;
      var measure_all=[];
      var measure_right=0;
      var measure_k=0;//1为线量测，3为画点，4为画线，5为画面，6为通视分析，7为坡度分析，8为面积测量
      var glowingLine,glowingPoint,glowingSurface,glowingLabel;
      var translucentRed = Cesium.Color.fromAlpha(Cesium.Color.RED, 0.4);

      var width;
      function measure_refresh()
      {   measure_line_lon=new Array();
          measure_line_lat=new Array();
          measure_num=1;
          measure_all=[];
      }
      function getPosition() {
          //得到当前三维场景
          var scene = viewer.scene;
          //得到当前三维场景的椭球体
          var ellipsoid = scene.globe.ellipsoid;
          var entity = viewer.entities.add({
              label : {
                  show : false
              }
          });

          var longitudeString = null;
          var latitudeString = null;
          var height = null;
          var cartesian = null;
          // 定义当前场景的画布元素的事件处理
          var handler = new Cesium.ScreenSpaceEventHandler(scene.canvas);
          //设置鼠标移动事件的处理函数，这里负责监听x,y坐标值变化
          handler.setInputAction(function(movement) {
              if (measure_k!=0)
              {
                  //通过指定的椭球或者地图对应的坐标系，将鼠标的二维坐标转换为对应椭球体三维坐标
                  cartesian = viewer.camera.pickEllipsoid(movement.endPosition, ellipsoid);
                  if (cartesian) {
                      //将笛卡尔坐标转换为地理坐标
                      var cartographic = ellipsoid.cartesianToCartographic(cartesian);
                      //将弧度转为度的十进制度表示
                      longitudeString = Cesium.Math.toDegrees(cartographic.longitude);
                      latitudeString = Cesium.Math.toDegrees(cartographic.latitude);
                      //获取相机高度
                      height = Math.ceil(viewer.camera.positionCartographic.height);

                  }else {
                      entity.label.show = false;
                  }
              }



          }, Cesium.ScreenSpaceEventType.MOUSE_MOVE);

          handler.setInputAction(function(wheelment) {
              if (measure_k==1)
              {
                  if (cartesian)
                  {
                      measure_line_lon[measure_num]=longitudeString;
                      measure_line_lat[measure_num]=latitudeString;



                      glowingPoint=viewer.entities.add({
                          position : Cesium.Cartesian3.fromDegrees(longitudeString, latitudeString,1000),
                          point : {
                              show : true, // default
                              color : Cesium.Color.SKYBLUE, // default: WHITE
                              pixelSize : 5 // default: 1

                          }});

                      if (measure_num>1.5)
                      {
                          var path_length=6371* Math.acos((Math.sin(measure_line_lat[measure_num-1]*3.14/180)
                              *Math.sin(measure_line_lat[measure_num]*3.14/180)+Math.cos(measure_line_lat[measure_num-1]*3.14/180)
                              *Math.cos(measure_line_lat[measure_num]*3.14/180)*Math.cos(measure_line_lon[measure_num]*3.14/180-measure_line_lon[measure_num-1]*3.14/180)));


                          glowingLabel=viewer.entities.add({
                              position : Cesium.Cartesian3.fromDegrees(longitudeString, latitudeString,1000),
                              label : {
                                  text : String(path_length.toFixed(2))+"km",
                                  //height : 14000,
                                  font : '22px 黑体',
                                  fillColor : Cesium.Color.WHITE,
                                  style : Cesium.LabelStyle.FILL_AND_OUTLINE
                              }
                          });


                      }
                      measure_num=measure_num+1;

                  }

                  var measure_one=[longitudeString,latitudeString]
                  measure_all=measure_all.concat(measure_one);


                  viewer.entities.remove(glowingLine);
                  glowingLine = viewer.entities.add({
                      name:'green',

                      polyline : {
                          positions : Cesium.Cartesian3.fromDegreesArray(measure_all),
                          width : 10,
                          material : new Cesium.PolylineGlowMaterialProperty({
                              glowPower : 0.2,
                              color : Cesium.Color.BLUE
                          })
                      }
                  });


              }


              //3

              if (measure_k==3)
              {
                  if (cartesian)
                  {
                      measure_line_lon[measure_num]=longitudeString;
                      measure_line_lat[measure_num]=latitudeString;



                      glowingPoint=viewer.entities.add({
                          position : Cesium.Cartesian3.fromDegrees(longitudeString, latitudeString,1000),
                          name:'火点',
                          point : {
                              show : true, // default
                              color : Cesium.Color.RED , // default: WHITE

                              pixelSize : 10 // default: 1

                          }});
                  }

              }

              //4
              if (measure_k==4)
              {
                  if (cartesian)
                  {
                      var measure_one=[longitudeString,latitudeString]
                      measure_all=measure_all.concat(measure_one);

                      viewer.entities.remove(glowingLine);
                      glowingLine = viewer.entities.add({

                          polyline : {
                              positions : Cesium.Cartesian3.fromDegreesArray(measure_all),
                              width : 10,
                              material : new Cesium.PolylineGlowMaterialProperty({
                                  glowPower : 0.2,
                                  color : Cesium.Color.BLUE
                              })
                          }
                      });

                  }






              }

              //5
              if (measure_k==5)
              {
                  if (cartesian)
                  {
                      var measure_one=[longitudeString,latitudeString]
                      measure_all=measure_all.concat(measure_one);

                      viewer.entities.remove(glowingLine);
                      glowingSurface = viewer.entities.add({
                          polygon : {
                              hierarchy : Cesium.Cartesian3.fromDegreesArray(measure_all),
                              material : translucentRed
                          }
                          //glowingLine.alpha="0.6";
                      });

                  }



              }

              //雷达这遮蔽叫选取
              if (measure_k==6)
              {
			  //hideMenu();
                  if (cartesian)
                  {


                      var lat=latitudeString;
                      //110.188861,31.810855
                      var lon=longitudeString;

                      glowingPoint=viewer.entities.add({
					      name:lon+'@'+lat+'@'+radar_scope+'@'+radar_height,
                          position : Cesium.Cartesian3.fromDegrees(longitudeString, latitudeString,1000),
                          point : {
                              show : true, // default
                              color : Cesium.Color.SKYBLUE, // default: WHITE
                              pixelSize : 5 // default: 1

                          }});

                      var num=1;
                      //var scope=301;

                      var dem_level=0.000833;

                      var scope_degree=dem_level*scope/2;

                      radar(lon,lat,radar_scope,radar_height);
                  }
				
                  measure_k=0;
              }
              //坡度
              if (measure_k==7)
              {
			      // hideMenu();
                  if (cartesian)
                  {


                      var lat=latitudeString;
                      //110.188861,31.810855
                      var lon=longitudeString;

                      glowingPoint=viewer.entities.add({
                          position : Cesium.Cartesian3.fromDegrees(longitudeString, latitudeString,1000),
                          point : {
                              show : true, // default
                              color : Cesium.Color.SKYBLUE, // default: WHITE
                              pixelSize : 5 // default: 1

                          }});

                      var num=1;
                      //var scope=301;

                      var dem_level=0.000833;

                      var scope_degree=dem_level*scope/2;

                      poDu(lon,lat,radar_scope);
                  }
                  measure_k=0;

              }
              //面测量
              if (measure_k==8)
              {

                  if (cartesian)
                  {

                      measure_line_lon[measure_num]=longitudeString;
                      measure_line_lat[measure_num]=latitudeString;
                      var measure_one=[longitudeString,latitudeString]
                      measure_all=measure_all.concat(measure_one);

                      viewer.entities.remove(glowingLine);
                      glowingSurface = viewer.entities.add({
                          polygon : {

                              hierarchy : Cesium.Cartesian3.fromDegreesArray(measure_all),

                              material : translucentRed
                          }
                      });
                      measure_num=measure_num+1;
                  }
              }
			  if (measure_k==9)
		{
		//hideMenu();
		if (cartesian)
		{
		var measure_one=[]
		
	
		
		if (measure_k9==1)
		{
		
		measure_one=[longitudeString,latitudeString];
	    measure_all=measure_all.concat(measure_one);
		     
viewer.entities.remove(glowingLine);

		
 glowingLine = viewer.entities.add({
  
    polyline : {
        positions : Cesium.Cartesian3.fromDegreesArray(measure_all),
        width : 10,
        material : new Cesium.PolylineGlowMaterialProperty({
            glowPower : 0.2,
            color : Cesium.Color.BLUE
        })
    }
    });
	
	twopoint_attitude2(measure_all[0],measure_all[1],measure_all[2],measure_all[3]);
	measure_k=0;
		measure_refresh();
    }
	
	if (measure_k9==0)
		{
		
		measure_one=[longitudeString,latitudeString];
	    measure_all=measure_all.concat(measure_one);
		     

	measure_k9=measure_k9+1;
    }	
	
	
		}
		
	}

          }, Cesium.ScreenSpaceEventType.LEFT_DOWN);

          handler.setInputAction(function(wheelment) {

              if (measure_k==1)
              {measure_k=0;
			  
                  measure_refresh();

              }



              if (measure_k==3)
              {


                  viewer.entities.remove(glowingLine);

                  glowingPoint=viewer.entities.add({
                      position : Cesium.Cartesian3.fromDegrees(longitudeString, latitudeString,1000),
                      point : {
                          show : true, // default
                          color : Cesium.Color.SKYBLUE, // default: WHITE
                          pixelSize : 5 // default: 1

                      }});

                  measure_k=0;
                  measure_refresh();
              }


              if (measure_k==4)
              {
                  viewer.entities.remove(glowingLine);
                  glowingLine=viewer.entities.add({
                      polyline : {
                          positions : Cesium.Cartesian3.fromDegreesArray(measure_all),
                          width : 10,
                          material : new Cesium.PolylineGlowMaterialProperty({
                              glowPower : 0.2,
                              color : Cesium.Color.BLUE
                          })
                      }
                  });
                  measure_k=0;
                  measure_refresh();
              }


              if (measure_k==5)
              {
                  viewer.entities.remove(glowingLine);
                  glowingSurface=viewer.entities.add({
                      polygon : {

                          hierarchy : Cesium.Cartesian3.fromDegreesArray(measure_all),

                          material : translucentRed
                      }
                  });

                  measure_k=0;
                  measure_refresh();
              }
              //面测量
              if (measure_k==8)
              {

                  if (measure_num>3)
                  {
                      var tri_area=0;
                      for (var i = 3; i <= measure_num-1; i++)
                      {
                          var a=measure_line(measure_line_lon[i-2],measure_line_lat[i-2],measure_line_lon[i-1],measure_line_lat[i-1]);
                          var b=measure_line(measure_line_lon[i-1],measure_line_lat[i-1],measure_line_lon[i],measure_line_lat[i]);
                          var c=measure_line(measure_line_lon[i],measure_line_lat[i],measure_line_lon[1],measure_line_lat[1]);
                          tri_area=tri_area+triangle(a,b,c);

                      }
                  }
                  glowingLabel=viewer.entities.add({
                      position : Cesium.Cartesian3.fromDegrees(longitudeString, latitudeString),
                      label : {
                          text : String(tri_area).substring(0,11)+"km2",
                          //text : "km",
                          //height : 14000,
                          font : '22px 黑体',
                          fillColor : Cesium.Color.WHITE,
                          style : Cesium.LabelStyle.FILL_AND_OUTLINE
                      }
                  });
                  measure_k=0;
                  measure_refresh();
				  //hideMenu();
              }

          }, Cesium.ScreenSpaceEventType.RIGHT_DOWN);

          //设置鼠标滚动事件的处理函数，这里负责监听高度值变化
          handler.setInputAction(function(wheelment) {

          }, Cesium.ScreenSpaceEventType.WHEEL);
      }

      getPosition()

      function triangle(a,b,c)
      {
          var p=a+b+c;
          var triangle_area=Math.sqrt(p*(p-a)*(p-b)*(p-c));
          return triangle_area;
      }

      function measure_line(ax,ay,bx,by)
      {
          var path=6371* Math.acos((Math.sin(ay*3.14/180)
              *Math.sin(by*3.14/180)+Math.cos(ay*3.14/180)
              *Math.cos(by*3.14/180)*Math.cos(bx*3.14/180-ax*3.14/180)));
          return path;
      }
</script>
	
	<script>

	//倾斜摄影数据加载（师大/丹江口/陶岔）

	function obliqueLoad(){

	titleset_show('../../danjiangkou_3dtiles');
	titleset_show('../../taocha_3dtiles');
	}

	var heilongjiang;
	function verticalImg(){
	image_show("../../0_24",1.0); //静海
	image_show("../../xuefu_15cm/xuefu_0-24",1.0);//精武镇
	image_show("../../shilongshan",1.0);//信阳
	image_show("../../FuJian_fuqingshi", 1.0);//福建福清
	image_show("../../SC_SanTai",1.0);//四川三台县
	image_show("../../tj",1.0); //八仙山夏季
	 heilongjiang=image_show("../../DaXingAnLing",1.0); //漠河
	}

	function trafficMove_cancel(){
	MAX_3DMODEL_remove();
	document.getElementById("zzmx_my").style.display="none";
	}

	function closeWind()
	{ 
	sli.style.display="none";
		wind_move_id=0;
		ctx.clearRect(0, 0, W, H);
		wind_change_id=1;
		wind_show=0;
	}



	function tuceng_cancel(){
	 clearInterval(bxsChange);
	viewer.scene.imageryLayers.remove(bxs_Summer);
	viewer.scene.imageryLayers.remove(bxs_Autum);
	viewer.scene.imageryLayers.remove(bxs_Winter);
	viewer.scene.imageryLayers.remove(bxsDenggao_img);
	bxsSummer();
	hnxyImg();
	//hideMenu();
	dongtai_cancel();
	viewer.entities.remove(glowingPoint);
	viewer.entities.remove(glowingLine);
	viewer.scene.imageryLayers.remove(poDu_image);
	viewer.scene.imageryLayers.remove(radar_image);
	viewer.scene.imageryLayers.remove(bxs_Autum);
	viewer.scene.imageryLayers.remove(bxs_Winter);
	viewer.scene.imageryLayers.remove(bxsDenggao_img);
	viewer.scene.imageryLayers.remove(heilongjiang);

	radar_line_cancel();
	bxs_div.style.display='none';
	dxal_div.style.display='none';
	hnxy_div.style.display='none';
	radar_div.style.display='none';
	drawpicture.style.display='none';

	}
	function search_owner(){
	image004=image_show('../../SC_SanTai_LandOwnership',1.0);
	locateTO(105.02094,30.99968,2000);
	}

	function hnxyPanel(){

	hnxy_div.style.display='';
	}
	function hnxyImg(){
	viewer.scene.imageryLayers.remove(hnxyDgp);
	viewer.scene.imageryLayers.remove(hnxySlope);
	}
	function hnxyDgp(){
	viewer.scene.imageryLayers.remove(hnxySlope);
	hnxyDgp=image_show('../../shilongshan_duoguangpu',1.0);
	}
	function hnxySlope(){
	viewer.scene.imageryLayers.remove(hnxyDgp);
	hnxySlope=image_show('../../shilongshan_podu',1.0);
	}

	/*function searchCancel(){
	santai_search();
	Searchtext.innerHTML='';
	searchOut.style.display='none';
	}*/
	function radar_show(){
	radar_div.style.display='';
	}
	function guijiCan(){
	var lohe = document.getElementById("form_id");
			lohe.style.display='none';
	}
	document.getElementById('measure_cancel').onclick=function(){
	  drawFlag1 = false;
			polylinePath = [];
			polyline = undefined;
			drawFlag2 = false;
			polygonPath = [];
			polygon = undefined;
	viewer.entities.removeAll();
	//$(".cesium-infoBox-visible").css("display","");
	//$(".cesium-selection-wrapper-visible").css("visibility","visible");
	}

	 //中国省级人口
	function button_china()
		{	
		 Cesium.Math.setRandomNumberSeed(0);
	    var promise = Cesium.GeoJsonDataSource.load('./SampleData/China_pop.json');
	    promise.then(function(dataSource) {
	        viewer.dataSources.add(dataSource);
	        var entities = dataSource.entities.values;       
	        var colorHash = {};
	        for (var i = 0; i < entities.length; i++) {
	            var entity = entities[i];
	            var name = entity.properties.PROVINCE;         
				var color = colorHash[name];
	            if (!color) {
	                 color = Cesium.Color.fromRandom({
	                    alpha : 1.0
	                });
	                colorHash[name] = color;
	            }            
	            entity.polygon.material = color; 
	            entity.polygon.outline = false; //entity.polyline.color=red;
	          entity.polygon.extrudedHeight = entity.properties.POPULATION /300;
	            }
	        })
		}
	/* 图例 */
	var mm=document.getElementById("tuli");
	var nn=document.getElementById("tuliImag");
	function changeImag(url)	
		{	    
			mm.style.display="block";
			nn.src=url;		
		}
		function dispear_img(){	
		nn.style.display="";
		 nn.src="";	
		}
	//天津矢量文件加载
	function load_shp(url,color,alpha,bold){
	var datavalue=new Cesium.GeoJsonDataSource();
	viewer.dataSources.add(datavalue.load(url, {
			stroke: color,
			//markerSymbol:'./images/green.png',
			fill: Cesium.Color.GREEN.withAlpha(0.5),
			strokeWidth: bold
		}));
		return datavalue;
		}
	//天津区县、乡镇名称加载
		 //天津县区名称
		 function tjxq(){
		$.getJSON("TJSHP/tjxq.json",function(data){
		   for(var i=0;i<data.length;i++){
			   viewer.entities.add({
				id:data[i].lng,
				position : Cesium.Cartesian3.fromDegrees(data[i].lng*1, data[i].lat*1,80),
				label : {
					outlineColor:Cesium.Color.WHITE,
					outlineWidth:0,
					//fillColor:Cesium.Color.MAGENTA,
					font:'17px sans-serif',
					text : data[i].name,
					translucencyByDistance : new Cesium.NearFarScalar(1.5e3, 1.0, 1.5e6, 0.0),
					 style : Cesium.LabelStyle.FILL_AND_OUTLINE
			}
		  });
		}
		 })
		 };
				 //天津乡镇街道办事处名称
		 function tjxz(){
		$.getJSON("TJSHP/TJTOWN.json",function(data){
		   for(var i=0;i<data.length;i++){
			   viewer.entities.add({
				id:data[i].lng,
				position : Cesium.Cartesian3.fromDegrees(data[i].lng*1, data[i].lat*1,50),
				label : {
					outlineColor:Cesium.Color.WHITE,
					outlineWidth:2,
					fillColor:Cesium.Color.WHITE,
					font:'20px sans-serif',
					text : data[i].name,
					translucencyByDistance : new Cesium.NearFarScalar(1.5e3, 1.5, 1.5e5, 0.0),
					style : Cesium.LabelStyle.FILL_AND_OUTLINE
			}
		  });
		}
		 })
		 };
		 function looptjxq_cancel(){
		   $.getJSON('TJSHP/tjxq.json',function(data){
			  for(var i=0;i<data.length;i++){
				  var id_value=data[i].lng;
				  viewer.entities.removeById(id_value);
			  }
		   }
		   );
		 }
		 function looptjxz_cancel(){
		   $.getJSON('TJSHP/TJTOWN.json',function(data){
			  for(var i=0;i<data.length;i++){
				  var id_value=data[i].lng;
				  viewer.entities.removeById(id_value);
			  }
		   }
		   );
		 }	

		 function tilecut_open()
	{
	    document.getElementById("jump_DIV").style.display="";
		slopeAnalyst1();
	}
	
	//小数据量矢量数据动态切片加载 --20m以内保证加载速度   wz 2019-4-18
    VectorTileImageryProvider = Cesium.VectorTileImageryProvider;
	function addShp()
	{
	       var shpPromises = [
               Cesium.loadBlob("./SampleData/gis_osm_railways_free_1.shp"),
	           Cesium.loadBlob("./SampleData/gis_osm_railways_free_1.dbf"),
	           Cesium.loadBlob("./SampleData/gis_osm_railways_free_1.prj"),
               ];
   var chinaLayer = null;
   Cesium.when.all(shpPromises,function (files){
       files[0].name = "gis_osm_railways_free_1.shp";
	   files[1].name = "gis_osm_railways_free_1.dbf";
	   files[2].name = "gis_osm_railways_free_1.prj";
	   
	   var shpProvider = new VectorTileImageryProvider({
	       source: files,
		   defaultStyle:{
		       outlineColor: "rgb(255,255,0)",
			   lineWidth: 2,
			   fill: false,
			   tileCacheSize: 200,
			   showMaker: false,
			   showCenterLabel: true,
			   fontColor: "rgba(255,0,0,1)",
			   labelOffsetX: 0,
			   labelOffsetY: 0,
			   fontSize: 13,
			   fontFamily: "黑体",
			   centerLabelPropertyName: "NAME",
		   },
		   maximumLevel: 20,
		   minimumLevel: 1,
		   simplify: true,
	   });
	   shpProvider.readyPromise.then(function(){
	       chinaLayer = viewer.imageryLayers.addImageryProvider(shpProvider);
		   viewer.imageryLayers.raiseToTop(chinaLayer);
	   });
   });
	}
	//地质全息元
     	 function dzqxy()
	  {
	      Cesium.Math.setRandomNumberSeed(0);
    var promise =Cesium.GeoJsonDataSource.load('../Apps/SampleData/dzqxy/地形全息元_坡向.json');
      promise.then(function (dataSource) {
        viewer.dataSources.add(dataSource);
        var entities =dataSource.entities.values;
        var colorHash = {};
        for (var i = 0; i < entities.length;i++) {
            var entity = entities[i];
            var name = entity.name;
            var color = colorHash[name];
            if (!color) {
                color =Cesium.Color.fromRandom({
                    alpha: 1.0
                });
                colorHash[name] = color;
            }
            entity.polygon.material = color;
            entity.polygon.outline = false;
           entity.polygon.extrudedHeight =5000.0;
        }
    });
    viewer.flyTo(promise);
	  }
 
 function dxsll()
	  {
	      Cesium.Math.setRandomNumberSeed(0);
    var promise =Cesium.GeoJsonDataSource.load('../Apps/SampleData/dzqxy/地形全息元_坡向.json');
      promise.then(function (dataSource) {
        viewer.dataSources.add(dataSource);
        var entities =dataSource.entities.values;
        var colorHash = {};
        for (var i = 0; i < entities.length;i++) {
            var entity = entities[i];
            var name = entity.name;
            var color = colorHash[name];
            if (!color) {
                color =Cesium.Color.fromRandom({
                    alpha: 1.0
                });
                colorHash[name] = color;
            }
            entity.polygon.material = color;
            entity.polygon.outline = false;
           entity.polygon.extrudedHeight =5000.0;
        }
    });
    viewer.flyTo(promise);
	  }
        function dzqxy1()
	  {
	      Cesium.Math.setRandomNumberSeed(0);
    var promise =Cesium.GeoJsonDataSource.load('../Apps/SampleData/dzqxy/地质全息元_断裂.json');
      promise.then(function (dataSource) {
        viewer.dataSources.add(dataSource);
        var entities =dataSource.entities.values;
        var colorHash = {};
        for (var i = 0; i < entities.length;i++) {
            var entity = entities[i];
            var name = entity.name;
            var color = colorHash[name];
            if (!color) {
                color =Cesium.Color.fromRandom({
                    alpha: 1.0
                });
                colorHash[name] = color;
            }
            entity.polygon.material = color;
            entity.polygon.outline = false;
           entity.polygon.extrudedHeight =5000.0;
        }
    });
    viewer.flyTo(promise);
	  }
         function dzqxy2()
	  {
	      Cesium.Math.setRandomNumberSeed(0);
    var promise =Cesium.GeoJsonDataSource.load('../Apps/SampleData/dzqxy/地质全息元_岩性.json');
      promise.then(function (dataSource) {
        viewer.dataSources.add(dataSource);
        var entities =dataSource.entities.values;
        var colorHash = {};
        for (var i = 0; i < entities.length;i++) {
            var entity = entities[i];
            var name = entity.name;
            var color = colorHash[name];
            if (!color) {
                color =Cesium.Color.fromRandom({
                    alpha: 1.0
                });
                colorHash[name] = color;
            }
            entity.polygon.material = color;
            entity.polygon.outline = false;
           entity.polygon.extrudedHeight =5000.0;
        }
    });
    viewer.flyTo(promise);
	  }
	  function dzqxy3()
	  {
	      Cesium.Math.setRandomNumberSeed(0);
    var promise =Cesium.GeoJsonDataSource.load('../Apps/SampleData/dzqxy/气候全息元_降雨.json');
      promise.then(function (dataSource) {
        viewer.dataSources.add(dataSource);
        var entities =dataSource.entities.values;
        var colorHash = {};
        for (var i = 0; i < entities.length;i++) {
            var entity = entities[i];
            var name = entity.name;
            var color = colorHash[name];
            if (!color) {
                color =Cesium.Color.fromRandom({
                    alpha: 1.0
                });
                colorHash[name] = color;
            }
            entity.polygon.material = color;
            entity.polygon.outline = false;
           entity.polygon.extrudedHeight =5000.0;
        }
    });
    viewer.flyTo(promise);
	  }
	  function dzqxy4()
	  {
	      Cesium.Math.setRandomNumberSeed(0);
    var promise =Cesium.GeoJsonDataSource.load('../Apps/SampleData/dzqxy/灾害全息元_历史灾害密度.json');
      promise.then(function (dataSource) {
        viewer.dataSources.add(dataSource);
        var entities =dataSource.entities.values;
        var colorHash = {};
        for (var i = 0; i < entities.length;i++) {
            var entity = entities[i];
            var name = entity.name;
            var color = colorHash[name];
            if (!color) {
                color =Cesium.Color.fromRandom({
                    alpha: 1.0
                });
                colorHash[name] = color;
            }
            entity.polygon.material = color;
            entity.polygon.outline = false;
           entity.polygon.extrudedHeight =5000.0;
        }
    });
    viewer.flyTo(promise);
	  }
	  function dzqxy5()
	  {
	      Cesium.Math.setRandomNumberSeed(0);
    var promise =Cesium.GeoJsonDataSource.load('../Apps/SampleData/dzqxy/植被全息元_NDVI.json');
      promise.then(function (dataSource) {
        viewer.dataSources.add(dataSource);
        var entities =dataSource.entities.values;
        var colorHash = {};
        for (var i = 0; i < entities.length;i++) {
            var entity = entities[i];
            var name = entity.name;
            var color = colorHash[name];
            if (!color) {
                color =Cesium.Color.fromRandom({
                    alpha: 1.0
                });
                colorHash[name] = color;
            }
            entity.polygon.material = color;
            entity.polygon.outline = false;
           entity.polygon.extrudedHeight =5000.0;
        }
    });
    viewer.flyTo(promise);
	  }
	  function dzqxy6()
	  {
	      Cesium.Math.setRandomNumberSeed(0);
    var promise =Cesium.GeoJsonDataSource.load('../Apps/SampleData/dzqxy/地形全息元_坡度.json');
      promise.then(function (dataSource) {
        viewer.dataSources.add(dataSource);
        var entities =dataSource.entities.values;
        var colorHash = {};
        for (var i = 0; i < entities.length;i++) {
            var entity = entities[i];
            var name = entity.name;
            var color = colorHash[name];
            if (!color) {
                color =Cesium.Color.fromRandom({
                    alpha: 1.0
                });
                colorHash[name] = color;
            }
            entity.polygon.material = color;
            entity.polygon.outline = false;
           entity.polygon.extrudedHeight =5000.0;
        }
    });
    viewer.flyTo(promise);
	  }
	   function dxsout()
	  {
	    var dxsoutdata = viewer.entities.add({
        name : 'Red line on terrain',
        polyline : {
        positions : Cesium.Cartesian3.fromDegreesArray(vptsout),
        width : 5,
        material : Cesium.Color.RED,
        clampToGround : true
               }
       });
         
   
	 locateTO(113.7016,24.9703,2000);
	  }
	  function dxsin()
	  {
	      var dxsindata = viewer.entities.add({
          name : 'Red line on terrain',
         polyline : {
        positions : Cesium.Cartesian3.fromDegreesArray(vptsin),
        width : 5,
        material : Cesium.Color.YELLOW,
        clampToGround : true
    }
});
	      locateTO(113.7016,24.9703,2000);
	  }

	function setcursorbyid(id,cursorstyle) {
		if (document.getElementById) {
			if (document.getElementById(id).style) {
			document.getElementById(id).style.cursor=cursorstyle;
			}
		}
}
	 
	</script>
		
	<script type="text/javascript" src="/static/earthlib/scripts/public.js" ></script>
	<script type="text/javascript" src="/static/earthlib/scripts/jscommon.js"> </script>
	<script type="text/javascript" src="/static/earthlib/scripts/date_format.js"> </script>
	<script type="text/javascript" src="/static/earthlib/scripts/slide.js"> </script>
	<script type="text/javascript" src="/static/earthlib/scripts/bxsmain.js"> </script>
	<script type="text/javascript" src="/static/earthlib/scripts/bxsfence.js"> </script>
	<script type="text/javascript" src="/static/earthlib/scripts/monitor.js"> </script>
	<script type="text/javascript" src="/static/earthlib/scripts/forest_inquery.js"> </script>
	<script type="text/javascript" src="/static/earthlib/scripts/santai_inquery.js"> </script>
	<script type="text/javascript" src="/static/earthlib/scripts/jingwei_show.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/shida_fly.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/tjtd_change.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/tjsy_change.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/bxs_change2.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/dxal_change2.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/Tjnu_change.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/cnjs_change.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/cnqw_change.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/lbs.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/distance.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/polygon.js"></script>
<!--<script type="text/javascript" src="scripts/distance_mx.js"></script> 
 	<script type="text/javascript" src="scripts/polygon_mx.js"></script> -->
	<script type="text/javascript" src="/static/earthlib/scripts/multiMark.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/slopeToshi.js"></script>
	<!-- <script type="text/javascript" src="scripts/slopeToshi1.js"></script> -->
    <script type="text/javascript" src="/static/earthlib/scripts/jscomm.js" ></script>
    <script type="text/javascript" src="/static/earthlib/scripts/jslbsmain.js" ></script>
	<script type="text/javascript" src="/static/earthlib/scripts/POISearch.js" ></script>
    <script type="text/javascript" src="/static/earthlib/scripts/RouteSearch.js" ></script>
	<script type="text/javascript" src="/static/earthlib/scripts/hangpai.js" ></script>
	<script type="text/javascript" src="/static/earthlib/scripts/qixiang.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/qixiang_dongtai.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/qixiang_fengxiang.js"></script>
	<script type="text/javascript" src="/static/earthlib/scripts/color_table.js" ></script>
	<script type="text/javascript" src="/static/earthlib/scripts/qixiang_chazhi.js" ></script>
	<script type="text/javascript" src="/static/earthlib/scripts/guanwang.js" ></script>
	<script type="text/javascript" src="/static/earthlib/scripts/burstTube.js" ></script>
	 <script type="text/javascript" src="/static/earthlib/scripts/dxstd.js" ></script>
	<!-- <script type="text/javascript" src="scripts/viewerscence.js" ></script> -->
<!-- 	<script type="text/javascript" src="scripts/drawlinell.js" ></script> -->
	
	<!--goose 水文信息监控查询 2018年1月31日20:46:55  -->
	
	<!-- 为树控件增加右键菜单用于选择 -->
    <div id="mm" class="easyui-menu" style="width:120px;">
        <div data-options="iconCls:'icon-ok'"
             onclick="javascript:alert('new')">查询数据</div>
        <div data-options="iconCls:'icon-sum'">统计</div>
        <div class="menu-sep"></div>
        <div data-options="iconCls:'icon-reload'">重载站点树</div>
    </div>     

	    <!-- 总体工具栏 -->
    <div id="wtoolbar" class="easyui-window" title="信息查询统计工具栏"
         data-options="minimizable:false,maximizable:false,collapsible:true"
         style="width:200px;height:400px;padding:10px 15px 10px 10px;overflow-y:auto; overflow-x:hidden;">
        <div class="easyui-accordion" data-options="multiple:true" style="width:99%">

            <!-- 数据工具 -->
            <div title="工具" data-options="iconCls:'icon-search'" 
                 style="padding:10px;">
                <a href="#" class="easyui-linkbutton c1 btn100"
                   title="打开站点树." id="utistatus"
                   data-options="plain:true,iconCls:'icon-search'">站点树</a>
                <a href="#" class="easyui-linkbutton c1 btn100" 
                   title="打开定时器，定时查询最新数据." id="rtstass"
                   data-options="plain:true,iconCls:'icon-search'">最新数据</a>
                <a href="#" class="easyui-linkbutton c1 btn100" 
                   title="历史数据查询." id="stahistss"
                   data-options="plain:true,iconCls:'icon-search'">历史数据</a>
                <a id="utilisobands" href="#" class="easyui-linkbutton btn100" 
                   title="历史降水分布图查询."
                   data-options="plain:true,iconCls:'icon-search'">历史降水分布图</a>
                <a id="utilocatebykey" href="#" class="easyui-linkbutton btn100"
                   title="根据站点号、地址或者名称查询站点."
                   data-options="plain:true,iconCls:'icon-search'">站点定位</a>
            </div>
            <!-- 数据统计 -->
            <div title="数据统计" data-options="iconCls:'icon-sum'" style="padding:10px;display:none;">
                <a href="#" class="easyui-linkbutton btn100" 
                   title="每个小时一个数据." id="stahh"
                   data-options="plain:true,iconCls:'icon-search'">小时数据</a>
                <a href="#" class="easyui-linkbutton btn100" 
                   title="每天一个数据." id="stadd"
                   data-options="plain:true,iconCls:'icon-search'">天数据</a>
                <a href="#" class="easyui-linkbutton btn100" 
                   title="每月一个数据." id="stamon"
                   data-options="plain:true,iconCls:'icon-search'">月数据</a>
                <a href="#" class="easyui-linkbutton btn100" 
                   title="每年一个数据." id="stayy"
                   data-options="plain:true,iconCls:'icon-search'">年数据</a>
                <a id="minmaxss" href="#" class="easyui-linkbutton btn100" 
                   title="一定时间范围内单测站的最大最小值."
                   data-options="plain:true,iconCls:'icon-search'">原始数据极值</a>
                <a id="minmaxhh" href="#" class="easyui-linkbutton btn100" 
                   title="一定时间范围内单测站以小时为单位的最大最小值."
                   data-options="plain:true,iconCls:'icon-search'">小时数据极值</a>
                <a id="minmaxdd" href="#" class="easyui-linkbutton btn100" 
                   title="一定时间范围内单测站以天为单位的最大最小值."
                   data-options="plain:true,iconCls:'icon-search'">天数据极值</a>
                <a id="minmaxmon" href="#" class="easyui-linkbutton btn100" 
                   title="一定时间范围内单测站以月为单位的最大最小值."
                   data-options="plain:true,iconCls:'icon-search'">月数据极值</a>
                <a id="minmaxyy" href="#" class="easyui-linkbutton btn100" 
                   title="一定时间范围内单测站以年为单位的最大最小值."
                   data-options="plain:true,iconCls:'icon-search'">年数据极值</a>
            </div>

            <div title="用户管理" data-options="iconCls:'icon-man'" style="padding:10px;">
                <a id="usrmgrlogin" href="#" class="easyui-linkbutton btn100" title="登录."
                   data-options="plain:true,iconCls:'icon-search'">登录</a>
                <a id="usrmgrnew" href="#" class="easyui-linkbutton btn100" title="新建用户."
                   data-options="plain:true,iconCls:'icon-search'">创建用户</a>
                <a id="usrmgrdel" href="#" class="easyui-linkbutton btn100" title="删除用户."
                   data-options="plain:true,iconCls:'icon-search'">删除用户</a>
                <a id="usrmgrchgpsw" href="#" class="easyui-linkbutton btn100" title="修改指定用户名的密码."
                   data-options="plain:true,iconCls:'icon-search'">修改密码 </a>
                <a id="usrmgrgrant" href="#" class="easyui-linkbutton btn100" title="设置指定用户的权限."
                   data-options="plain:true,iconCls:'icon-search'">管理权限 </a>
                <a id="usrmgrstas" href="#" class="easyui-linkbutton btn100" title="设置用户可以管理的站点."
                   data-options="plain:true,iconCls:'icon-search'">分配站点 </a>
            </div>
            <div title="其它" data-options="iconCls:'icon-more'" style="padding:10px;">
                <a id="utiupdatehhmonyy" href="#" class="easyui-linkbutton btn100" 
                   title="根据原始数据生成以小时、天、月、年为单位的统计表格."
                   data-options="plain:true,iconCls:'icon-search'">生成统计数据 </a>
            </div>            
        </div>
    </div>

    <!--任意时间查询 2018年5月14日18:00:59 -->
		<div id="swdlgquery" class="easyui-dialog" 
		title="水文信息查询--降雨量/降雪量查询" 
		style="width:305px;"
			data-options="
				iconCls: 'icon-sum',
				buttons: '#swdlgquery-buttons'
			">	
		<div class="divpadding">			
			<select class="easyui-combobox" label="查询类型:"
				 id="swtgselrors" style="width:210px;">
				<option value="rain">降雨量查询</option>
				<option value="snow">降雪量查询</option>
			</select>
		</div>
		
		<div class="divpadding">
			<select id="swtgseldttp" class="easyui-combobox" 
					label="数据类型:" style="width:210px;">
				<option value="ss" selected="selected">原始数据</option>
				<option value="hh">小时数据</option>
				<option value="dd">天数据</option>
				<option value="mon">月数据</option>
				<option value="yy">年数据</option>
			</select>
		</div>

		<div class="divpadding">
			<a href="#" id="swaselstasss" class="easyui-linkbutton"
			   style="width:96%;"
			   data-options="plain:true,iconCls:'icon-add'">选择站点</a>
		</div>
		<div class="divpadding">
			<input id="swtgdtfrom" class="easyui-datetimebox" 
				label="开始时间:"
				   value="2018-01-09 10:00:00" required 
				   style="width:210px;" />
		</div>
		<div class="divpadding">
			<input id="swtgdtto" class="easyui-datetimebox" label="结束时间:"
				   value="2018-01-09 10:00:00" required  
				   style="width:210px;" />
		</div>		
	</div>
    <div id="swdlgquery-buttons">

        <div class="divpadding" style="padding:10px 30px 0 1px;">
			<a href="#" id="swasaveas" class="easyui-linkbutton" 
			data-options="iconCls:'icon-save',disabled:true"
			style="width:40%;height:28px;">保存</a>
            <a id="swdlgquerygogo" href="#" iconcls="icon-search"
               class="easyui-linkbutton" 
			   style="width:40%;height:28px;"
               data-options="iconCls:'icon-search,disabled:true'">查询</a>
        </div>
        <!--隐藏信息存储相关数据 -->
        <input id='swtxtreserveddtss' type="text" style="display:none;">
    </div>

    <!--任意时间查询 new -->
	<!--
    <div id="dlgquery" class="easyui-dialog"
         style="width: 380px; "
         title="水文信息查询"
         data-options="iconCls:'icon-sum',buttons:'#dlgquery-buttons' ">

        <div >
            <div class="divpadding">
                <select id="tgselrors" class="easyui-combobox" name="selrsss"
                     la   label="查询类型:" style="width:100%;">
                    <option value="rain">降雨量查询</option>
                    <option value="snow">降雪量查询</option>
                </select>
            </div>
            <div class="divpadding">
                <select id="tgseldttp" class="easyui-combobox" name="selrsss"
                        label="数据类型:" style="width:240px;">
                    <option value="ss" selected="selected">原始数据</option>
                    <option value="hh">小时数据</option>
                    <option value="dd">天数据</option>
                    <option value="mon">月数据</option>
                    <option value="yy">年数据</option>
                </select>
            </div>
            <div class="divpadding">
                <a href="#" id="aselstasss" class="easyui-linkbutton"
                   style="width:99%;"
                   data-options="plain:true,iconCls:'icon-add'">选择站点</a>
            </div>
			
			<div class="divpadding">
                开始时间:
                <input id="tgdtfrom" class="easyui-datetimebox"
                       value="07/21/2010 00:24:49"
                       required style="width:200px;" />
            </div>
            <div class="divpadding">
                结束时间:
                <input id="tgdtto" class="easyui-datetimebox"
                       value="07/21/2010 23:24:49"
                       required style="width:200px;" />
            </div>

		
        </div>
    </div>
    <div id="dlgquery-buttons">

        <div class="divpadding" style="padding:10px 30px 0 1px;">
			<a href="" id="asaveas" class="easyui-linkbutton" 
			data-options="iconCls:'icon-save',disabled:true"
			style="width:120px;height:28px;">保存</a>
            <a id="dlgquerygogo" href="#" iconcls="icon-search"
               class="easyui-linkbutton" style="width:150px;height:28px;padding:15px;"
               data-options="iconCls:'icon-search,disabled:true'">查询</a>
        </div>
        <!--隐藏信息存储相关数据 -- >
        <input id='txtreserveddtss' type="text" style="display:none;">
    </div>
	-->

	    <!--按照间隔生成等值线 -->
    <div id="dlgisobands" class="easyui-dialog"
         style="width: 300px; margin: 0; padding:10px; "
         title="等值线数据生成"
         data-options="iconCls:'icon-sum',buttons:'#dlgisobands-buttons'">
        <div style="margin-bottom:10px;font-size:14px;border-bottom:1px solid #ccc">
            降雨量/降雪量查询
        </div>
        <div style="padding:10px;">
            <div class="divpadding">
                <select id="selrsiso" class="easyui-combobox" name="selisors"
                        label="等值线类型:" style="width:100%;">
                    <option value="rain">降雨量</option>
                    <option value="snow">降雪量</option>
                </select>
            </div>
            <div class="divpadding">
                <select id="seltspaniso" class="easyui-combobox" name="selisotsp"
                        label="时间间隔:" style="width:100%;">
                    <option value="5">5分钟</option>
                    <option value="10">10分钟</option>
                    <option value="30">30分钟</option>
                    <option value="60">1小时</option>
                    <option value="1440">1天</option>
                    <option value="43200">1月</option>
                    <option value="518400">1年</option>
                </select>
				<div class="divpadding">
					<input id="tqbeginiso" class="easyui-datetimebox" label="开始时间:"
							value="2017-12-04 10:00:00" required="" style="width:100%;" />
				</div>
				<div class="divpadding">
					<input id="tqendiso" class="easyui-datetimebox" label="结束时间:"
							value="2017-12-05 10:00:00" required="" style="width:100%;" />
				</div>
			</div>
		</div>
    </div>
    <div id="dlgisobands-buttons">
        <div class="divpadding" style="padding:10px 30px 0 1px;">
            <a id="btndlgisobands" href="#" iconcls="icon-search"
               class="easyui-linkbutton" style="width:240px;height:28px;padding:15px;"
               data-options="iconCls:'icon-search'">查询</a>
        </div>
        <!--隐藏信息存储相关数据 -->
        <input id='txtreserveddthiso' type="text" style="display:none;">
    </div>

	
    <!-- 站点定位对话框 根据关键字查询站点 -->
    <div id="dlglocatesta" class="easyui-dialog" title="查找站点" 
         style="width:400px;height:150px;padding:30px;"
         data-options="
                iconCls: 'icon-search',
                buttons: [ {
                    text:'关闭',
                    iconCls:'icon-ok',
                    handler:function(){
                        alert('ok');
                    }
                }]
            ">
        <input class="easyui-searchbox" 
               data-options="prompt:'输入站点名称、编号、所属单位或者地址',
                    menu:'#mm',searcher:doSearch" style="width:300px">
        <div id="mm">
            <div data-options="name:'all',iconCls:'icon-ok'">所有属性</div>
            <div data-options="name:'sname'">名称</div>
            <div data-options="name:'add'">地址</div>
            <div data-options="name:'stno'">编号</div>
            <div data-options="name:'depart'">所属单位</div>
        </div>
    </div>

    <!-- 结果展示对话框 -->
    <div id="dlgrwresult" class="easyui-window"
         style="width: 820px; height: 520px;"
         title="水文信息查询结果"
         data-options="iconCls:'icon-large-smartart',minimizable:false">

        <div class="easyui-tabs" style="width:100%;height:100%;">
            <!--class="easyui-datagrid easyui-resizable"-->
            <div title="观测站降水查询" iconcls="icon-large-shapes" style="padding:10px">
                <table id="dgstahistory" style="width:98%;height:98%;"
                       data-options=" rownumbers:true, singleSelect:true,
    				        autoRowHeight:false, pagination:true,
    				        pageSize:10, view:groupview, groupField:'stano',
                            groupFormatter:function(value,rows){
                                return value + ' - ' + rows.length + '项';
                            }
                       ">
                    <thead>
                        <tr>
                            <th data-options="field:'DataID',width:80,sortable:'true',hidden:true">流水号</th>
                            <th data-options="field:'RainCheckTime',width:100, sortable:'true'">观测时间</th>
                            <th data-options="field:'Rainfall',width:80,align:'right'">降水量</th>
                            <th data-options="field:'AccumulatedRainfall',width:80,align:'right'">累计降水量</th>
                            <th data-options="field:'WaterCheckTime',width:240">水位观测时间</th>
                            <th data-options="field:'InstanteWaterLevel',width:240">瞬时水位</th>
                            <th data-options="field:'Voltage',width:60,align:'center',formatter:formatvolt">电压</th>
                            <th data-options="field:'SendTime',width:60,align:'center'">发报时间</th>
                            <th data-options="field:'Reserve3',width:60,align:'center',hidden:true">保留字</th>
                            <th data-options="field:'Reserve3',width:60,align:'center',hidden:true">保留字</th>
                            <th data-options="field:'Reserve3',width:60,align:'center',hidden:true">保留字</th>
                            <th data-options="field:'stano',width:80,sortable:'true',hidden:true">站点号</th>
                        </tr>
                    </thead>
                </table>
            </div>

            <!-- 极值结果表-->
            <div title="观测站降水极值查询" iconcls="icon-large-shapes" style="padding:10px">
                <table id="dgstapeak" style="width:98%;height:98%;"
                       data-options=" rownumbers:true, singleSelect:true,
    				        autoRowHeight:false, pagination:true,
    				        pageSize:10, view:groupview,
                            groupField:'stano', groupFormatter:function(value,rows){
                                return value + ' - ' + rows.length + '项';
                            }
                       ">
                    <thead>
                        <tr>
                            <th data-options="field:'minfall',width:80,sortable:'true'">最小实时降水量</th>
                            <th data-options="field:'maxfall',width:100, sortable:'true'">最大实时降水量</th>
                            <th data-options="field:'minaccfall',width:80,align:'right'">最小累积降水量</th>
                            <th data-options="field:'maxaccfall',width:80,align:'right'">最大累积降水量</th>
                            <th data-options="field:'stano',width:80,sortable:'true'">站点号</th>
                        </tr>
                    </thead>
                </table>
            </div>

            <div id="chartdivrainsnow" class=" easyui-resizable"
                 title="降水量图" data-options="iconCls:'icon-large-chart'"
                 style="width:730px;height:450px;padding:10px">
                <div id="emmyChartrs" style="width:100%; height:95%;"></div>
            </div>

            <div id="chartdivwater" class=" easyui-resizable"
                 title="水位图" data-options="iconCls:'icon-large-chart'"
                 style="width:730px;height:450px;padding:10px">
                <div id="emmyChartwater" style="width:100%; height:95%;"></div>
            </div>
        </div>

    </div>

    <!-- 搜索工具栏 -->
    <div id="tab-tools">
        <a href="#" class="easyui-linkbutton" 
           data-options="plain:true,iconCls:'icon-search'"
           onclick="search_station();"></a>
    </div>

    <!-- 站点信息状态窗口 -->
    <div id="wstastatus" class="easyui-window"
         style="width: 250px; height: 520px;"
         title="信息窗口"
         data-options="iconCls:'icon-large-smartart',minimizable:false">

        <div class="easyui-tabs" style="width:100%;height:100%;"
             data-options="tools:'#tab-tools'">
            <!-- 站点树checkbox:tree_ckbox,url:'jss/hnpcacode.json'-->
            <div title="观测站" style="padding:5px">
                <ul id="treestas" class="easyui-tree"
                    data-options="                  
                    method:'get', animate:true, 
                    formatter:tree_formatno
                    "></ul>
            </div>
		 
    </div>


    <!-- 登陆对话框-->
    <div id="dlglogin" class="easyui-dialog" title="登陆"
         style="width:250px;height:200px;padding: 20px;"
         data-options="	iconCls: 'icon-man',
			buttons: [{	text:'登陆',iconCls:'icon-ok',	handler:function(){
					alert('登录');
				}
			},{
				text:'注册',iconCls:'icon-cancel',
				handler:function(){
					alert('注册');
				}
			}]
		">
        <div style="margin-bottom:20px;">
            <input class="easyui-textbox" id="namelogin"
                   data-options="labelAlign:'left',labelPosition:'top',prompt:'输入用户名' ,required:true,validType:'length[3,10]'"
                   style="width:190px;height:32px;">
        </div>
        <div style="margin-bottom:20px;">
            <input class="easyui-passwordbox" iconwidth="28" id="pswlogin"
                   data-options="labelAlign:'left', labelPosition:'top', prompt:'输入密码',required:true,validType:'length[3,10]'"
                   style="width:190px;height:32px;padding:10px;">
        </div>
    </div>

    <!-- 新建用户对话框-->
    <div id="dlgnewuser" class="easyui-dialog" title="创建用户"
         style="width:250px;height:500px;padding: 20px; "
         data-options="	iconCls: 'icon-man',
			buttons: [{	text:'创建',iconCls:'icon-ok',	handler:function(){
					alert('ok');
				}
			},{
				text:'取消',iconCls:'icon-cancel',
				handler:function(){
					alert('cancel');
				}
			}]
		">
        <div style="margin-bottom:20px">
            <input class="easyui-textbox tb" id="namenewuser"
                   prompt="输入用户名" iconwidth="28"
                   data-options="required:true,validType:'length[3,10]'"
                   style="width:100%;height:34px;padding:10px;">
        </div>
        <div style="margin-bottom:20px">
            <input id="pswnewuser" class="easyui-passwordbox"
                   prompt="输入密码" iconwidth="28"
                   data-options="required:true,validType:'length[3,10]'"
                   style="width:100%;height:34px;padding:10px">
        </div>
        <div style="margin-bottom:20px">
            <input class="easyui-passwordbox" id="pswconfirmnewuser"
                   prompt="确认密码" iconwidth="28"
                   data-options="required:true,validType:'length[3,10]'"
                   validtype="confirmPass['#pass']"
                   style="width:100%;height:34px;padding:10px">
        </div>
        <div style="margin-bottom:20px">
            <input class="easyui-textbox tb" id="tnamenewuser"
                   prompt="输入真实姓名" iconwidth="28"
                   data-options="required:true,validType:'length[3,10]'"
                   style="width:100%;height:34px;padding:10px;">
        </div>
        <div style="margin-bottom:20px">
            <input class="easyui-textbox tb" id="emailnewuser"
                   prompt="输入邮箱" iconwidth="28"
                   data-options="required:true,validType:'email'"
                   style="width:100%;height:34px;padding:10px;">
        </div>
        <!-- 地址-->
        <div style="margin-bottom:20px">
            <input class="easyui-combobox" id="cityadd"
                   style="width:100%;height:34px;padding:10px;"
                   prompt="选择市级地址" iconwidth="28"
                   data-options="valueField:'id',textField:'text'">
        </div>
        <div style="margin-bottom:20px">
            <input class="easyui-combobox" id="countyadd"
                   style="width:100%;height:34px;padding:10px;"
                   prompt="选择县级地址" iconwidth="28"
                   data-options="valueField:'id',textField:'text'">
        </div>

    </div>

    <!-- 修改密码对话框-->
    <div id="dlgchgpsw" class="easyui-dialog" title="密码修改"
         style="width:250px;height:310px;padding: 20px;"
         data-options="	iconCls: 'icon-man',
			buttons: [{	text:'修改',iconCls:'icon-ok',	handler:function(){
					alert('ok');
				}
			},{
				text:'取消',iconCls:'icon-cancel',
				handler:function(){
					alert('cancel');
				}
			}]
		">

        <div style="margin-bottom:20px">
            <input class="easyui-textbox tb" id="namechgpsw" prompt="输入用户名" iconwidth="28"
                   data-options="required:true,validType:'length[3,10]'"
                   style="width:100%;height:34px;padding:10px;">
        </div>
        <div style="margin-bottom:20px">
            <input id="pswoldchgpsw" class="easyui-passwordbox" prompt="旧密码" iconwidth="28"
                   data-options="required:true,validType:'length[3,10]'"
                   style="width:100%;height:34px;padding:10px">
        </div>
        <div style="margin-bottom:20px">
            <input id="pswnewchgpsw" class="easyui-passwordbox" prompt="新密码" iconwidth="28"
                   data-options="required:true,validType:'length[3,10]'"
                   style="width:100%;height:34px;padding:10px">
        </div>
        <div style="margin-bottom:20px">
            <input class="easyui-passwordbox" id="pswnewcfmchgpsw" prompt="确认密码" iconwidth="28"
                   data-options="required:true,validType:'length[3,10]'"
                   validtype="confirmPass['#pass']"
                   style="width:100%;height:34px;padding:10px">
        </div>
    </div>

  
  </body>

	<!--goose 位置服务 2018年4月1日  -->   

    <!-- 为树控件增加右键菜单用于选择 -->
    <div id="lbsrmenu" class="easyui-menu" style="width:120px;">
        <div id="lbsrmlogout" data-options="iconCls:'icon-cancel'">退出系统</div>
        <div class="menu-sep"></div>
        <div id="lbsrmrtstart" data-options="iconCls:'icon-ok'">开始实时监控</div>
        <div id="lbsrmrtstop" data-options="iconCls:'icon-ok'">结束实时监控</div>
        <div class="menu-sep"></div>
        <div id="lbsrmtrkq" data-options="iconCls:'icon-sum'">轨迹查询</div>
        <div id="lbsrmspedq" data-options="iconCls:'icon-sum'">超速查询</div>
        <div id="lbsrmfenceq" data-options="iconCls:'icon-sum'">电子围栏越界查询</div>
        <div id="lbsrmfoto" data-options="iconCls:'icon-sum'">照片查询</div>
        <div class="menu-sep"></div>
        <div id="lbsrmdis" data-options="iconCls:'icon-sum'">里程统计</div>
        <div id="lbsrmoil" data-options="iconCls:'icon-sum'">油耗统计</div>
        <div id="lbsrmhist" data-options="iconCls:'icon-sum'">历史推演</div>
        <div class="menu-sep"></div>
        <div id="lbsrmfenpt" data-options="iconCls:'icon-sum'">添加点电子围栏</div>
        <div id="lbsrmfenli" data-options="iconCls:'icon-sum'">添加线电子围栏</div>
        <div id="lbsrmfenpl" data-options="iconCls:'icon-sum'">添加面电子围栏</div>
		        <div id="lbsrmfenend" data-options="iconCls:'icon-sum'">结束电子围栏</div>
        <div id="lbsrmfenup" data-options="iconCls:'icon-sum'">提交电子围栏</div>
        <div class="menu-sep"></div>
        <div id="lbsrmtree" data-options="iconCls:'icon-reload'">设备/人员树</div>
        <div id="lbsrmposshare" data-options="iconCls:'icon-reload'">位置共享</div>
    </div>

	    <!-- 主工具栏 -->
	    <div id="lbsmaintb" class="easyui-window " title="位置服务"
         data-options="minimizable:false,maximizable:false,collapsible:true"
         style="width:200px;overflow:auto;">

		<div class="easyui-menu" data-options="inline:true" style="width:100%">

            <!-- 退出登录 -->
			<div id="lbsusrmgrlogin"  title="登录."
			data-options="plain:true,iconCls:'icon-search'"> 登录</div>

            <div title="退出登录" id="lbslogout" 
			data-options="iconCls:'icon-cancel'" >退出登录
            </div>
			<div class="menu-sep"></div>
			<div id="lbsutishareto" title="共享自己的位置给别人."
			data-options="plain:true,iconCls:'icon-search'">共享位置</div>
			<div class="menu-sep"></div>

            <div id="lbsutitree" title="设备/人员树."
                 data-options="plain:true,iconCls:'icon-search'">设备/人员树</div>
            <div class="menu-sep"></div>
            <div id="lbsutiupdateshare" title="更新共享用户信息."
                 data-options="plain:true,iconCls:'icon-search'">更新共享信息</div>
            <div class="menu-sep"></div>

            <!-- 实时监控 -->
            <div title="实时监控" >
				 <span>实时监控</span>
				 <div>
					 <div id="lbsrtstart" title="打开定时器，定时查询最新数据."
					 data-options="plain:true,iconCls:'icon-search'" >开始</div>
					 <div id="lbsrtstop" title="停止实时监控."
					 data-options="plain:true,iconCls:'icon-search'" >停止 </div>
				 </div>
            </div>
			<div class="menu-sep"></div>

            <!-- 轨迹查询 -->
            <div title="历史数据查询" data-options="iconCls:'icon-sum'" >
				<span>历史数据查询</span>
				<div>
					<div id="lbstrackquery" title="轨迹查询" 
					data-options="plain:true,iconCls:'icon-search'"> 轨迹查询</div>
					<div id="lbsspeedquery" title="超速查询" 
					data-options="plain:true,iconCls:'icon-search'"> 超速查询</div>
                    <div id="lbsfencequery" title="电子围栏查询"
                         data-options="plain:true,iconCls:'icon-search',disabled:true">电子围栏越界查询</div>
					<div id="lbsfotoquery" title="已上传照片查询" 
					data-options="plain:true,iconCls:'icon-search'"> 已上传照片查询</div>
				</div>            
            </div>
			<div class="menu-sep"></div>

            <!-- 数据统计 -->
            <div title="数据统计" data-options="iconCls:'icon-sum'" >
				<span>数据统计</span>
				<div>
					<div id="lbsdistancequery" title="里程统计" 
					data-options="plain:true,iconCls:'icon-search'">里程统计
					</div>
                    <div id="lbsoilquery" title="油耗统计"
                         style="display:none;"
                         data-options="plain:true,iconCls:'icon-search,disabled:true'">
                        油耗统计
                    </div>
                    <div id="lbshistoryquery" title="历史推演"
                         style="display:none;"
                         data-options="plain:true,iconCls:'icon-search,disabled:true'">
                        历史推演
                    </div>
				</div>
            </div>
			<div class="menu-sep"></div>

            <!-- 电子围栏 -->
            <div title="电子围栏" data-options="iconCls:'icon-sum'" >
				<span>电子围栏</span>
				<div>
					<div id="lbsfencept" title="添加或修改点电子围栏" 
					data-options="plain:true,iconCls:'icon-search'">添加点电子围栏</div>
					<div id="lbsfenceline" title="添加或修改线电子围栏"
					data-options="plain:true,iconCls:'icon-search'">添加线电子围栏</div>
					<div id="lbsfencepolygon" title="添加或修改面电子围栏" 
					data-options="plain:true,iconCls:'icon-search'">添加面电子围栏</div>
					<div id="lbsfenceupload" title="提交电子围栏" 
					data-options="plain:true,iconCls:'icon-search'">提交电子围栏</div>
				</div>
            </div>
			<div class="menu-sep"></div>

            <!--用户管理-->
            <div title="用户管理" data-options="iconCls:'icon-man'" >			
                <span>用户管理</span>
				<div>
					<div id="lbsusrmgrnew" title="注册."
                   data-options="plain:true,iconCls:'icon-search'"> 注册</div>
                    <div id="lbsusrmgrdel" title="删除用户."
                         style="display:none;"
                         data-options="plain:true,iconCls:'icon-search'">删除用户</div>
                    <div id="lbsusrmgrchgpsw" title="修改指定用户名的密码."
                         data-options="plain:true,iconCls:'icon-search'">修改密码</div>
                    <div id="lbsusrmgrchginfo" title="修改指定用户名的其他信息."
                         data-options="plain:true,iconCls:'icon-search'">修改用户信息</div>
                    <div id="lbsusrmgrgrant" title="设置指定用户的权限."
                         style="display:none;"
                         data-options="plain:true,iconCls:'icon-search'">管理权限</div>
                    <div id="lbsusrmgrstas" title="设置用户可以管理的站点."
                         style="display:none;"
                         data-options="plain:true,iconCls:'icon-search'">人员分组</div>
				</div>
            </div>
			<div class="menu-sep"></div>

            <div title="其它" data-options="iconCls:'icon-more'" >
                <span>其它</span>
				<div>
                    <div id="lbsutispeed" title="限速设置." style="display:none;"
                         data-options="plain:true,iconCls:'icon-search'">限速设置</div>
                    <div id="lbsutifence" title="显示电子围栏."
                         data-options="plain:true,iconCls:'icon-search,disabled:true'">显示电子围栏</div>
                </div>
            </div>			
		</div>
    </div>

    <!-- 站点信息状态窗口 -->
    <div id="lbstreedlg" class="easyui-window " title="信息窗口"
         style="width: 250px; height: 520px;"
         data-options="iconCls:'icon-large-smartart',minimizable:false">
        <div class="easyui-tabs" style="width:100%;height:100%;"
             data-options="tools:'#tab-tools'">
            <!-- 站点树checkbox:tree_ckbox,url:'jss/hnpcacode.json'-->
            <div title="设备/人员" style="padding:5px">
                <ul id="lbstreedp" class="easyui-tree"
                    data-options="method:'get', animate:true,
                    formatter:tree_formatno"></ul>
            </div>
        </div>
    </div>

    <!-- 登陆对话框-->
    <div id="lbsdlglogin" class="easyui-dialog " title="登陆"
         style="width:250px;padding: 20px;"
         data-options="	iconCls: 'icon-man',
			buttons: [{	text:'登陆',iconCls:'icon-ok',
                handler: lbs_login_ok },{
				text:'注册',iconCls:'icon-add',
				handler:lbs_login_register }]
		">
        <div style="margin-bottom:20px;">
            <input class="easyui-textbox"
                   id="lbsnamelogin" value="1710080017"
                   data-options="labelAlign:'left',labelPosition:'top',
                   prompt:'输入用户名' ,required:true,validType:'length[3,10]'"
                   style="width:190px;height:32px;">
        </div>
        <div style="margin-bottom:20px;">
            <input class="easyui-passwordbox" iconwidth="28" 
                   id="lbspswlogin"
                   data-options="labelAlign:'left', labelPosition:'top',
                   prompt:'输入密码',required:true,validType:'length[3,10]'"
                   style="width:190px;height:32px;padding:10px;">
        </div>
    </div>

    <!-- 新建用户对话框-->
    <div id="lbsdlgnewuser" class="easyui-dialog " title="创建用户"
         style="width:250px;height:500px;overflow-y:auto; padding: 20px; "
         data-options="	iconCls: 'icon-man',
			buttons: [{	text:'注册',iconCls:'icon-ok',	handler:function(){
					lbs_register();
				}
			},{
				text:'取消',iconCls:'icon-cancel',
				handler:function(){}
			}]
		">
        <div style="margin-bottom:20px">
            <input class="easyui-textbox tb" id="lbsregname"
                   prompt="输入用户名" iconwidth="28"
                   onkeyup="this.value=this.value.replace(/[^\w]/g,'')"
                   data-options="required:true,validType:'length[3,10]'"
                   style="width:100%;height:34px;padding:10px;">
        </div>
        <div style="margin-bottom:20px">
            <input class="easyui-textbox tb" id="lbsregchinesename"
                   prompt="输入中文名" iconwidth="28"
                   data-options="required:false,validType:'length[3,10]'"
                   style="width:100%;height:34px;padding:10px;">
        </div>
        <div style="margin-bottom:20px">
            <input id="lbsregpsw" class="easyui-passwordbox"
                   prompt="输入密码" iconwidth="28"
                   onkeyup="this.value=this.value.replace(/[^\w]/g,'')"
                   data-options="required:true,validType:'length[3,10]'"
                   style="width:100%;height:34px;padding:10px">
        </div>
        <div style="margin-bottom:20px">
            <input class="easyui-passwordbox" id="lbsergegpswconfirm"
                   prompt="确认密码" iconwidth="28"
                   onkeyup="this.value=this.value.replace(/[^\w]/g,'')"
                   data-options="required:true,validType:'length[3,10]'"
                   validtype="confirmPass['#lbsregpsw']"
                   style="width:100%;height:34px;padding:10px">
        </div>
        <div style="margin-bottom:20px">
            <select id="lbsregsex" class="easyui-combobox"
                    style="width: 100%; height: 34px; padding: 10px;">
                <option>男</option>
                <option>女</option>
            </select>
        </div>
        <div style="margin-bottom:20px">
            <input class="easyui-textbox tb" id="lbsregphone"
                   prompt="输入电话号码" iconwidth="28"
                   data-options="required:false"
                   onkeyup="this.value=this.value.replace(/[^\d]/g,'') "
                   style="width:100%;height:34px;padding:10px;">
        </div>
        <div style="margin-bottom:20px">
            <input class="easyui-textbox tb" id="lbsregimei"
                   prompt="输入电话IMEI号" iconwidth="28"
                   onkeyup="this.value=this.value.replace(/[^\d]/g,'') "
                   data-options="required:true"
                   style="width:100%;height:34px;padding:10px;">
        </div>
        <div style="margin-bottom:20px">
            <input class="easyui-textbox tb" id="lbsregrole"
                   prompt="输入组号或者角色号" iconwidth="28"
                   data-options="required:true"
                   style="width:100%;height:34px;padding:10px;">
        </div>
        <div style="margin-bottom:20px">
            <input class="easyui-textbox tb" id="lbsregemail"
                   prompt="输入邮箱" iconwidth="28"
                   data-options="required:false,validType:'email'"
                   style="width:100%;height:34px;padding:10px;">
        </div>
        <div style="margin-bottom:20px">
            <input class="easyui-textbox tb" id="lbsregfence"
                   prompt="输入电子围栏id号" iconwidth="28"
                   data-options="required:false"
                   style="width:100%;height:34px;padding:10px;">
        </div>

    </div>

    <!-- 修改信息（角色、设备id、电子围栏id、email、phone）对话框-->
    <div id="lbsdlgchginfo" class="easyui-dialog " title="修改用户信息"
         style="width: 250px; overflow-y: auto; padding: 20px;"
         data-options="	iconCls: 'icon-man',
			buttons: [{	text:'修改',iconCls:'icon-ok',	handler:function(){
					lbs_modify_info();
				}
			},{
				text:'取消',iconCls:'icon-cancel',
				handler:function(){

				}
			}]
		">
        <div style="margin-bottom:20px">
            <input class="easyui-textbox tb" id="lbschginfoname"
                   prompt="输入用户名" iconwidth="28"
                   onkeyup="this.value=this.value.replace(/[^\w]/g,'')"
                   data-options="required:true,validType:'length[3,10]'"
                   style="width:100%;height:34px;padding:10px;">
        </div>
        <div style="margin-bottom:20px">
            <input class="easyui-textbox tb" id="lbschginfophone"
                   prompt="输入新的电话号码" iconwidth="28"
                   data-options="required:false"
                   onkeyup="this.value=this.value.replace(/[^\d]/g,'') "
                   style="width:100%;height:34px;padding:10px;">
        </div>
        <div style="margin-bottom:20px">
            <input class="easyui-textbox tb" id="lbschginfoimei"
                   prompt="输入新的电话IMEI号" iconwidth="28"
                   onkeyup="this.value=this.value.replace(/[^\d]/g,'') "
                   data-options="required:true"
                   style="width:100%;height:34px;padding:10px;">
        </div>
        <div style="margin-bottom:20px">
            <input class="easyui-textbox tb" id="lbschginforole"
                   prompt="输入新的组号或者角色号" iconwidth="28"
                   data-options="required:true"
                   style="width:100%;height:34px;padding:10px;">
        </div>
        <div style="margin-bottom:20px">
            <input class="easyui-textbox tb" id="lbschginfoemail"
                   prompt="输入新的邮箱" iconwidth="28"
                   data-options="required:false,validType:'email'"
                   style="width:100%;height:34px;padding:10px;">
        </div>
        <div style="margin-bottom:20px">
            <input class="easyui-textbox tb" id="lbschginfofence"
                   prompt="输入新的电子围栏id号" iconwidth="28"
                   data-options="required:false"
                   style="width:100%;height:34px;padding:10px;">
        </div>

    </div>

    <!-- 修改密码对话框-->
    <div id="lbsdlgchgpsw" class="easyui-dialog " title="密码修改"
         style="width:250px;padding: 20px;"
         data-options="	iconCls: 'icon-man',
			buttons: [{	text:'修改',iconCls:'icon-ok',	handler:function(){
					lbs_modify_psw();
				}
			},{
				text:'取消',iconCls:'icon-cancel',
				handler:function(){
					
				}
			}]
		">

        <div style="margin-bottom:20px">
            <input class="easyui-textbox tb" id="lbschgpswname" prompt="输入用户名" iconwidth="28"
                   data-options="required:true,validType:'length[3,10]'"
                   style="width:100%;height:34px;padding:10px;">
        </div>
        <div style="margin-bottom:20px">
            <input id="lbschgpswold" class="easyui-passwordbox" prompt="旧密码" iconwidth="28"
                   data-options="required:true,validType:'length[3,10]'"
                   style="width:100%;height:34px;padding:10px">
        </div>
        <div style="margin-bottom:20px">
            <input id="lbschgpswnew" class="easyui-passwordbox" prompt="新密码" iconwidth="28"
                   data-options="required:true,validType:'length[3,10]'"
                   style="width:100%;height:34px;padding:10px">
        </div>
        <div style="margin-bottom:20px">
            <input class="easyui-passwordbox" id="lbschgpswnew2" prompt="确认密码" iconwidth="28"
                   data-options="required:true,validType:'length[3,10]'"
                   validtype="confirmPass['#lbschgpswnew']"
                   style="width:100%;height:34px;padding:10px">
        </div>
    </div>

 
	
    <div id="lbsspeed_limit_dlg" class="easyui-dialog lbsdlgwin" title="限速设置"
         data-options="
         iconCls: 'icon-speed' ,
         buttons:
         [{
         text:'确定',
         iconCls:'icon-ok',
         handler:function(){
         set_speed_limit();
         }
         },
         {
         text:'取消',
         handler:function(){
         $('#speed_limit_dlg').dialog('close');
         }
         }]
         ">
        <p>请设置限速（单位km/h）</p>
        <p>
            最高限速：
            <input id="lbstxtspeedmax" type="text" data-options="prompt:'最高限速...'"
                   class="easyui-textbox speedinput" title="上限速度（km/h）" />
        </p>
        <p>
            最低限速：
            <input id="lbstxtspeedmin" type="text" data-options="prompt:'最低限速...'"
                   class="easyui-textbox speedinput" title="下限速度（km/h）" />
        </p>
    </div>

    <!-- 查询窗口 -->
    <div id="lbsdlgstat" class="easyui-dialog lbsdlgwin" title="历史信息查询、统计"
         data-options="iconCls:'icon-ok'" style=" width:315px; height:360px;">
        <div style="margin-bottom:5px">
            <div class="divpadding">
                &nbsp; &nbsp; 查询项:
                <select id="lbsstate" class="easyui-combobox" name="state"
                        style="width:196px;">
                    <option value="WARN">预警统计</option>
                    <option value="OVSP">车辆超速统计</option>
                    <option value="FENC">电子围栏统计</option>
                    <option value="DIST">里程统计</option>
                    <option value="TRAK">轨迹查询</option>
                    <option value="FOTO">已上传照片查询</option>
                </select>

            </div>
            <div class="divpadding">
                开始时间:
                <input id="lbstqbeginstat" class="easyui-datetimebox"
                       value="07/21/2010 00:24:49"
                       required style="width:200px;" />
            </div>
            <div class="divpadding">
                结束时间:
                <input id="lbstqendstat" class="easyui-datetimebox"
                       value="07/21/2010 23:24:49"
                       required style="width:200px" />
            </div>
            <div class="divpadding" id="selcarorper">
                <span id="lbsncp">选择用户:</span>
                <input id="lbsselidstat" class="easyui-combobox"
                       name="carid" required style="width:200px;"
                       data-options="valueField:'id',
                           textField:'text',fitColumns: 'true'" />
            </div>
            <div style="text-align:center;padding:5px;width:200px;">
                <a href="#" class="easyui-linkbutton" data-options="iconCls:'icon-search'"
                   onclick="lbs_query_ok()">查询</a>
                <a href="#" class="easyui-linkbutton" data-options="iconCls:'icon-clear'"
                   onclick="lbs_query_cancel()">清空</a>
            <a href="#" id="lbsbtndetail" class="easyui-linkbutton"
               style="float:right; "
               data-options="iconCls:'icon-about'"
               onclick="get_detail();">>>详细信息>></a>
            </div>
        </div>

        <!--<div style="margin: 9px 9px 15px 9px;">查询结果</div>-->
        <div class="divpadding" style="margin: 9px 24px 30px 9px;">
            <b>查询结果</b>&nbsp;&nbsp;<span id="lbsidxoflen"></span>
        </div>
        <div style="margin:0 15px;">
            <input id="lbssliderhstat" class="easyui-slider" value="11"
                   style="width:245px;"
                   data-options="mode:'h',showTip:true,            
			onChange:valueOnChange" />
        </div>

        <div class="divpadding">
            定位时间:
            <input class="easyui-textbox" id="loctimestat"
                   data-options="readonly:true"
                   style="width:198px;height:22px" />

        </div>
    </div>

    <!-- 人员提交信息详细记录查看对话框 -->
    <div id="lbsdlgdetail" class="easyui-window" title="人员信息详细记录查看对话框"
         data-options="iconCls:'icon-save',minimizable:false,maximizable:false,collapsible:true"
         style="width:750px;height:480px;padding:10px;">
            <div>
                <p id="lbsdetailinfo" style="text-align:center;height:100px;">
                    人员提交信息详细记录查看对话框
                </p>
            </div>
            <div class="ck-slide">
                <ul class="ck-slide-wrapper">
                    <li>
                        <a href="#">
                            <img id="lbsimg1" src="" alt="">
                        </a>
                    </li>
                </ul>
                <a href="#" class="ctrl-slide ck-prev" style="opacity: 0.55;">上一张</a>
                <a href="#" class="ctrl-slide ck-next" style="opacity: 0.55;">下一张</a>
                <!--<div class="ck-slidebox" style="margin-left: -54px;">
                <div class="slideWrap">
                    <ul class="dot-wrap">
                        <li id="li1" class="current"><em>1</em></li>
                    </ul>
                </div>
            </div>-->
            </div>
    </div>

    <!-- 电子围栏设置窗口 -->
    <div id="lbsdlgfenceinfo" class="easyui-dialog "
         title="电子围栏信息对话框"
         style="width:400px;height:400px;padding:10px"
         data-options="
                iconCls: 'icon-save',
                buttons: [
                {
                    text:'保存',
                    iconCls:'icon-ok',
                    handler:function(){
                        lbs_ok_fence_info(true);
                    }
                },
                {
                    text:'取消',
                    iconCls:'icon-cancel',
                    handler:function(){
                        lbs_ok_fence_info(false);
                     }
                  } ] ">
        <div style="margin-bottom:20px">
            <input id="lbsfencetype" class="easyui-textbox" label="类型:"
                   labelposition="left" style="width:100%;">
        </div>
        <div style="margin-bottom:20px">
            <input id="lbsfencedist" class="easyui-textbox" label="距离（m）:"
                   labelposition="left" style="width:100%;">
        </div>
        <div style="margin-bottom:20px">
		 <span id='lbsspanhideidx' style='display:none;'></span>
            <input id="lbsfencedescription" class="easyui-textbox"
                   label="描述（64个字符或者32个汉字）:"
                   labelposition="top" multiline="true"
                   value="This TextBox will allow the user to enter multiple lines of text."
                   style="width:100%;height:180px;">
        </div>
    </div>
    <!-- LBS服务新菜单 goose-->
	
	
</body>
</html>

